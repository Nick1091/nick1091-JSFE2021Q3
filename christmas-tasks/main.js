(()=>{var t={211:function(t,e){!function(t){"use strict";function e(t){return"object"==typeof t&&"function"==typeof t.to}function n(t){t.parentElement.removeChild(t)}function r(t){return null!=t}function o(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,n){n>0&&(u(t,e),setTimeout((function(){p(t,e)}),n))}function s(t){return Math.max(Math.min(t,100),0)}function l(t){return Array.isArray(t)?t:[t]}function c(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function p(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function f(t,e){return 100/(e-t)}function h(t,e,n){return 100*e/(t[n+1]-t[n])}function m(t,e){for(var n=1;t>=e[n];)n+=1;return n}function g(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=m(n,t),o=t[r-1],i=t[r],a=e[r-1],s=e[r];return a+function(t,e){return h(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([o,i],n)/f(a,s)}function v(t,e,n,r){if(100===r)return r;var o=m(r,t),i=t[o-1],a=t[o];return n?r-i>(a-i)/2?a:i:e[o-1]?t[o-1]+function(t,e){return Math.round(t/e)*e}(r-t[o-1],e[o-1]):r}var S,y;t.PipsMode=void 0,(y=t.PipsMode||(t.PipsMode={})).Range="range",y.Steps="steps",y.Positions="positions",y.Count="count",y.Values="values",t.PipsType=void 0,(S=t.PipsType||(t.PipsType={}))[S.None=-1]="None",S[S.NoValue=0]="NoValue",S[S.LargeValue=1]="LargeValue",S[S.SmallValue=2]="SmallValue";var b=function(){function t(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e;var o=[];for(Object.keys(t).forEach((function(e){o.push([l(t[e]),e])})),o.sort((function(t,e){return t[0][0]-e[0][0]})),r=0;r<o.length;r++)this.handleEntryPoint(o[r][1],o[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return t.prototype.getDistance=function(t){for(var e=[],n=0;n<this.xNumSteps.length-1;n++)e[n]=h(this.xVal,t,n);return e},t.prototype.getAbsoluteDistance=function(t,e,n){var r,o=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[o+1];)o++;else t===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);n||t!==this.xPct[o+1]||o++,null===e&&(e=[]);var i=1,a=e[o],s=0,l=0,c=0,u=0;for(r=n?(t-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):(this.xPct[o+1]-t)/(this.xPct[o+1]-this.xPct[o]);a>0;)s=this.xPct[o+1+u]-this.xPct[o+u],e[o+u]*i+100-100*r>100?(l=s*r,i=(a-100*r)/e[o+u],r=1):(l=e[o+u]*s/100*i,i=0),n?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),a=e[o+u]*i;return t+c},t.prototype.toStepping=function(t){return g(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=m(n,e),o=t[r-1],i=t[r],a=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([o,i],(n-a)*f(a,e[r]))}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return v(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,n){var r=m(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},t.prototype.getNearbySteps=function(t){var e=m(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(c);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var n;if(!i(n="min"===t?0:"max"===t?100:parseFloat(t))||!i(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(e[0]);var r=Number(e[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=h([this.xVal[t],this.xVal[t+1]],e,0)/f(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],r=Math.ceil(Number(n.toFixed(3))-1),o=this.xVal[t]+this.xNumSteps[t]*r;this.xHighestCompleteStep[t]=o}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),x={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},w={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},E=".__tooltips",N=".__aria";function P(t,e){if(!i(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function C(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function O(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function k(t,e){if(!i(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function L(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new b(e,t.snap||!1,t.singleStep)}function M(t,e){if(e=l(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function V(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function A(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function U(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function j(t,e){var n,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function F(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function T(t,e){if(!i(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function $(t,e){if(!i(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function _(t,e){var n;if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],n=0;n<t.spectrum.xNumSteps.length-1;n++)if(t.padding[0][n]<0||t.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=e[0]+e[1],o=t.spectrum.xVal[0];if(r/(t.spectrum.xVal[t.spectrum.xVal.length-1]-o)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function D(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function q(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,o=e.indexOf("fixed")>=0,i=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,s=e.indexOf("unconstrained")>=0,l=e.indexOf("drag-all")>=0;if(o){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");T(t,t.start[1]-t.start[0])}if(s&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||i,drag:r,dragAll:l,fixed:o,snap:i,hover:a,unconstrained:s}}function H(t,n){if(!1!==n)if(!0===n||e(n)){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(n)}else{if((n=l(n)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");n.forEach((function(t){if("boolean"!=typeof t&&!e(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),t.tooltips=n}}function z(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function I(t,n){if(!e(n))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=n}function R(t,n){if(!function(t){return e(t)&&"function"==typeof t.from}(n))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=n}function J(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function Y(t,e){t.documentElement=e}function B(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function X(t,e){if("object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach((function(n){t.cssClasses[n]=t.cssPrefix+e[n]}))):t.cssClasses=e}function W(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:x,format:x},n={step:{r:!1,t:P},keyboardPageMultiplier:{r:!1,t:C},keyboardMultiplier:{r:!1,t:O},keyboardDefaultStep:{r:!1,t:k},start:{r:!0,t:M},connect:{r:!0,t:j},direction:{r:!0,t:D},snap:{r:!1,t:V},animate:{r:!1,t:A},animationDuration:{r:!1,t:U},range:{r:!0,t:L},orientation:{r:!1,t:F},margin:{r:!1,t:T},limit:{r:!1,t:$},padding:{r:!1,t:_},behaviour:{r:!0,t:q},ariaFormat:{r:!1,t:I},format:{r:!1,t:R},tooltips:{r:!1,t:H},keyboardSupport:{r:!0,t:J},documentElement:{r:!1,t:Y},cssPrefix:{r:!0,t:B},cssClasses:{r:!0,t:X},handleAttributes:{r:!1,t:z}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:w,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach((function(i){if(r(t[i])||void 0!==o[i])n[i].t(e,r(t[i])?t[i]:o[i]);else if(n[i].r)throw new Error("noUiSlider: '"+i+"' is required.")})),e.pips=t.pips;var i=document.createElement("div"),a=void 0!==i.style.msTransform,s=void 0!==i.style.transform;e.transformRule=s?"transform":a?"msTransform":"webkitTransform";return e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function G(e,i,c){var f,h,m,g,v,S,y,b=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},x=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),w=e,P=i.spectrum,C=[],O=[],k=[],L=0,M={},V=e.ownerDocument,A=i.documentElement||V.documentElement,U=V.body,j="rtl"===V.dir||1===i.ort?0:100;function F(t,e){var n=V.createElement("div");return e&&u(n,e),t.appendChild(n),n}function T(t,e){var n=F(t,i.cssClasses.origin),r=F(n,i.cssClasses.handle);if(F(r,i.cssClasses.touchArea),r.setAttribute("data-handle",String(e)),i.keyboardSupport&&(r.setAttribute("tabindex","0"),r.addEventListener("keydown",(function(t){return function(t,e){if(D()||q(e))return!1;var n=["Left","Right"],r=["Down","Up"],o=["PageDown","PageUp"],a=["Home","End"];i.dir&&!i.ort?n.reverse():i.ort&&!i.dir&&(r.reverse(),o.reverse());var s,l=t.key.replace("Arrow",""),c=l===o[0],u=l===o[1],p=l===r[0]||l===n[0]||c,d=l===r[1]||l===n[1]||u,f=l===a[0],h=l===a[1];if(!(p||d||f||h))return!0;if(t.preventDefault(),d||p){var m=p?0:1,g=vt(e)[m];if(null===g)return!1;!1===g&&(g=P.getDefaultStep(O[e],p,i.keyboardDefaultStep)),g*=u||c?i.keyboardPageMultiplier:i.keyboardMultiplier,g=Math.max(g,1e-7),g*=p?-1:1,s=C[e]+g}else s=h?i.spectrum.xVal[i.spectrum.xVal.length-1]:i.spectrum.xVal[0];return dt(e,P.toStepping(s),!0,!0),at("slide",e),at("update",e),at("change",e),at("set",e),!1}(t,e)}))),void 0!==i.handleAttributes){var o=i.handleAttributes[e];Object.keys(o).forEach((function(t){r.setAttribute(t,o[t])}))}return r.setAttribute("role","slider"),r.setAttribute("aria-orientation",i.ort?"vertical":"horizontal"),0===e?u(r,i.cssClasses.handleLower):e===i.handles-1&&u(r,i.cssClasses.handleUpper),n}function $(t,e){return!!e&&F(t,i.cssClasses.connect)}function _(t,e){return!(!i.tooltips||!i.tooltips[e])&&F(t.firstChild,i.cssClasses.tooltip)}function D(){return w.hasAttribute("disabled")}function q(t){return h[t].hasAttribute("disabled")}function H(){v&&(it("update"+E),v.forEach((function(t){t&&n(t)})),v=null)}function z(){H(),v=h.map(_),ot("update"+E,(function(t,e,n){if(v&&i.tooltips&&!1!==v[e]){var r=t[e];!0!==i.tooltips[e]&&(r=i.tooltips[e].to(n[e])),v[e].innerHTML=r}}))}function I(t,e){return t.map((function(t){return P.fromStepping(e?P.getStep(t):t)}))}function R(e){var n,r=function(e){if(e.mode===t.PipsMode.Range||e.mode===t.PipsMode.Steps)return P.xVal;if(e.mode===t.PipsMode.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=e.values-1,r=100/n,o=[];n--;)o[n]=n*r;return o.push(100),I(o,e.stepped)}return e.mode===t.PipsMode.Positions?I(e.values,e.stepped):e.mode===t.PipsMode.Values?e.stepped?e.values.map((function(t){return P.fromStepping(P.getStep(P.toStepping(t)))})):e.values:[]}(e),o={},i=P.xVal[0],a=P.xVal[P.xVal.length-1],s=!1,l=!1,c=0;return(n=r.slice().sort((function(t,e){return t-e})),r=n.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==i&&(r.unshift(i),s=!0),r[r.length-1]!==a&&(r.push(a),l=!0),r.forEach((function(n,i){var a,u,p,d,f,h,m,g,v,S,y=n,b=r[i+1],x=e.mode===t.PipsMode.Steps;for(x&&(a=P.xNumSteps[i]),a||(a=b-y),void 0===b&&(b=y),a=Math.max(a,1e-7),u=y;u<=b;u=Number((u+a).toFixed(7))){for(g=(f=(d=P.toStepping(u))-c)/(e.density||1),S=f/(v=Math.round(g)),p=1;p<=v;p+=1)o[(h=c+p*S).toFixed(5)]=[P.fromStepping(h),0];m=r.indexOf(u)>-1?t.PipsType.LargeValue:x?t.PipsType.SmallValue:t.PipsType.NoValue,!i&&s&&u!==b&&(m=0),u===b&&l||(o[d.toFixed(5)]=[u,m]),c=d}})),o}function J(e,n,r){var o,a,s=V.createElement("div"),l=((o={})[t.PipsType.None]="",o[t.PipsType.NoValue]=i.cssClasses.valueNormal,o[t.PipsType.LargeValue]=i.cssClasses.valueLarge,o[t.PipsType.SmallValue]=i.cssClasses.valueSub,o),c=((a={})[t.PipsType.None]="",a[t.PipsType.NoValue]=i.cssClasses.markerNormal,a[t.PipsType.LargeValue]=i.cssClasses.markerLarge,a[t.PipsType.SmallValue]=i.cssClasses.markerSub,a),p=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],d=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];function f(t,e){var n=e===i.cssClasses.value,r=n?l:c;return e+" "+(n?p:d)[i.ort]+" "+r[t]}return u(s,i.cssClasses.pips),u(s,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(e).forEach((function(o){!function(e,o,a){if((a=n?n(o,a):a)!==t.PipsType.None){var l=F(s,!1);l.className=f(a,i.cssClasses.marker),l.style[i.style]=e+"%",a>t.PipsType.NoValue&&((l=F(s,!1)).className=f(a,i.cssClasses.value),l.setAttribute("data-value",String(o)),l.style[i.style]=e+"%",l.innerHTML=String(r.to(o)))}}(o,e[o][0],e[o][1])})),s}function Y(){g&&(n(g),g=null)}function B(t){Y();var e=R(t),n=t.filter,r=t.format||{to:function(t){return String(Math.round(t))}};return g=w.appendChild(J(e,n,r))}function X(){var t=f.getBoundingClientRect(),e="offset"+["Width","Height"][i.ort];return 0===i.ort?t.width||f[e]:t.height||f[e]}function G(t,e,n,r){var o=function(o){var a,s,l=function(t,e,n){var r=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),i=0===t.type.indexOf("pointer"),a=0,s=0;if(0===t.type.indexOf("MSPointer")&&(i=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(r){var l=function(e){var r=e.target;return r===n||n.contains(r)||t.composed&&t.composedPath().shift()===n};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,l);if(c.length>1)return!1;a=c[0].pageX,s=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,l);if(!u)return!1;a=u.pageX,s=u.pageY}}return e=e||d(V),(o||i)&&(a=t.clientX+e.x,s=t.clientY+e.y),t.pageOffset=e,t.points=[a,s],t.cursor=o||i,t}(o,r.pageOffset,r.target||e);return!!l&&!(D()&&!r.doNotReject)&&(a=w,s=i.cssClasses.tap,!((a.classList?a.classList.contains(s):new RegExp("\\b"+s+"\\b").test(a.className))&&!r.doNotReject))&&!(t===b.start&&void 0!==l.buttons&&l.buttons>1)&&(!r.hover||!l.buttons)&&(x||l.preventDefault(),l.calcPoint=l.points[i.ort],void n(l,r))},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!!x&&{passive:!0}),a.push([t,o])})),a}function K(t){var e,n,r,o,a,l,c=100*(t-(e=f,n=i.ort,r=e.getBoundingClientRect(),o=e.ownerDocument,a=o.documentElement,l=d(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),n?r.top+l.y-a.clientTop:r.left+l.x-a.clientLeft))/X();return c=s(c),i.dir?100-c:c}function Q(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&tt(t,e)}function Z(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return tt(t,e);var n=(i.dir?-1:1)*(t.calcPoint-e.startCalcPoint);ct(n>0,100*n/e.baseSize,e.locations,e.handleNumbers,e.connect)}function tt(t,e){e.handle&&(p(e.handle,i.cssClasses.active),L-=1),e.listeners.forEach((function(t){A.removeEventListener(t[0],t[1])})),0===L&&(p(w,i.cssClasses.drag),pt(),t.cursor&&(U.style.cursor="",U.removeEventListener("selectstart",o))),e.handleNumbers.forEach((function(t){at("change",t),at("set",t),at("end",t)}))}function et(t,e){if(!e.handleNumbers.some(q)){var n;1===e.handleNumbers.length&&(n=h[e.handleNumbers[0]].children[0],L+=1,u(n,i.cssClasses.active)),t.stopPropagation();var r=[],a=G(b.move,A,Z,{target:t.target,handle:n,connect:e.connect,listeners:r,startCalcPoint:t.calcPoint,baseSize:X(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:O.slice()}),s=G(b.end,A,tt,{target:t.target,handle:n,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),l=G("mouseout",A,Q,{target:t.target,handle:n,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers});r.push.apply(r,a.concat(s,l)),t.cursor&&(U.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&u(w,i.cssClasses.drag),U.addEventListener("selectstart",o,!1)),e.handleNumbers.forEach((function(t){at("start",t)}))}}function nt(t){t.stopPropagation();var e=K(t.calcPoint),n=function(t){var e=100,n=!1;return h.forEach((function(r,o){if(!q(o)){var i=O[o],a=Math.abs(i-t);(a<e||a<=e&&t>i||100===a&&100===e)&&(n=o,e=a)}})),n}(e);!1!==n&&(i.events.snap||a(w,i.cssClasses.tap,i.animationDuration),dt(n,e,!0,!0),pt(),at("slide",n,!0),at("update",n,!0),i.events.snap?et(t,{handleNumbers:[n]}):(at("change",n,!0),at("set",n,!0)))}function rt(t){var e=K(t.calcPoint),n=P.getStep(e),r=P.fromStepping(n);Object.keys(M).forEach((function(t){"hover"===t.split(".")[0]&&M[t].forEach((function(t){t.call(St,r)}))}))}function ot(t,e){M[t]=M[t]||[],M[t].push(e),"update"===t.split(".")[0]&&h.forEach((function(t,e){at("update",e)}))}function it(t){var e=t&&t.split(".")[0],n=e?t.substring(e.length):t;Object.keys(M).forEach((function(t){var r=t.split(".")[0],o=t.substring(r.length);e&&e!==r||n&&n!==o||function(t){return t===N||t===E}(o)&&n!==o||delete M[t]}))}function at(t,e,n){Object.keys(M).forEach((function(r){var o=r.split(".")[0];t===o&&M[r].forEach((function(t){t.call(St,C.map(i.format.to),e,C.slice(),n||!1,O.slice(),St)}))}))}function st(t,e,n,r,o,a){var l;return h.length>1&&!i.events.unconstrained&&(r&&e>0&&(l=P.getAbsoluteDistance(t[e-1],i.margin,!1),n=Math.max(n,l)),o&&e<h.length-1&&(l=P.getAbsoluteDistance(t[e+1],i.margin,!0),n=Math.min(n,l))),h.length>1&&i.limit&&(r&&e>0&&(l=P.getAbsoluteDistance(t[e-1],i.limit,!1),n=Math.min(n,l)),o&&e<h.length-1&&(l=P.getAbsoluteDistance(t[e+1],i.limit,!0),n=Math.max(n,l))),i.padding&&(0===e&&(l=P.getAbsoluteDistance(0,i.padding[0],!1),n=Math.max(n,l)),e===h.length-1&&(l=P.getAbsoluteDistance(100,i.padding[1],!0),n=Math.min(n,l))),!((n=s(n=P.getStep(n)))===t[e]&&!a)&&n}function lt(t,e){var n=i.ort;return(n?e:t)+", "+(n?t:e)}function ct(t,e,n,r,o){var i=n.slice(),a=r[0],s=[!t,t],l=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=st(i,t,i[t]+e,s[n],l[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)})):s=l=[!0];var c=!1;r.forEach((function(t,r){c=dt(t,n[t]+e,s[r],l[r])||c})),c&&(r.forEach((function(t){at("update",t),at("slide",t)})),null!=o&&at("drag",a))}function ut(t,e){return i.dir?100-t-e:t}function pt(){k.forEach((function(t){var e=O[t]>50?-1:1,n=3+(h.length+e*t);h[t].style.zIndex=String(n)}))}function dt(t,e,n,r,o){return o||(e=st(O,t,e,n,r,!1)),!1!==e&&(function(t,e){O[t]=e,C[t]=P.fromStepping(e);var n="translate("+lt(ut(e,0)-j+"%","0")+")";h[t].style[i.transformRule]=n,ft(t),ft(t+1)}(t,e),!0)}function ft(t){if(m[t]){var e=0,n=100;0!==t&&(e=O[t-1]),t!==m.length-1&&(n=O[t]);var r=n-e,o="translate("+lt(ut(e,r)+"%","0")+")",a="scale("+lt(r/100,"1")+")";m[t].style[i.transformRule]=o+" "+a}}function ht(t,e){return null===t||!1===t||void 0===t?O[e]:("number"==typeof t&&(t=String(t)),!1!==(t=i.format.from(t))&&(t=P.toStepping(t)),!1===t||isNaN(t)?O[e]:t)}function mt(t,e,n){var r=l(t),o=void 0===O[0];e=void 0===e||e,i.animate&&!o&&a(w,i.cssClasses.tap,i.animationDuration),k.forEach((function(t){dt(t,ht(r[t],t),!0,!1,n)}));var s=1===k.length?0:1;if(o&&P.hasNoSize()&&(n=!0,O[0]=0,k.length>1)){var c=100/(k.length-1);k.forEach((function(t){O[t]=t*c}))}for(;s<k.length;++s)k.forEach((function(t){dt(t,O[t],!0,!0,n)}));pt(),k.forEach((function(t){at("update",t),null!==r[t]&&e&&at("set",t)}))}function gt(t){if(void 0===t&&(t=!1),t)return 1===C.length?C[0]:C.slice(0);var e=C.map(i.format.to);return 1===e.length?e[0]:e}function vt(t){var e=O[t],n=P.getNearbySteps(e),r=C[t],o=n.thisStep.step,a=null;if(i.snap)return[r-n.stepBefore.startValue||null,n.stepAfter.startValue-r||null];!1!==o&&r+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===e?o=null:0===e&&(a=null);var s=P.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,o]}u(y=w,i.cssClasses.target),0===i.dir?u(y,i.cssClasses.ltr):u(y,i.cssClasses.rtl),0===i.ort?u(y,i.cssClasses.horizontal):u(y,i.cssClasses.vertical),u(y,"rtl"===getComputedStyle(y).direction?i.cssClasses.textDirectionRtl:i.cssClasses.textDirectionLtr),f=F(y,i.cssClasses.base),function(t,e){var n=F(e,i.cssClasses.connects);h=[],(m=[]).push($(n,t[0]));for(var r=0;r<i.handles;r++)h.push(T(e,r)),k[r]=r,m.push($(n,t[r+1]))}(i.connect,f),(S=i.events).fixed||h.forEach((function(t,e){G(b.start,t.children[0],et,{handleNumbers:[e]})})),S.tap&&G(b.start,f,nt,{}),S.hover&&G(b.move,f,rt,{hover:!0}),S.drag&&m.forEach((function(t,e){if(!1!==t&&0!==e&&e!==m.length-1){var n=h[e-1],r=h[e],o=[t],a=[n,r],s=[e-1,e];u(t,i.cssClasses.draggable),S.fixed&&(o.push(n.children[0]),o.push(r.children[0])),S.dragAll&&(a=h,s=k),o.forEach((function(e){G(b.start,e,et,{handles:a,handleNumbers:s,connect:t})}))}})),mt(i.start),i.pips&&B(i.pips),i.tooltips&&z(),it("update"+N),ot("update"+N,(function(t,e,n,r,o){k.forEach((function(t){var e=h[t],r=st(O,t,0,!0,!0,!0),a=st(O,t,100,!0,!0,!0),s=o[t],l=String(i.ariaFormat.to(n[t]));r=P.fromStepping(r).toFixed(1),a=P.fromStepping(a).toFixed(1),s=P.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",r),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",l)}))}));var St={destroy:function(){for(it(N),it(E),Object.keys(i.cssClasses).forEach((function(t){p(w,i.cssClasses[t])}));w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return k.map(vt)},on:ot,off:it,get:gt,set:mt,setHandle:function(t,e,n,r){if(!((t=Number(t))>=0&&t<k.length))throw new Error("noUiSlider: invalid handle number, got: "+t);dt(t,ht(e,t),!0,!0,r),at("update",t),n&&at("set",t)},reset:function(t){mt(i.start,t)},__moveHandles:function(t,e,n){ct(t,e,O,n)},options:c,updateOptions:function(t,e){var n=gt(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(e){void 0!==t[e]&&(c[e]=t[e])}));var a=W(c);o.forEach((function(e){void 0!==t[e]&&(i[e]=a[e])})),P=a.spectrum,i.margin=a.margin,i.limit=a.limit,i.padding=a.padding,i.pips?B(i.pips):Y(),i.tooltips?z():H(),O=[],mt(r(t.start)?t.start:n,e)},target:w,removePips:Y,removeTooltips:H,getPositions:function(){return O.slice()},getTooltips:function(){return v},getOrigins:function(){return h},pips:B};return St}function K(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=G(t,W(e),e);return t.noUiSlider=n,n}var Q={__spectrum:b,cssClasses:w,create:K};t.create=K,t.cssClasses=w,t.default=Q,Object.defineProperty(t,"__esModule",{value:!0})}(e)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";class t{constructor(t,e){this.arr=[],this.array=[],this.arr=t,localStorage.getItem("object")&&(e=JSON.parse(localStorage.getItem("object")||"")),this.ObjectFlag=e}getShape(){const t=Object.keys(this.ObjectFlag);for(let e=0;e<t.length-1;e++){const n=Object.keys(this.ObjectFlag[`${t[e]}`]),r=document.querySelector(`.${t[e]}`);for(let o=0;o<n.length;o++)1==this.ObjectFlag[`${t[e]}`][`${n[o]}`]?r.querySelectorAll("button")[o].classList.add("active"):r.querySelectorAll("button")[o].classList.remove("active")}if(1==this.ObjectFlag[`${t[3]}`].favorite?document.querySelector(".favorite__input").checked=!0:document.querySelector(".favorite__input").checked=!1,null!==document.querySelector(`.${t[0]}`).querySelector(".active")){this.array=[];const e=Object.keys(this.ObjectFlag[`${t[0]}`]);for(let n=0;n<t[0].length;n++)1==this.ObjectFlag[`${t[0]}`][`${e[n]}`]&&this.arr.forEach((r=>{e[n]==r[`${t[0]}`]&&this.array.push(r)}));this.arr=this.array}if(null!==document.querySelector(`.${t[1]}`).querySelector(".active")){this.array=[];const e=Object.keys(this.ObjectFlag[`${t[1]}`]);for(let n=0;n<t[1].length;n++)1==this.ObjectFlag[`${t[1]}`][`${e[n]}`]&&this.arr.forEach((r=>{e[n]==r[`${t[1]}`]&&this.array.push(r)}));this.arr=this.array}if(null!==document.querySelector(`.${t[2]}`).querySelector(".active")){this.array=[];const e=Object.keys(this.ObjectFlag[`${t[2]}`]);for(let n=0;n<t[2].length;n++)1==this.ObjectFlag[`${t[2]}`][`${e[n]}`]&&this.arr.forEach((r=>{e[n]==r[`${t[2]}`]&&this.array.push(r)}));this.arr=this.array}if(document.querySelector(".favorite__input").checked){this.array=[];const e=Object.keys(this.ObjectFlag[`${t[3]}`]);this.arr.forEach((t=>{1==t[`${e[0]}`]&&this.array.push(t)})),this.arr=this.array}return localStorage.setItem("object",JSON.stringify(this.ObjectFlag)),this.arr}}class e extends t{constructor(t,e,n,r){super(t,r),this.array=[],this.nodeList=e,this.element=n}getFirstFilters(){const t=this.element.parentNode.dataset.filter,e=this.element.dataset.filter;"INPUT"==this.element.nodeName?0==this.ObjectFlag[`${t}`][`${e}`]?(this.element.checked=!0,this.ObjectFlag[`${t}`][`${e}`]=!0):(this.ObjectFlag[`${t}`][`${e}`]=!1,this.element.checked=!1):!0===this.ObjectFlag[`${t}`][`${e}`]?(this.element.classList.toggle("active"),this.ObjectFlag[`${t}`][`${e}`]=!1):(this.ObjectFlag[`${t}`][`${e}`]=!0,this.element.classList.toggle("active"))}}var r=n(211);const o=n.n(r)();class i{slidersRenderCount(){const t=document.querySelector(".count-slider"),e=document.querySelectorAll(".toys-output");let n=[1,12];localStorage.getItem("valuesCount")&&(n=JSON.parse(localStorage.getItem("valuesCount")||"")),o.create(t,{start:n,connect:!0,range:{min:1,max:12},step:1}),e[0].innerHTML=String((+n[0]).toFixed(0)),e[1].innerHTML=String((+n[1]).toFixed(0)),t.noUiSlider.on("slide",((n,r)=>{e[r].innerHTML=`${(+n[r]).toFixed(0)}`,localStorage.setItem("valuesCount",JSON.stringify(t.noUiSlider.get()))}))}slidersRenderYears(){const t=document.querySelector(".year-slider"),e=document.querySelectorAll(".toys-output");let n=[1940,2020];localStorage.getItem("valuesYear")&&(n=JSON.parse(localStorage.getItem("valuesYear")||"")),o.create(t,{start:n,connect:!0,range:{min:1940,max:2020},step:10}),e[2].innerHTML=String((+n[0]).toFixed(0)),e[3].innerHTML=String((+n[1]).toFixed(0)),t.noUiSlider.on("slide",((n,r)=>{e[r+2].innerHTML=`${(+n[r]).toFixed(0)}`,localStorage.setItem("valuesYear",JSON.stringify(t.noUiSlider.get()))}))}}let a=[1940,1950,1960,1970,1980,1990,2e3,2010,2020],s=[1,2,3,4,5,6,7,8,9,10,11,12];const l=function(e,n,r,o){const i=new t(e,o).getShape();"count"==r&&(s=n),"year"==r&&(a=n);const l=[];return l.length=0,i.forEach((t=>{for(let e=0;e<a.length;e++)+t.year==a[e]&&s.forEach((e=>{e==+t.count&&l.push(t)}))})),l},c=function(e,n){const r=new t(e,n).getShape(),o=[];return r.forEach((t=>{for(let e=0;e<a.length;e++)+t.year==a[e]&&s.forEach((e=>{e==+t.count&&o.push(t)}))})),o},u=function(t){const e=document.querySelector(".sort-select");return localStorage.getItem("SortData")&&(e.value=JSON.parse(localStorage.getItem("SortData")||"")),"sort-name-max"==e.value&&t.sort(((t,e)=>t.name>e.name?1:-1)),"sort-name-min"==e.value&&t.sort(((t,e)=>t.name<e.name?1:-1)),"sort-count-max"==e.value&&t.sort(((t,e)=>+t.count>+e.count?1:-1)),"sort-count-min"==e.value&&t.sort(((t,e)=>+t.count<+e.count?1:-1)),t};let p=0;function d(t){if(0==p){p=1;const e=document.createElement("div");e.className="overlay";const n=document.createElement("div"),r=document.createElement("div");r.className="close",n.className="popup",n.innerHTML=t;const o=document.querySelector(".main");n.append(r),o.append(e),o.append(n),r.addEventListener("click",(()=>{n.remove(),e.remove(),p=0}))}}let f=[];localStorage.getItem("arrayFavorite")&&(f=JSON.parse(localStorage.getItem("arrayFavorite")||""));(new class{headerRender(){const t=document.querySelector(".header__container"),e=document.querySelector(".main__container");t.innerHTML=' \n    <div class="header__navigation">\n      <a href="#" class="page-main"></a>\n      <a href="#"class="page-first">Игрушки</ф>\n      <a href="#"class="page-second">Ёлка</a>\n    </div>\n    <div class="header__controls">\n        <input type="search" class="search" autocomplete="off" placeholder = "поиск" autoFocus>\n        <div class="selected"><span>0</span></div>\n    </div>',e.innerHTML='\n    <div class="controls-panel">                  \n      <div class="filters-meaning">\n          <div class="controls-title">Фильтры по значению</div>\n          <div data-filter ="shape" class="shape">Форма:  \n              <button data-filter="шар"></button>\n              <button data-filter="колокольчик"></button>\n              <button data-filter="шишка"></button>\n              <button data-filter="снежинка"></button>\n              <button data-filter="фигурка"></button>\n          </div>\n          <div data-filter ="color" class="color">Цвет:   \n              <button data-filter="белый"></button>\n              <button data-filter="желтый"></button>\n              <button data-filter="красный"></button>\n              <button data-filter="синий"></button>\n              <button data-filter="зелёный"></button>\n          </div>\n          <div data-filter ="size" class="size">Размер: \n              <button data-filter="большой"></button>\n              <button data-filter="средний"></button>\n              <button data-filter="малый"></button>\n          </div>\n          <div class="favorite__toys">Только любимые:\n              <div data-filter ="favorites"class="favorite__form favorites">\n                <input type="checkbox" data-filter ="favorite" class="favorite__input" id="checkbox"/>\n                <label for="checkbox" class="favorite__input-label"></label>\n              </div>   \n          </div> \n      </div>\n      <div class="filters-range">\n            <div class="controls-title">Фильтры по диапазону</div>\n            <div class="count-toys">\n                <span class="control-span">Количество экземпляров:</span> \n                <div data-filter ="count-slider" class="count-toys-container">\n                    <output class="toys-output">1</output>\n                    <div class="count-slider"></div>\n                    <output class="toys-output">12</output>\n                </div>          \n            </div>\n            <div class="year">\n            <span class="control-span">Год приобретения:</span> \n                <div data-filter ="years-slider" class="year-toys-container">\n                    <output class="toys-output">1940</output>\n                    <div class="year-slider"></div>\n                    <output class="toys-output">2020</output>\n                </div>          \n            </div>\n      </div>\n      <div class="filters-sort">\n          <div class="controls-title">Сортировка</div>\n          <select class="sort-select">\n            <option selected value="sort-name-max">По названию от «А» до «Я»</option>\n            <option value="sort-name-min">По названию от «Я» до «А»</option>\n            <option value="sort-count-max">По количеству по возрастанию</option>\n            <option value="sort-count-min">По количеству по убыванию</option>\n          </select>\n          <button class="resetSettings">Сброс настроек</button>\n          <button class="reset">Сброс фильтров</button>\n      </div>\n    </div> '}}).headerRender(),(new class{getCard(){var t,n,r,o,a;return n=this,r=void 0,a=function*(){const n=document.querySelector(".favorite__input"),r=document.querySelectorAll(".toys-output"),o=document.querySelector(".count-slider"),a=document.querySelector(".year-slider"),s=new i;s.slidersRenderCount(),s.slidersRenderYears();const p=new class{getToyList(){return t=this,e=void 0,r=function*(){const t=yield fetch(" ./data.json");return yield t.json()},new((n=void 0)||(n=Promise))((function(o,i){function a(t){try{l(r.next(t))}catch(t){i(t)}}function s(t){try{l(r.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}));var t,e,n,r}},h=yield p.getToyList(),m={shape:{шар:!1,колокольчик:!1,шишка:!1,снежинка:!1,фигурка:!1},color:{белый:!1,желтый:!1,красный:!1,синий:!1,зелёный:!1},size:{большой:!1,средний:!1,малый:!1},favorites:{favorite:!1}};let g=0,v=!1,S=[],y=[];const b=h;function x(t){let e=c(v?S:t,m);1==g&&(e=u(e)),function(t){const e=document.querySelector(".card__container");e.innerHTML="",document.querySelector(".selected span").innerHTML=String(f.length),t.forEach((t=>{const n=document.createElement("div");n.className="card",n.dataset.num=t.num,n.innerHTML=`\n          <h2 class="card__title">${t.name}</h2>\n          <img src="./assets/toys/${t.num}.png" alt="toy" class="card-img">\n          <div class="card__info">\n            <p class="count">Количество: <span>${t.count}</span></p>\n            <p class="year">Год покупки: <span>${t.year}</span></p>\n            <p class="form">Форма: <span>${t.shape}</span></p>\n            <p class="color">Цвет: <span>${t.color}</span></p>\n            <p class="size">Размер: <span>${t.size}</span></p>\n            <p class="favorite">Любимая: <span>${t.favorite?"да":"нет"}</span></p>\n          </div>\n          <div class="mark"></div>`,e.append(n),f.forEach((e=>{JSON.stringify(e)==JSON.stringify(t)&&n.lastChild.classList.add("active")})),n.addEventListener("click",(()=>{!function(t,e){f.length<20?e.lastChild.classList.contains("active")?(e.lastChild.classList.toggle("active"),f=f.filter((e=>{if(JSON.stringify(e)!==JSON.stringify(t))return e}))):(f.push(t),e.lastChild.classList.toggle("active")):e.lastChild.classList.contains("active")?(e.lastChild.classList.toggle("active"),f=f.filter((e=>{if(JSON.stringify(e)==JSON.stringify(t))return e}))):d("Извините, все слоты заполнены"),document.querySelector(".selected span").innerHTML=String(f.length),console.log(f.length),localStorage.setItem("arrayFavorite",JSON.stringify(f))}(t,n)}))}))}(e),e.length<=0&&d("Извините, совпадений не обнаружено")}x(b);const w=document.querySelectorAll(".filters-meaning button, .favorite__input");w.forEach((t=>{t.addEventListener("click",(()=>{y=function(t){const n=new e(b,w,t,m);return n.getFirstFilters(),y=n.getShape(),y}(t),x(y)}))}));const E=[],N=[];o.noUiSlider.on("update",(t=>{E.length=0;const e=t.map((t=>(+t).toFixed(0)));for(let t=+e[0];t<=+e[1];t++)E.push(t);y=l(b,E,"count",m),x(y)})),a.noUiSlider.on("update",(t=>{N.length=0;const e=t.map((t=>(+t).toFixed(0)));for(let t=+e[0];t<=+e[1];)N.push(t),t+=10;y=l(b,N,"year",m),x(y)}));const P=document.querySelector(".sort-select");P.addEventListener("input",(()=>{localStorage.setItem("SortData",JSON.stringify(P.value)),g=1,y=c(b,m),y=u(y),x(y)}));const C=document.querySelector(".search");window.addEventListener("load",(()=>{localStorage.getItem("SortSearch")&&(C.value=JSON.parse(localStorage.getItem("SortSearch")||"")),localStorage.getItem("flagSearch")&&(v=JSON.parse(localStorage.getItem("flagSearch")||""))})),C.addEventListener("focus",(()=>{C.style.backgroundSize="0"})),C.addEventListener("blur",(()=>{C.style.backgroundSize="20px"})),C.addEventListener("input",(()=>{var t,e;localStorage.setItem("SortSearch",JSON.stringify(C.value)),localStorage.setItem("flagSearch",JSON.stringify(v)),C.value.length>0&&(v=!0),t=b,e=C.value,S=t.filter((t=>{if(-1!==t.name.toLowerCase().indexOf(e.toLowerCase()))return t})),x(S)}));const O=document.querySelector(".reset");null==O||O.addEventListener("click",(()=>{v=!1,function(t,e,n,r){for(const e in t)for(const n in t[`${e}`])t[`${e}`][`${n}`]=!1;localStorage.setItem("object",JSON.stringify(t)),console.log(t),e.forEach((t=>{t.classList.remove("active")})),r.checked=!1,n.value=""}(m,w,C,n),o.noUiSlider.set([1,12]),a.noUiSlider.set([1940,2020]),r[0].innerHTML="1",r[1].innerHTML="12",r[2].innerHTML="1940",r[3].innerHTML="2020",x(b)})),null===(t=document.querySelector(".resetSettings"))||void 0===t||t.addEventListener("click",(()=>{console.log("ashed"),localStorage.clear()}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function s(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,s)}l((a=a.apply(n,r||[])).next())}))}}).getCard(),console.log('\nВыполнено: 200/200\n+     Страница с игрушками содержит карточки всех игрушек а также фильтры, строку поиска, поле для сортировки. Выполняются требования к вёрстке +10\n+     Карточка игрушки содержит её изображение, название, текстом или условным значком обозначено количество экземпляров, год покупки, форма, цвет, размер, является ли игрушка любимой +10\n+      Добавление игрушек в избранное +20\n+ кликая по карточке с игрушкой или по кнопке на ней игрушку можно добавлять в избранное или удалять из избранного. Карточки добавленных в избранное игрушек внешне отличаются от остальных +10\n+ на странице отображается количество добавленных в избранное игрушек. При попытке добавить в избранное больше 20 игрушек, выводится всплывающее уведомление с текстом "Извините, все слоты заполнены" +10\n+      Сортировка +20\n+ Сортируются только те игрушки, которые в данный момент отображаются на странице\n+ сортировка игрушек по названию в возрастающем и спадающем порядке +10\n+ сортировка игрушек по году их приобретения в возрастающем и спадающем порядке +10\n+     Фильтры в указанном диапазоне от и до +30\n+ фильтры по количеству экземпляров +10\n+ фильтры по году покупки +10\n+ для фильтрации в указанном диапазоне используется range slider с двумя ползунками. При перемещении ползунков отображается их текущее значение, разный цвет слайдера до и после ползунка +10\n+     Фильтры по значению +30\n+ Выбранные фильтры выделяются стилем.\n+ фильтры по форме +5\n+ фильтры по цвету +5\n+ фильтры по размеру +5\n+ можно отобразить только любимые игрушки +5\n+ можно отфильтровать игрушки по нескольким фильтрам одного типа +10\n+ Для нескольких фильтров одного типа отображаются игрушки, которые соответствуют хоть одному выбранному фильтру. Например, можно отобразить снежинки и колокольчики; или белые, синие и красные игрушки; или большие и средние.\n+      Можно отфильтровать игрушки по нескольким фильтрам разного типа +20\n+ Для нескольких фильтров разного типа отображаются только те игрушки, которые соответствуют всем выбранным фильтрам.\n+ Например, можно отобразить только синие шары. Или любимые белые и красные игрушки купленные в 1940-1960 годах.\n+ Если игрушек, соответствующих всем выбранным фильтрам нет, на странице выводится уведомление в человекочитаемом формате, например, "Извините, совпадений не обнаружено"\n+     Сброс фильтров +20\n+ есть кнопка reset для сброса фильтров +10\n+ Кнопка reset сбрасывает только фильтры, не влияя на порядок сортировки или игрушки, добавленные в избранное.\n+ После использования кнопки reset фильтры остаются работоспособными\n+ при сбросе фильтров кнопкой reset, ползунки range slider сдвигаются к краям, значения ползунков возвращаются к первоначальным, range slider закрашивается одним цветом +10\n+      Сохранение настроек в local storage +10\n+ выбранные пользователем фильтры, порядок сортировки, добавленные в избранное игрушки сохраняются при перезагрузке страницы. Есть кнопка сброса настроек, которая очищает local storage +10\n+      Поиск +30\n+ при открытии приложения курсор находится в поле поиска +2\n+ автозаполнение поля поиска отключено (нет выпадающего списка с предыдущими запросами) +2\n+ есть placeholder +2\n+ в поле поиска есть крестик, позволяющий очистить поле поиска +2\n+ если нет совпадения последовательности букв в поисковом запросе с названием игрушки, выводится уведомление в человекочитаемом формате, например "Извините, совпадений не обнаружено" +2\n+ при вводе поискового запроса на странице остаются только те игрушки, в которых есть указанные в поиске буквы в указанном порядке. При этом не обязательно, чтобы буквы были в начале слова. Регистр символов при поиске не учитывается +10\n+ Поиск ведётся только среди игрушек, которые в данный момент отображаются на странице.\n+ если очистить поле поиска, на странице отображаются игрушки, соответствующие всем выбранным фильтрам и настройкам сортировки +10\n-       Дополнительный функционал на выбор +20\n')})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVN2RixJQUNsQkEsRUFBRytCLFVBQVVHLE9BQU8sYUFHdEJpakIsRUFBYTVDLFNBQVUsRUFDdkIwRSxFQUFPN21CLE1BQVEsR0YwSFhpbkIsQ0FBYXhGLEVBQVlnRixFQUFhSSxFQUFROUIsR0FDOUM3QixFQUFZM0QsV0FBV0csSUFBSSxDQUFDLEVBQUcsS0FDL0I0RCxFQUFZL0QsV0FBV0csSUFBSSxDQUFDLEtBQU0sT0FDakN5RCxFQUFRLEdBQXlCOVAsVUFBWSxJQUM3QzhQLEVBQVEsR0FBeUI5UCxVQUFZLEtBQzdDOFAsRUFBUSxHQUF5QjlQLFVBQVksT0FDN0M4UCxFQUFRLEdBQXlCOVAsVUFBWSxPQUM5QzBTLEVBQVdELE1BRzJCLFFBQXhDLEVBQUF0WCxTQUFTd1QsY0FBYyx5QkFBaUIsU0FBRTVSLGlCQUFpQixTQUFTLEtBQ2xFaVcsUUFBUUMsSUFBSSxTQUNaNUUsYUFBYXdGLFksc1JGM0lkcEMsVUFFTHVCLFFBQVFDLElLakJlLDYzSCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL25vZGVfbW9kdWxlcy9ub3Vpc2xpZGVyL2Rpc3Qvbm91aXNsaWRlci5qcyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2ZpbHRlci50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvZmlsdGVyc0ZpcnN0LnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9zbGlkZXJzcmVuZGVyLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9vdGhlckZpbHRlci50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvcmVuZGVyUGFnZS50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3JlbmRlci50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2FyZC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvbG9hZGVyLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9yZXNldC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvbXlncmFkZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAgIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLm5vVWlTbGlkZXIgPSB7fSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0cy5QaXBzTW9kZSA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKFBpcHNNb2RlKSB7XG4gICAgICAgIFBpcHNNb2RlW1wiUmFuZ2VcIl0gPSBcInJhbmdlXCI7XG4gICAgICAgIFBpcHNNb2RlW1wiU3RlcHNcIl0gPSBcInN0ZXBzXCI7XG4gICAgICAgIFBpcHNNb2RlW1wiUG9zaXRpb25zXCJdID0gXCJwb3NpdGlvbnNcIjtcbiAgICAgICAgUGlwc01vZGVbXCJDb3VudFwiXSA9IFwiY291bnRcIjtcbiAgICAgICAgUGlwc01vZGVbXCJWYWx1ZXNcIl0gPSBcInZhbHVlc1wiO1xuICAgIH0pKGV4cG9ydHMuUGlwc01vZGUgfHwgKGV4cG9ydHMuUGlwc01vZGUgPSB7fSkpO1xuICAgIGV4cG9ydHMuUGlwc1R5cGUgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChQaXBzVHlwZSkge1xuICAgICAgICBQaXBzVHlwZVtQaXBzVHlwZVtcIk5vbmVcIl0gPSAtMV0gPSBcIk5vbmVcIjtcbiAgICAgICAgUGlwc1R5cGVbUGlwc1R5cGVbXCJOb1ZhbHVlXCJdID0gMF0gPSBcIk5vVmFsdWVcIjtcbiAgICAgICAgUGlwc1R5cGVbUGlwc1R5cGVbXCJMYXJnZVZhbHVlXCJdID0gMV0gPSBcIkxhcmdlVmFsdWVcIjtcbiAgICAgICAgUGlwc1R5cGVbUGlwc1R5cGVbXCJTbWFsbFZhbHVlXCJdID0gMl0gPSBcIlNtYWxsVmFsdWVcIjtcbiAgICB9KShleHBvcnRzLlBpcHNUeXBlIHx8IChleHBvcnRzLlBpcHNUeXBlID0ge30pKTtcbiAgICAvL3JlZ2lvbiBIZWxwZXIgTWV0aG9kc1xuICAgIGZ1bmN0aW9uIGlzVmFsaWRGb3JtYXR0ZXIoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGlzVmFsaWRQYXJ0aWFsRm9ybWF0dGVyKGVudHJ5KSAmJiB0eXBlb2YgZW50cnkuZnJvbSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkUGFydGlhbEZvcm1hdHRlcihlbnRyeSkge1xuICAgICAgICAvLyBwYXJ0aWFsIGZvcm1hdHRlcnMgb25seSBuZWVkIGEgdG8gZnVuY3Rpb24gYW5kIG5vdCBhIGZyb20gZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgZW50cnkudG8gPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIEJpbmRhYmxlIHZlcnNpb25cbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYW4gYXJyYXkuXG4gICAgZnVuY3Rpb24gdW5pcXVlKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGhpc1thXSA/ICh0aGlzW2FdID0gdHJ1ZSkgOiBmYWxzZTtcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICAvLyBSb3VuZCBhIHZhbHVlIHRvIHRoZSBjbG9zZXN0ICd0bycuXG4gICAgZnVuY3Rpb24gY2xvc2VzdCh2YWx1ZSwgdG8pIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyB0bykgKiB0bztcbiAgICB9XG4gICAgLy8gQ3VycmVudCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cbiAgICBmdW5jdGlvbiBvZmZzZXQoZWxlbSwgb3JpZW50YXRpb24pIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBwYWdlT2Zmc2V0ID0gZ2V0UGFnZU9mZnNldChkb2MpO1xuICAgICAgICAvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgY29udGFpbnMgbGVmdCBzY3JvbGwgaW4gQ2hyb21lIG9uIEFuZHJvaWQuXG4gICAgICAgIC8vIEkgaGF2ZW4ndCBmb3VuZCBhIGZlYXR1cmUgZGV0ZWN0aW9uIHRoYXQgcHJvdmVzIHRoaXMuIFdvcnN0IGNhc2VcbiAgICAgICAgLy8gc2NlbmFyaW8gb24gbWlzLW1hdGNoOiB0aGUgJ3RhcCcgZmVhdHVyZSBvbiBob3Jpem9udGFsIHNsaWRlcnMgYnJlYWtzLlxuICAgICAgICBpZiAoL3dlYmtpdC4qQ2hyb21lLipNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgICBwYWdlT2Zmc2V0LnggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmllbnRhdGlvbiA/IHJlY3QudG9wICsgcGFnZU9mZnNldC55IC0gZG9jRWxlbS5jbGllbnRUb3AgOiByZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQ7XG4gICAgfVxuICAgIC8vIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgbnVtZXJpY2FsLlxuICAgIGZ1bmN0aW9uIGlzTnVtZXJpYyhhKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgYSA9PT0gXCJudW1iZXJcIiAmJiAhaXNOYU4oYSkgJiYgaXNGaW5pdGUoYSk7XG4gICAgfVxuICAgIC8vIFNldHMgYSBjbGFzcyBhbmQgcmVtb3ZlcyBpdCBhZnRlciBbZHVyYXRpb25dIG1zLlxuICAgIGZ1bmN0aW9uIGFkZENsYXNzRm9yKGVsZW1lbnQsIGNsYXNzTmFtZSwgZHVyYXRpb24pIHtcbiAgICAgICAgaWYgKGR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTGltaXRzIGEgdmFsdWUgdG8gMCAtIDEwMFxuICAgIGZ1bmN0aW9uIGxpbWl0KGEpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGEsIDEwMCksIDApO1xuICAgIH1cbiAgICAvLyBXcmFwcyBhIHZhcmlhYmxlIGFzIGFuIGFycmF5LCBpZiBpdCBpc24ndCBvbmUgeWV0LlxuICAgIC8vIE5vdGUgdGhhdCBhbiBpbnB1dCBhcnJheSBpcyByZXR1cm5lZCBieSByZWZlcmVuY2UhXG4gICAgZnVuY3Rpb24gYXNBcnJheShhKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYSA6IFthXTtcbiAgICB9XG4gICAgLy8gQ291bnRzIGRlY2ltYWxzXG4gICAgZnVuY3Rpb24gY291bnREZWNpbWFscyhudW1TdHIpIHtcbiAgICAgICAgbnVtU3RyID0gU3RyaW5nKG51bVN0cik7XG4gICAgICAgIHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICByZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgLy8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI2FkZF9jbGFzc1xuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiAhL1xccy8udGVzdChjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgKz0gXCIgXCIgKyBjbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI3JlbW92ZV9jbGFzc1xuICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCAmJiAhL1xccy8udGVzdChjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58XFxcXGIpXCIgKyBjbGFzc05hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCJ8XCIpICsgXCIoXFxcXGJ8JClcIiwgXCJnaVwiKSwgXCIgXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGh0dHBzOi8vcGxhaW5qcy5jb20vamF2YXNjcmlwdC9hdHRyaWJ1dGVzL2FkZGluZy1yZW1vdmluZy1hbmQtdGVzdGluZy1mb3ItY2xhc3Nlcy05L1xuICAgIGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpIDogbmV3IFJlZ0V4cChcIlxcXFxiXCIgKyBjbGFzc05hbWUgKyBcIlxcXFxiXCIpLnRlc3QoZWwuY2xhc3NOYW1lKTtcbiAgICB9XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9zY3JvbGxZI05vdGVzXG4gICAgZnVuY3Rpb24gZ2V0UGFnZU9mZnNldChkb2MpIHtcbiAgICAgICAgdmFyIHN1cHBvcnRQYWdlT2Zmc2V0ID0gd2luZG93LnBhZ2VYT2Zmc2V0ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBpc0NTUzFDb21wYXQgPSAoZG9jLmNvbXBhdE1vZGUgfHwgXCJcIikgPT09IFwiQ1NTMUNvbXBhdFwiO1xuICAgICAgICB2YXIgeCA9IHN1cHBvcnRQYWdlT2Zmc2V0XG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWE9mZnNldFxuICAgICAgICAgICAgOiBpc0NTUzFDb21wYXRcbiAgICAgICAgICAgICAgICA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdFxuICAgICAgICAgICAgICAgIDogZG9jLmJvZHkuc2Nyb2xsTGVmdDtcbiAgICAgICAgdmFyIHkgPSBzdXBwb3J0UGFnZU9mZnNldFxuICAgICAgICAgICAgPyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgIDogaXNDU1MxQ29tcGF0XG4gICAgICAgICAgICAgICAgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcFxuICAgICAgICAgICAgICAgIDogZG9jLmJvZHkuc2Nyb2xsVG9wO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gd2UgcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgY29uc3RhbnRzIGluc3RlYWRcbiAgICAvLyBvZiBhY2Nlc3Npbmcgd2luZG93LiogYXMgc29vbiBhcyB0aGUgbW9kdWxlIG5lZWRzIGl0XG4gICAgLy8gc28gdGhhdCB3ZSBkbyBub3QgY29tcHV0ZSBhbnl0aGluZyBpZiBub3QgbmVlZGVkXG4gICAgZnVuY3Rpb24gZ2V0QWN0aW9ucygpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBldmVudHMgdG8gYmluZC4gSUUxMSBpbXBsZW1lbnRzIHBvaW50ZXJFdmVudHMgd2l0aG91dFxuICAgICAgICAvLyBhIHByZWZpeCwgd2hpY2ggYnJlYWtzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgSUUxMCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBcInBvaW50ZXJkb3duXCIsXG4gICAgICAgICAgICAgICAgbW92ZTogXCJwb2ludGVybW92ZVwiLFxuICAgICAgICAgICAgICAgIGVuZDogXCJwb2ludGVydXBcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFwiTVNQb2ludGVyRG93blwiLFxuICAgICAgICAgICAgICAgICAgICBtb3ZlOiBcIk1TUG9pbnRlck1vdmVcIixcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIk1TUG9pbnRlclVwXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1vdmU6IFwibW91c2Vtb3ZlIHRvdWNobW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwibW91c2V1cCB0b3VjaGVuZFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWRcbiAgICAvLyBJc3N1ZSAjNzg1XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNQYXNzaXZlKCkge1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpO1xuICAgIH1cbiAgICAvL2VuZHJlZ2lvblxuICAgIC8vcmVnaW9uIFJhbmdlIENhbGN1bGF0aW9uXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIGEgc3ViLXJhbmdlIGluIHJlbGF0aW9uIHRvIGEgZnVsbCByYW5nZS5cbiAgICBmdW5jdGlvbiBzdWJSYW5nZVJhdGlvKHBhLCBwYikge1xuICAgICAgICByZXR1cm4gMTAwIC8gKHBiIC0gcGEpO1xuICAgIH1cbiAgICAvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/XG4gICAgZnVuY3Rpb24gZnJvbVBlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlLCBzdGFydFJhbmdlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAxMDApIC8gKHJhbmdlW3N0YXJ0UmFuZ2UgKyAxXSAtIHJhbmdlW3N0YXJ0UmFuZ2VdKTtcbiAgICB9XG4gICAgLy8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiB0b1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmcm9tUGVyY2VudGFnZShyYW5nZSwgcmFuZ2VbMF0gPCAwID8gdmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOiB2YWx1ZSAtIHJhbmdlWzBdLCAwKTtcbiAgICB9XG4gICAgLy8gKHZhbHVlKSBIb3cgbXVjaCBpcyB0aGlzIHBlcmNlbnRhZ2Ugb24gdGhpcyByYW5nZT9cbiAgICBmdW5jdGlvbiBpc1BlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAocmFuZ2VbMV0gLSByYW5nZVswXSkpIC8gMTAwICsgcmFuZ2VbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEoodmFsdWUsIGFycikge1xuICAgICAgICB2YXIgaiA9IDE7XG4gICAgICAgIHdoaWxlICh2YWx1ZSA+PSBhcnJbal0pIHtcbiAgICAgICAgICAgIGogKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgLy8gKHBlcmNlbnRhZ2UpIElucHV0IGEgdmFsdWUsIGZpbmQgd2hlcmUsIG9uIGEgc2NhbGUgb2YgMC0xMDAsIGl0IGFwcGxpZXMuXG4gICAgZnVuY3Rpb24gdG9TdGVwcGluZyh4VmFsLCB4UGN0LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPj0geFZhbC5zbGljZSgtMSlbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4VmFsKTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuICAgICAgICByZXR1cm4gcGEgKyB0b1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sIHZhbHVlKSAvIHN1YlJhbmdlUmF0aW8ocGEsIHBiKTtcbiAgICB9XG4gICAgLy8gKHZhbHVlKSBJbnB1dCBhIHBlcmNlbnRhZ2UsIGZpbmQgd2hlcmUgaXQgaXMgb24gdGhlIHNwZWNpZmllZCByYW5nZS5cbiAgICBmdW5jdGlvbiBmcm9tU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gcmFuZ2UgZ3JvdXAgdGhhdCBmaXRzIDEwMFxuICAgICAgICBpZiAodmFsdWUgPj0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4geFZhbC5zbGljZSgtMSlbMF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIHZhID0geFZhbFtqIC0gMV07XG4gICAgICAgIHZhciB2YiA9IHhWYWxbal07XG4gICAgICAgIHZhciBwYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgcGIgPSB4UGN0W2pdO1xuICAgICAgICByZXR1cm4gaXNQZXJjZW50YWdlKFt2YSwgdmJdLCAodmFsdWUgLSBwYSkgKiBzdWJSYW5nZVJhdGlvKHBhLCBwYikpO1xuICAgIH1cbiAgICAvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXG4gICAgZnVuY3Rpb24gZ2V0U3RlcCh4UGN0LCB4U3RlcHMsIHNuYXAsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB4UGN0KTtcbiAgICAgICAgdmFyIGEgPSB4UGN0W2ogLSAxXTtcbiAgICAgICAgdmFyIGIgPSB4UGN0W2pdO1xuICAgICAgICAvLyBJZiAnc25hcCcgaXMgc2V0LCBzdGVwcyBhcmUgdXNlZCBhcyBmaXhlZCBwb2ludHMgb24gdGhlIHNsaWRlci5cbiAgICAgICAgaWYgKHNuYXApIHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3QgcG9zaXRpb24sIGEgb3IgYi5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAtIGEgPiAoYiAtIGEpIC8gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF4U3RlcHNbaiAtIDFdKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHhQY3RbaiAtIDFdICsgY2xvc2VzdCh2YWx1ZSAtIHhQY3RbaiAtIDFdLCB4U3RlcHNbaiAtIDFdKTtcbiAgICB9XG4gICAgLy9lbmRyZWdpb25cbiAgICAvL3JlZ2lvbiBTcGVjdHJ1bVxuICAgIHZhciBTcGVjdHJ1bSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gU3BlY3RydW0oZW50cnksIHNuYXAsIHNpbmdsZVN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMueFBjdCA9IFtdO1xuICAgICAgICAgICAgdGhpcy54VmFsID0gW107XG4gICAgICAgICAgICB0aGlzLnhTdGVwcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMueFN0ZXBzID0gW3NpbmdsZVN0ZXAgfHwgZmFsc2VdO1xuICAgICAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbZmFsc2VdO1xuICAgICAgICAgICAgdGhpcy5zbmFwID0gc25hcDtcbiAgICAgICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgICAgIHZhciBvcmRlcmVkID0gW107XG4gICAgICAgICAgICAvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LlxuICAgICAgICAgICAgT2JqZWN0LmtleXMoZW50cnkpLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgb3JkZXJlZC5wdXNoKFthc0FycmF5KGVudHJ5W2luZGV4XSksIGluZGV4XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNvcnQgYWxsIGVudHJpZXMgYnkgdmFsdWUgKG51bWVyaWMgc29ydCkuXG4gICAgICAgICAgICBvcmRlcmVkLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVswXVswXSAtIGJbMF1bMF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVudHJ5UG9pbnQob3JkZXJlZFtpbmRleF1bMV0sIG9yZGVyZWRbaW5kZXhdWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhY3R1YWwgc3RlcCB2YWx1ZXMuXG4gICAgICAgICAgICAvLyB4U3RlcHMgaXMgc29ydGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHhQY3QgYW5kIHhWYWwuXG4gICAgICAgICAgICB0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhbGwgbnVtZXJpYyBzdGVwcyB0byB0aGUgcGVyY2VudGFnZSBvZiB0aGUgc3VicmFuZ2UgdGhleSByZXByZXNlbnQuXG4gICAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGggLSAxOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzW2luZGV4XSA9IGZyb21QZXJjZW50YWdlKHRoaXMueFZhbCwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZXM7XG4gICAgICAgIH07XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvdmVyIHRoZSB3aG9sZSBzY2FsZSBvZiByYW5nZXMuXG4gICAgICAgIC8vIGRpcmVjdGlvbjogMCA9IGJhY2t3YXJkcyAvIDEgPSBmb3J3YXJkc1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVEaXN0YW5jZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZGlzdGFuY2VzLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciB4UGN0X2luZGV4ID0gMDtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSByYW5nZSB3aGVyZSB0byBzdGFydCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgdGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh2YWx1ZSA+IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgeFBjdF9pbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSB0aGlzLnhQY3RbdGhpcy54UGN0Lmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgeFBjdF9pbmRleCA9IHRoaXMueFBjdC5sZW5ndGggLSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgbG9va2luZyBiYWNrd2FyZHMgYW5kIHRoZSB2YWx1ZSBpcyBleGFjdGx5IGF0IGEgcmFuZ2Ugc2VwYXJhdG9yIHRoZW4gbG9vayBvbmUgcmFuZ2UgZnVydGhlclxuICAgICAgICAgICAgaWYgKCFkaXJlY3Rpb24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICB4UGN0X2luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2VzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRfZmFjdG9yO1xuICAgICAgICAgICAgdmFyIHJlc3RfZmFjdG9yID0gMTtcbiAgICAgICAgICAgIHZhciByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4XTtcbiAgICAgICAgICAgIHZhciByYW5nZV9wY3QgPSAwO1xuICAgICAgICAgICAgdmFyIHJlbF9yYW5nZV9kaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICB2YXIgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdmFyIHJhbmdlX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHdoYXQgcGFydCBvZiB0aGUgc3RhcnQgcmFuZ2UgdGhlIHZhbHVlIGlzXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRfZmFjdG9yID0gKHZhbHVlIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKSAvICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9ICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdmFsdWUpIC8gKHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0gLSB0aGlzLnhQY3RbeFBjdF9pbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdW50aWwgdGhlIGNvbXBsZXRlIGRpc3RhbmNlIGFjcm9zcyByYW5nZXMgaXMgY2FsY3VsYXRlZFxuICAgICAgICAgICAgd2hpbGUgKHJlc3RfcmVsX2Rpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSBvZiB0b3RhbCByYW5nZVxuICAgICAgICAgICAgICAgIHJhbmdlX3BjdCA9IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMSArIHJhbmdlX2NvdW50ZXJdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXTtcbiAgICAgICAgICAgICAgICAvLyBEZXRlY3QgaWYgdGhlIG1hcmdpbiwgcGFkZGluZyBvciBsaW1pdCBpcyBsYXJnZXIgdGhlbiB0aGUgY3VycmVudCByYW5nZSBhbmQgY2FsY3VsYXRlXG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvciArIDEwMCAtIHN0YXJ0X2ZhY3RvciAqIDEwMCA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBsYXJnZXIgdGhlbiB0YWtlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG9mIHRoZSB3aG9sZSByYW5nZVxuICAgICAgICAgICAgICAgICAgICByZWxfcmFuZ2VfZGlzdGFuY2UgPSByYW5nZV9wY3QgKiBzdGFydF9mYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc3QgZmFjdG9yIG9mIHJlbGF0aXZlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugc3RpbGwgdG8gYmUgY2FsY3VsYXRlZFxuICAgICAgICAgICAgICAgICAgICByZXN0X2ZhY3RvciA9IChyZXN0X3JlbF9kaXN0YW5jZSAtIDEwMCAqIHN0YXJ0X2ZhY3RvcikgLyBkaXN0YW5jZXNbeFBjdF9pbmRleCArIHJhbmdlX2NvdW50ZXJdO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgc3RhcnQgZmFjdG9yIHRvIDEgYXMgZm9yIG5leHQgcmFuZ2UgaXQgZG9lcyBub3QgYXBwbHkuXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBzbWFsbGVyIG9yIGVxdWFsIHRoZW4gdGFrZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvZiB0aGUgY2FsY3VsYXRlIHBlcmNlbnR1YWwgcGFydCBvZiB0aGF0IHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJlbF9yYW5nZV9kaXN0YW5jZSA9ICgoZGlzdGFuY2VzW3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXSAqIHJhbmdlX3BjdCkgLyAxMDApICogcmVzdF9mYWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHJlc3QgbGVmdCBhcyB0aGUgcmVzdCBmaXRzIGluIGN1cnJlbnQgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgcmVzdF9mYWN0b3IgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFic19kaXN0YW5jZV9jb3VudGVyID0gYWJzX2Rpc3RhbmNlX2NvdW50ZXIgLSByZWxfcmFuZ2VfZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIC8vIExpbWl0IHJhbmdlIHRvIGZpcnN0IHJhbmdlIHdoZW4gZGlzdGFuY2UgYmVjb21lcyBvdXRzaWRlIG9mIG1pbmltdW0gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMueFBjdC5sZW5ndGggKyByYW5nZV9jb3VudGVyID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlX2NvdW50ZXItLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWJzX2Rpc3RhbmNlX2NvdW50ZXIgPSBhYnNfZGlzdGFuY2VfY291bnRlciArIHJlbF9yYW5nZV9kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTGltaXQgcmFuZ2UgdG8gbGFzdCByYW5nZSB3aGVuIGRpc3RhbmNlIGJlY29tZXMgb3V0c2lkZSBvZiBtYXhpbXVtIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhQY3QubGVuZ3RoIC0gcmFuZ2VfY291bnRlciA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZV9jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUmVzdCBvZiByZWxhdGl2ZSBwZXJjZW50dWFsIGRpc3RhbmNlIHN0aWxsIHRvIGJlIGNhbGN1bGF0ZWRcbiAgICAgICAgICAgICAgICByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIGFic19kaXN0YW5jZV9jb3VudGVyO1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b1N0ZXBwaW5nKHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZ2V0U3RlcCh0aGlzLnhQY3QsIHRoaXMueFN0ZXBzLCB0aGlzLnNuYXAsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmdldERlZmF1bHRTdGVwID0gZnVuY3Rpb24gKHZhbHVlLCBpc0Rvd24sIHNpemUpIHtcbiAgICAgICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcbiAgICAgICAgICAgIC8vIFdoZW4gYXQgdGhlIHRvcCBvciBzdGVwcGluZyBkb3duLCBsb29rIGF0IHRoZSBwcmV2aW91cyBzdWItcmFuZ2VcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwIHx8IChpc0Rvd24gJiYgdmFsdWUgPT09IHRoaXMueFBjdFtqIC0gMV0pKSB7XG4gICAgICAgICAgICAgICAgaiA9IE1hdGgubWF4KGogLSAxLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAodGhpcy54VmFsW2pdIC0gdGhpcy54VmFsW2ogLSAxXSkgLyBzaXplO1xuICAgICAgICB9O1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RlcEJlZm9yZToge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbaiAtIDJdLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqIC0gMl0sXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ogLSAyXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGhpc1N0ZXA6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2ogLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbaiAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqIC0gMV1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0ZXBBZnRlcjoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbal0sXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2pdLFxuICAgICAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIFNwZWN0cnVtLnByb3RvdHlwZS5jb3VudFN0ZXBEZWNpbWFscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGVwRGVjaW1hbHMgPSB0aGlzLnhOdW1TdGVwcy5tYXAoY291bnREZWNpbWFscyk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc3RlcERlY2ltYWxzKTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmhhc05vU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhWYWxbMF0gPT09IHRoaXMueFZhbFt0aGlzLnhWYWwubGVuZ3RoIC0gMV07XG4gICAgICAgIH07XG4gICAgICAgIC8vIE91dHNpZGUgdGVzdGluZ1xuICAgICAgICBTcGVjdHJ1bS5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmhhbmRsZUVudHJ5UG9pbnQgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcGVyY2VudGFnZTtcbiAgICAgICAgICAgIC8vIENvdmVydCBtaW4vbWF4IHN5bnRheCB0byAwIGFuZCAxMDAuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZSA9IDEwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBjb3JyZWN0IGlucHV0LlxuICAgICAgICAgICAgaWYgKCFpc051bWVyaWMocGVyY2VudGFnZSkgfHwgIWlzTnVtZXJpYyh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RvcmUgdmFsdWVzLlxuICAgICAgICAgICAgdGhpcy54UGN0LnB1c2gocGVyY2VudGFnZSk7XG4gICAgICAgICAgICB0aGlzLnhWYWwucHVzaCh2YWx1ZVswXSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUxID0gTnVtYmVyKHZhbHVlWzFdKTtcbiAgICAgICAgICAgIC8vIE5hTiB3aWxsIGV2YWx1YXRlIHRvIGZhbHNlIHRvbywgYnV0IHRvIGtlZXBcbiAgICAgICAgICAgIC8vIGxvZ2dpbmcgY2xlYXIsIHNldCBzdGVwIGV4cGxpY2l0bHkuIE1ha2Ugc3VyZVxuICAgICAgICAgICAgLy8gbm90IHRvIG92ZXJyaWRlIHRoZSAnc3RlcCcgc2V0dGluZyB3aXRoIGZhbHNlLlxuICAgICAgICAgICAgaWYgKCFwZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZTEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMueFN0ZXBzWzBdID0gdmFsdWUxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueFN0ZXBzLnB1c2goaXNOYU4odmFsdWUxKSA/IGZhbHNlIDogdmFsdWUxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXAucHVzaCgwKTtcbiAgICAgICAgfTtcbiAgICAgICAgU3BlY3RydW0ucHJvdG90eXBlLmhhbmRsZVN0ZXBQb2ludCA9IGZ1bmN0aW9uIChpLCBuKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgJ2ZhbHNlJyBzdGVwcGluZy5cbiAgICAgICAgICAgIGlmICghbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgb3ZlciB6ZXJvLWxlbmd0aCByYW5nZXMgKCM5NDgpO1xuICAgICAgICAgICAgaWYgKHRoaXMueFZhbFtpXSA9PT0gdGhpcy54VmFsW2kgKyAxXSkge1xuICAgICAgICAgICAgICAgIHRoaXMueFN0ZXBzW2ldID0gdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHRoaXMueFZhbFtpXTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGYWN0b3IgdG8gcmFuZ2UgcmF0aW9cbiAgICAgICAgICAgIHRoaXMueFN0ZXBzW2ldID1cbiAgICAgICAgICAgICAgICBmcm9tUGVyY2VudGFnZShbdGhpcy54VmFsW2ldLCB0aGlzLnhWYWxbaSArIDFdXSwgbiwgMCkgLyBzdWJSYW5nZVJhdGlvKHRoaXMueFBjdFtpXSwgdGhpcy54UGN0W2kgKyAxXSk7XG4gICAgICAgICAgICB2YXIgdG90YWxTdGVwcyA9ICh0aGlzLnhWYWxbaSArIDFdIC0gdGhpcy54VmFsW2ldKSAvIHRoaXMueE51bVN0ZXBzW2ldO1xuICAgICAgICAgICAgdmFyIGhpZ2hlc3RTdGVwID0gTWF0aC5jZWlsKE51bWJlcih0b3RhbFN0ZXBzLnRvRml4ZWQoMykpIC0gMSk7XG4gICAgICAgICAgICB2YXIgc3RlcCA9IHRoaXMueFZhbFtpXSArIHRoaXMueE51bVN0ZXBzW2ldICogaGlnaGVzdFN0ZXA7XG4gICAgICAgICAgICB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2ldID0gc3RlcDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFNwZWN0cnVtO1xuICAgIH0oKSk7XG4gICAgLy9lbmRyZWdpb25cbiAgICAvL3JlZ2lvbiBPcHRpb25zXG4gICAgLypcdEV2ZXJ5IGlucHV0IG9wdGlvbiBpcyB0ZXN0ZWQgYW5kIHBhcnNlZC4gVGhpcyB3aWxsIHByZXZlbnRcbiAgICAgICAgZW5kbGVzcyB2YWxpZGF0aW9uIGluIGludGVybmFsIG1ldGhvZHMuIFRoZXNlIHRlc3RzIGFyZVxuICAgICAgICBzdHJ1Y3R1cmVkIHdpdGggYW4gaXRlbSBmb3IgZXZlcnkgb3B0aW9uIGF2YWlsYWJsZS4gQW5cbiAgICAgICAgb3B0aW9uIGNhbiBiZSBtYXJrZWQgYXMgcmVxdWlyZWQgYnkgc2V0dGluZyB0aGUgJ3InIGZsYWcuXG4gICAgICAgIFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAgICAgICAgLSBUaGUgcHJvdmlkZWQgdmFsdWUgZm9yIHRoZSBvcHRpb247XG4gICAgICAgICAgICAtIEEgcmVmZXJlbmNlIHRvIHRoZSBvcHRpb25zIG9iamVjdDtcbiAgICAgICAgICAgIC0gVGhlIG5hbWUgZm9yIHRoZSBvcHRpb247XG5cbiAgICAgICAgVGhlIHRlc3RpbmcgZnVuY3Rpb24gcmV0dXJucyBmYWxzZSB3aGVuIGFuIGVycm9yIGlzIGRldGVjdGVkLFxuICAgICAgICBvciB0cnVlIHdoZW4gZXZlcnl0aGluZyBpcyBPSy4gSXQgY2FuIGFsc28gbW9kaWZ5IHRoZSBvcHRpb25cbiAgICAgICAgb2JqZWN0LCB0byBtYWtlIHN1cmUgYWxsIHZhbHVlcyBjYW4gYmUgY29ycmVjdGx5IGxvb3BlZCBlbHNld2hlcmUuICovXG4gICAgLy9yZWdpb24gRGVmYXVsdHNcbiAgICB2YXIgZGVmYXVsdEZvcm1hdHRlciA9IHtcbiAgICAgICAgdG86IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBcIlwiIDogdmFsdWUudG9GaXhlZCgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbTogTnVtYmVyXG4gICAgfTtcbiAgICB2YXIgY3NzQ2xhc3NlcyA9IHtcbiAgICAgICAgdGFyZ2V0OiBcInRhcmdldFwiLFxuICAgICAgICBiYXNlOiBcImJhc2VcIixcbiAgICAgICAgb3JpZ2luOiBcIm9yaWdpblwiLFxuICAgICAgICBoYW5kbGU6IFwiaGFuZGxlXCIsXG4gICAgICAgIGhhbmRsZUxvd2VyOiBcImhhbmRsZS1sb3dlclwiLFxuICAgICAgICBoYW5kbGVVcHBlcjogXCJoYW5kbGUtdXBwZXJcIixcbiAgICAgICAgdG91Y2hBcmVhOiBcInRvdWNoLWFyZWFcIixcbiAgICAgICAgaG9yaXpvbnRhbDogXCJob3Jpem9udGFsXCIsXG4gICAgICAgIHZlcnRpY2FsOiBcInZlcnRpY2FsXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiYmFja2dyb3VuZFwiLFxuICAgICAgICBjb25uZWN0OiBcImNvbm5lY3RcIixcbiAgICAgICAgY29ubmVjdHM6IFwiY29ubmVjdHNcIixcbiAgICAgICAgbHRyOiBcImx0clwiLFxuICAgICAgICBydGw6IFwicnRsXCIsXG4gICAgICAgIHRleHREaXJlY3Rpb25MdHI6IFwidHh0LWRpci1sdHJcIixcbiAgICAgICAgdGV4dERpcmVjdGlvblJ0bDogXCJ0eHQtZGlyLXJ0bFwiLFxuICAgICAgICBkcmFnZ2FibGU6IFwiZHJhZ2dhYmxlXCIsXG4gICAgICAgIGRyYWc6IFwic3RhdGUtZHJhZ1wiLFxuICAgICAgICB0YXA6IFwic3RhdGUtdGFwXCIsXG4gICAgICAgIGFjdGl2ZTogXCJhY3RpdmVcIixcbiAgICAgICAgdG9vbHRpcDogXCJ0b29sdGlwXCIsXG4gICAgICAgIHBpcHM6IFwicGlwc1wiLFxuICAgICAgICBwaXBzSG9yaXpvbnRhbDogXCJwaXBzLWhvcml6b250YWxcIixcbiAgICAgICAgcGlwc1ZlcnRpY2FsOiBcInBpcHMtdmVydGljYWxcIixcbiAgICAgICAgbWFya2VyOiBcIm1hcmtlclwiLFxuICAgICAgICBtYXJrZXJIb3Jpem9udGFsOiBcIm1hcmtlci1ob3Jpem9udGFsXCIsXG4gICAgICAgIG1hcmtlclZlcnRpY2FsOiBcIm1hcmtlci12ZXJ0aWNhbFwiLFxuICAgICAgICBtYXJrZXJOb3JtYWw6IFwibWFya2VyLW5vcm1hbFwiLFxuICAgICAgICBtYXJrZXJMYXJnZTogXCJtYXJrZXItbGFyZ2VcIixcbiAgICAgICAgbWFya2VyU3ViOiBcIm1hcmtlci1zdWJcIixcbiAgICAgICAgdmFsdWU6IFwidmFsdWVcIixcbiAgICAgICAgdmFsdWVIb3Jpem9udGFsOiBcInZhbHVlLWhvcml6b250YWxcIixcbiAgICAgICAgdmFsdWVWZXJ0aWNhbDogXCJ2YWx1ZS12ZXJ0aWNhbFwiLFxuICAgICAgICB2YWx1ZU5vcm1hbDogXCJ2YWx1ZS1ub3JtYWxcIixcbiAgICAgICAgdmFsdWVMYXJnZTogXCJ2YWx1ZS1sYXJnZVwiLFxuICAgICAgICB2YWx1ZVN1YjogXCJ2YWx1ZS1zdWJcIlxuICAgIH07XG4gICAgLy8gTmFtZXNwYWNlcyBvZiBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnNcbiAgICB2YXIgSU5URVJOQUxfRVZFTlRfTlMgPSB7XG4gICAgICAgIHRvb2x0aXBzOiBcIi5fX3Rvb2x0aXBzXCIsXG4gICAgICAgIGFyaWE6IFwiLl9fYXJpYVwiXG4gICAgfTtcbiAgICAvL2VuZHJlZ2lvblxuICAgIGZ1bmN0aW9uIHRlc3RTdGVwKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnc3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBzdGVwIG9wdGlvbiBjYW4gc3RpbGwgYmUgdXNlZCB0byBzZXQgc3RlcHBpbmdcbiAgICAgICAgLy8gZm9yIGxpbmVhciBzbGlkZXJzLiBPdmVyd3JpdHRlbiBpZiBzZXQgaW4gJ3JhbmdlJy5cbiAgICAgICAgcGFyc2VkLnNpbmdsZVN0ZXAgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEtleWJvYXJkUGFnZU11bHRpcGxpZXIocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZFBhZ2VNdWx0aXBsaWVyJyBpcyBub3QgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmtleWJvYXJkUGFnZU11bHRpcGxpZXIgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEtleWJvYXJkTXVsdGlwbGllcihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2tleWJvYXJkTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5rZXlib2FyZE11bHRpcGxpZXIgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEtleWJvYXJkRGVmYXVsdFN0ZXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZERlZmF1bHRTdGVwJyBpcyBub3QgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmtleWJvYXJkRGVmYXVsdFN0ZXAgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFJhbmdlKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gRmlsdGVyIGluY29ycmVjdCBpbnB1dC5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJvYmplY3RcIiB8fCBBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3JhbmdlJyBpcyBub3QgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaCBtaXNzaW5nIHN0YXJ0IG9yIGVuZC5cbiAgICAgICAgaWYgKGVudHJ5Lm1pbiA9PT0gdW5kZWZpbmVkIHx8IGVudHJ5Lm1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBNaXNzaW5nICdtaW4nIG9yICdtYXgnIGluICdyYW5nZScuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5zcGVjdHJ1bSA9IG5ldyBTcGVjdHJ1bShlbnRyeSwgcGFyc2VkLnNuYXAgfHwgZmFsc2UsIHBhcnNlZC5zaW5nbGVTdGVwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0YXJ0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgZW50cnkgPSBhc0FycmF5KGVudHJ5KTtcbiAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXQuIFZhbHVlcyBhcmVuJ3QgdGVzdGVkLCBhcyB0aGUgcHVibGljIC52YWwgbWV0aG9kXG4gICAgICAgIC8vIHdpbGwgYWx3YXlzIHByb3ZpZGUgYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSB8fCAhZW50cnkubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnc3RhcnQnIG9wdGlvbiBpcyBpbmNvcnJlY3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cbiAgICAgICAgcGFyc2VkLmhhbmRsZXMgPSBlbnRyeS5sZW5ndGg7XG4gICAgICAgIC8vIFdoZW4gdGhlIHNsaWRlciBpcyBpbml0aWFsaXplZCwgdGhlIC52YWwgbWV0aG9kIHdpbGxcbiAgICAgICAgLy8gYmUgY2FsbGVkIHdpdGggdGhlIHN0YXJ0IG9wdGlvbnMuXG4gICAgICAgIHBhcnNlZC5zdGFydCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U25hcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbmZvcmNlIDEwMCUgc3RlcHBpbmcgd2l0aGluIHN1YnJhbmdlcy5cbiAgICAgICAgcGFyc2VkLnNuYXAgPSBlbnRyeTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdEFuaW1hdGUocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RBbmltYXRpb25EdXJhdGlvbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdhbmltYXRpb25EdXJhdGlvbicgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5hbmltYXRpb25EdXJhdGlvbiA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0Q29ubmVjdChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHZhciBjb25uZWN0ID0gW2ZhbHNlXTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIC8vIE1hcCBsZWdhY3kgb3B0aW9uc1xuICAgICAgICBpZiAoZW50cnkgPT09IFwibG93ZXJcIikge1xuICAgICAgICAgICAgZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVudHJ5ID09PSBcInVwcGVyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYm9vbGVhbiBvcHRpb25zXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdHJ1ZSB8fCBlbnRyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdC5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbm5lY3QucHVzaChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVqZWN0IGludmFsaWQgaW5wdXRcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZW50cnkpIHx8ICFlbnRyeS5sZW5ndGggfHwgZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyArIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdjb25uZWN0JyBvcHRpb24gZG9lc24ndCBtYXRjaCBoYW5kbGUgY291bnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29ubmVjdCA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5jb25uZWN0ID0gY29ubmVjdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdE9yaWVudGF0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG4gICAgICAgIC8vIGFycmF5IHNlbGVjdGlvbi5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImhvcml6b250YWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5vcnQgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnb3JpZW50YXRpb24nIG9wdGlvbiBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0TWFyZ2luKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJc3N1ZSAjNTgyXG4gICAgICAgIGlmIChlbnRyeSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5tYXJnaW4gPSBwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0TGltaXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdsaW1pdCcgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmxpbWl0ID0gcGFyc2VkLnNwZWN0cnVtLmdldERpc3RhbmNlKGVudHJ5KTtcbiAgICAgICAgaWYgKCFwYXJzZWQubGltaXQgfHwgcGFyc2VkLmhhbmRsZXMgPCAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnbGltaXQnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycyB3aXRoIDIgb3IgbW9yZSBoYW5kbGVzLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0UGFkZGluZyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpICYmICFBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVudHJ5KSAmJiAhKGVudHJ5Lmxlbmd0aCA9PT0gMiB8fCBpc051bWVyaWMoZW50cnlbMF0pIHx8IGlzTnVtZXJpYyhlbnRyeVsxXSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYyBvciBhcnJheSBvZiBleGFjdGx5IDIgbnVtYmVycy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuICAgICAgICAgICAgZW50cnkgPSBbZW50cnksIGVudHJ5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyAnZ2V0RGlzdGFuY2UnIHJldHVybnMgZmFsc2UgZm9yIGludmFsaWQgdmFsdWVzLlxuICAgICAgICBwYXJzZWQucGFkZGluZyA9IFtwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnlbMF0pLCBwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnlbMV0pXTtcbiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgcGFyc2VkLnNwZWN0cnVtLnhOdW1TdGVwcy5sZW5ndGggLSAxOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAvLyBsYXN0IFwicmFuZ2VcIiBjYW4ndCBjb250YWluIHN0ZXAgc2l6ZSBhcyBpdCBpcyBwdXJlbHkgYW4gZW5kcG9pbnQuXG4gICAgICAgICAgICBpZiAocGFyc2VkLnBhZGRpbmdbMF1baW5kZXhdIDwgMCB8fCBwYXJzZWQucGFkZGluZ1sxXVtpbmRleF0gPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyKHMpLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdG90YWxQYWRkaW5nID0gZW50cnlbMF0gKyBlbnRyeVsxXTtcbiAgICAgICAgdmFyIGZpcnN0VmFsdWUgPSBwYXJzZWQuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IHBhcnNlZC5zcGVjdHJ1bS54VmFsW3BhcnNlZC5zcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodG90YWxQYWRkaW5nIC8gKGxhc3RWYWx1ZSAtIGZpcnN0VmFsdWUpID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IG5vdCBleGNlZWQgMTAwJSBvZiB0aGUgcmFuZ2UuXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3REaXJlY3Rpb24ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBTZXQgZGlyZWN0aW9uIGFzIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5IHBhcnNpbmcuXG4gICAgICAgIC8vIEludmVydCBjb25uZWN0aW9uIGZvciBSVEwgc2xpZGVycywgc28gdGhhdCB0aGUgcHJvcGVyXG4gICAgICAgIC8vIGhhbmRsZXMgZ2V0IHRoZSBjb25uZWN0L2JhY2tncm91bmQgY2xhc3Nlcy5cbiAgICAgICAgc3dpdGNoIChlbnRyeSkge1xuICAgICAgICAgICAgY2FzZSBcImx0clwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5kaXIgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJ0bFwiOlxuICAgICAgICAgICAgICAgIHBhcnNlZC5kaXIgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnZGlyZWN0aW9uJyBvcHRpb24gd2FzIG5vdCByZWNvZ25pemVkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0QmVoYXZpb3VyKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBpbnB1dCBpcyBhIHN0cmluZy5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2JlaGF2aW91cicgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIG9wdGlvbnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBzdHJpbmcgY29udGFpbnMgYW55IGtleXdvcmRzLlxuICAgICAgICAvLyBOb25lIGFyZSByZXF1aXJlZC5cbiAgICAgICAgdmFyIHRhcCA9IGVudHJ5LmluZGV4T2YoXCJ0YXBcIikgPj0gMDtcbiAgICAgICAgdmFyIGRyYWcgPSBlbnRyeS5pbmRleE9mKFwiZHJhZ1wiKSA+PSAwO1xuICAgICAgICB2YXIgZml4ZWQgPSBlbnRyeS5pbmRleE9mKFwiZml4ZWRcIikgPj0gMDtcbiAgICAgICAgdmFyIHNuYXAgPSBlbnRyeS5pbmRleE9mKFwic25hcFwiKSA+PSAwO1xuICAgICAgICB2YXIgaG92ZXIgPSBlbnRyeS5pbmRleE9mKFwiaG92ZXJcIikgPj0gMDtcbiAgICAgICAgdmFyIHVuY29uc3RyYWluZWQgPSBlbnRyeS5pbmRleE9mKFwidW5jb25zdHJhaW5lZFwiKSA+PSAwO1xuICAgICAgICB2YXIgZHJhZ0FsbCA9IGVudHJ5LmluZGV4T2YoXCJkcmFnLWFsbFwiKSA+PSAwO1xuICAgICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWQuaGFuZGxlcyAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVzZSBtYXJnaW4gdG8gZW5mb3JjZSBmaXhlZCBzdGF0ZVxuICAgICAgICAgICAgdGVzdE1hcmdpbihwYXJzZWQsIHBhcnNlZC5zdGFydFsxXSAtIHBhcnNlZC5zdGFydFswXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuY29uc3RyYWluZWQgJiYgKHBhcnNlZC5tYXJnaW4gfHwgcGFyc2VkLmxpbWl0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3VuY29uc3RyYWluZWQnIGJlaGF2aW91ciBjYW5ub3QgYmUgdXNlZCB3aXRoIG1hcmdpbiBvciBsaW1pdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuZXZlbnRzID0ge1xuICAgICAgICAgICAgdGFwOiB0YXAgfHwgc25hcCxcbiAgICAgICAgICAgIGRyYWc6IGRyYWcsXG4gICAgICAgICAgICBkcmFnQWxsOiBkcmFnQWxsLFxuICAgICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgICAgc25hcDogc25hcCxcbiAgICAgICAgICAgIGhvdmVyOiBob3ZlcixcbiAgICAgICAgICAgIHVuY29uc3RyYWluZWQ6IHVuY29uc3RyYWluZWRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFRvb2x0aXBzKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeSA9PT0gdHJ1ZSB8fCBpc1ZhbGlkUGFydGlhbEZvcm1hdHRlcihlbnRyeSkpIHtcbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkLnRvb2x0aXBzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW50cnkgPSBhc0FycmF5KGVudHJ5KTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogbXVzdCBwYXNzIGEgZm9ybWF0dGVyIGZvciBhbGwgaGFuZGxlcy5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRyeS5mb3JFYWNoKGZ1bmN0aW9uIChmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlciAhPT0gXCJib29sZWFuXCIgJiYgIWlzVmFsaWRQYXJ0aWFsRm9ybWF0dGVyKGZvcm1hdHRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ3Rvb2x0aXBzJyBtdXN0IGJlIHBhc3NlZCBhIGZvcm1hdHRlciBvciAnZmFsc2UnLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcyA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RIYW5kbGVBdHRyaWJ1dGVzKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6IG11c3QgcGFzcyBhIGF0dHJpYnV0ZXMgZm9yIGFsbCBoYW5kbGVzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuaGFuZGxlQXR0cmlidXRlcyA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0QXJpYUZvcm1hdChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNWYWxpZFBhcnRpYWxGb3JtYXR0ZXIoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnYXJpYUZvcm1hdCcgcmVxdWlyZXMgJ3RvJyBtZXRob2QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnNlZC5hcmlhRm9ybWF0ID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzVmFsaWRGb3JtYXR0ZXIoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAnZm9ybWF0JyByZXF1aXJlcyAndG8nIGFuZCAnZnJvbScgbWV0aG9kcy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmZvcm1hdCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0S2V5Ym9hcmRTdXBwb3J0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdrZXlib2FyZFN1cHBvcnQnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VkLmtleWJvYXJkU3VwcG9ydCA9IGVudHJ5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0RG9jdW1lbnRFbGVtZW50KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhbiBhZHZhbmNlZCBvcHRpb24uIFBhc3NlZCB2YWx1ZXMgYXJlIHVzZWQgd2l0aG91dCB2YWxpZGF0aW9uLlxuICAgICAgICBwYXJzZWQuZG9jdW1lbnRFbGVtZW50ID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RDc3NQcmVmaXgocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcInN0cmluZ1wiICYmIGVudHJ5ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2Nzc1ByZWZpeCcgbXVzdCBiZSBhIHN0cmluZyBvciBgZmFsc2VgLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJzZWQuY3NzUHJlZml4ID0gZW50cnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RDc3NDbGFzc2VzKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogJ2Nzc0NsYXNzZXMnIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhcnNlZC5jc3NQcmVmaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhlbnRyeSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkLmNzc0NsYXNzZXNba2V5XSA9IHBhcnNlZC5jc3NQcmVmaXggKyBlbnRyeVtrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJzZWQuY3NzQ2xhc3NlcyA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRlc3QgYWxsIGRldmVsb3BlciBzZXR0aW5ncyBhbmQgcGFyc2UgdG8gYXNzdW1wdGlvbi1zYWZlIHZhbHVlcy5cbiAgICBmdW5jdGlvbiB0ZXN0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIC8vIFRvIHByb3ZlIGEgZml4IGZvciAjNTM3LCBmcmVlemUgb3B0aW9ucyBoZXJlLlxuICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIG1vZGlmaWVkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICAgICAgLy8gT2JqZWN0LmZyZWV6ZShvcHRpb25zKTtcbiAgICAgICAgdmFyIHBhcnNlZCA9IHtcbiAgICAgICAgICAgIG1hcmdpbjogbnVsbCxcbiAgICAgICAgICAgIGxpbWl0OiBudWxsLFxuICAgICAgICAgICAgcGFkZGluZzogbnVsbCxcbiAgICAgICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgYXJpYUZvcm1hdDogZGVmYXVsdEZvcm1hdHRlcixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdHRlclxuICAgICAgICB9O1xuICAgICAgICAvLyBUZXN0cyBhcmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByZXNlbnRlZCBoZXJlLlxuICAgICAgICB2YXIgdGVzdHMgPSB7XG4gICAgICAgICAgICBzdGVwOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U3RlcCB9LFxuICAgICAgICAgICAga2V5Ym9hcmRQYWdlTXVsdGlwbGllcjogeyByOiBmYWxzZSwgdDogdGVzdEtleWJvYXJkUGFnZU11bHRpcGxpZXIgfSxcbiAgICAgICAgICAgIGtleWJvYXJkTXVsdGlwbGllcjogeyByOiBmYWxzZSwgdDogdGVzdEtleWJvYXJkTXVsdGlwbGllciB9LFxuICAgICAgICAgICAga2V5Ym9hcmREZWZhdWx0U3RlcDogeyByOiBmYWxzZSwgdDogdGVzdEtleWJvYXJkRGVmYXVsdFN0ZXAgfSxcbiAgICAgICAgICAgIHN0YXJ0OiB7IHI6IHRydWUsIHQ6IHRlc3RTdGFydCB9LFxuICAgICAgICAgICAgY29ubmVjdDogeyByOiB0cnVlLCB0OiB0ZXN0Q29ubmVjdCB9LFxuICAgICAgICAgICAgZGlyZWN0aW9uOiB7IHI6IHRydWUsIHQ6IHRlc3REaXJlY3Rpb24gfSxcbiAgICAgICAgICAgIHNuYXA6IHsgcjogZmFsc2UsIHQ6IHRlc3RTbmFwIH0sXG4gICAgICAgICAgICBhbmltYXRlOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0ZSB9LFxuICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRpb25EdXJhdGlvbiB9LFxuICAgICAgICAgICAgcmFuZ2U6IHsgcjogdHJ1ZSwgdDogdGVzdFJhbmdlIH0sXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogeyByOiBmYWxzZSwgdDogdGVzdE9yaWVudGF0aW9uIH0sXG4gICAgICAgICAgICBtYXJnaW46IHsgcjogZmFsc2UsIHQ6IHRlc3RNYXJnaW4gfSxcbiAgICAgICAgICAgIGxpbWl0OiB7IHI6IGZhbHNlLCB0OiB0ZXN0TGltaXQgfSxcbiAgICAgICAgICAgIHBhZGRpbmc6IHsgcjogZmFsc2UsIHQ6IHRlc3RQYWRkaW5nIH0sXG4gICAgICAgICAgICBiZWhhdmlvdXI6IHsgcjogdHJ1ZSwgdDogdGVzdEJlaGF2aW91ciB9LFxuICAgICAgICAgICAgYXJpYUZvcm1hdDogeyByOiBmYWxzZSwgdDogdGVzdEFyaWFGb3JtYXQgfSxcbiAgICAgICAgICAgIGZvcm1hdDogeyByOiBmYWxzZSwgdDogdGVzdEZvcm1hdCB9LFxuICAgICAgICAgICAgdG9vbHRpcHM6IHsgcjogZmFsc2UsIHQ6IHRlc3RUb29sdGlwcyB9LFxuICAgICAgICAgICAga2V5Ym9hcmRTdXBwb3J0OiB7IHI6IHRydWUsIHQ6IHRlc3RLZXlib2FyZFN1cHBvcnQgfSxcbiAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudDogeyByOiBmYWxzZSwgdDogdGVzdERvY3VtZW50RWxlbWVudCB9LFxuICAgICAgICAgICAgY3NzUHJlZml4OiB7IHI6IHRydWUsIHQ6IHRlc3RDc3NQcmVmaXggfSxcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IHsgcjogdHJ1ZSwgdDogdGVzdENzc0NsYXNzZXMgfSxcbiAgICAgICAgICAgIGhhbmRsZUF0dHJpYnV0ZXM6IHsgcjogZmFsc2UsIHQ6IHRlc3RIYW5kbGVBdHRyaWJ1dGVzIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29ubmVjdDogZmFsc2UsXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICAgICAgICBiZWhhdmlvdXI6IFwidGFwXCIsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHRydWUsXG4gICAgICAgICAgICBjc3NQcmVmaXg6IFwibm9VaS1cIixcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgICAgICBrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOiA1LFxuICAgICAgICAgICAga2V5Ym9hcmRNdWx0aXBsaWVyOiAxLFxuICAgICAgICAgICAga2V5Ym9hcmREZWZhdWx0U3RlcDogMTBcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXJpYUZvcm1hdCBkZWZhdWx0cyB0byByZWd1bGFyIGZvcm1hdCwgaWYgYW55LlxuICAgICAgICBpZiAob3B0aW9ucy5mb3JtYXQgJiYgIW9wdGlvbnMuYXJpYUZvcm1hdCkge1xuICAgICAgICAgICAgb3B0aW9ucy5hcmlhRm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUnVuIGFsbCBvcHRpb25zIHRocm91Z2ggYSB0ZXN0aW5nIG1lY2hhbmlzbSB0byBlbnN1cmUgY29ycmVjdFxuICAgICAgICAvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG9cbiAgICAgICAgLy8gYmUgaGFuZGxlZCBwcm9wZXJseS4gRS5nLiB3cmFwcGluZyBpbnRlZ2VycyBpbiBhcnJheXMuXG4gICAgICAgIE9iamVjdC5rZXlzKHRlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgb3B0aW9uIGlzbid0IHNldCwgYnV0IGl0IGlzIHJlcXVpcmVkLCB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgICAgIGlmICghaXNTZXQob3B0aW9uc1tuYW1lXSkgJiYgZGVmYXVsdHNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0ZXN0c1tuYW1lXS5yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXI6ICdcIiArIG5hbWUgKyBcIicgaXMgcmVxdWlyZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXN0c1tuYW1lXS50KHBhcnNlZCwgIWlzU2V0KG9wdGlvbnNbbmFtZV0pID8gZGVmYXVsdHNbbmFtZV0gOiBvcHRpb25zW25hbWVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEZvcndhcmQgcGlwcyBvcHRpb25zXG4gICAgICAgIHBhcnNlZC5waXBzID0gb3B0aW9ucy5waXBzO1xuICAgICAgICAvLyBBbGwgcmVjZW50IGJyb3dzZXJzIGFjY2VwdCB1bnByZWZpeGVkIHRyYW5zZm9ybS5cbiAgICAgICAgLy8gV2UgbmVlZCAtbXMtIGZvciBJRTkgYW5kIC13ZWJraXQtIGZvciBvbGRlciBBbmRyb2lkO1xuICAgICAgICAvLyBBc3N1bWUgdXNlIG9mIC13ZWJraXQtIGlmIHVucHJlZml4ZWQgYW5kIC1tcy0gYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgIC8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI2ZlYXQ9dHJhbnNmb3JtczJkXG4gICAgICAgIHZhciBkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdmFyIG1zUHJlZml4ID0gZC5zdHlsZS5tc1RyYW5zZm9ybSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbm9QcmVmaXggPSBkLnN0eWxlLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBwYXJzZWQudHJhbnNmb3JtUnVsZSA9IG5vUHJlZml4ID8gXCJ0cmFuc2Zvcm1cIiA6IG1zUHJlZml4ID8gXCJtc1RyYW5zZm9ybVwiIDogXCJ3ZWJraXRUcmFuc2Zvcm1cIjtcbiAgICAgICAgLy8gUGlwcyBkb24ndCBtb3ZlLCBzbyB3ZSBjYW4gcGxhY2UgdGhlbSB1c2luZyBsZWZ0L3RvcC5cbiAgICAgICAgdmFyIHN0eWxlcyA9IFtcbiAgICAgICAgICAgIFtcImxlZnRcIiwgXCJ0b3BcIl0sXG4gICAgICAgICAgICBbXCJyaWdodFwiLCBcImJvdHRvbVwiXVxuICAgICAgICBdO1xuICAgICAgICBwYXJzZWQuc3R5bGUgPSBzdHlsZXNbcGFyc2VkLmRpcl1bcGFyc2VkLm9ydF07XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuICAgIC8vZW5kcmVnaW9uXG4gICAgZnVuY3Rpb24gc2NvcGUodGFyZ2V0LCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBnZXRBY3Rpb25zKCk7XG4gICAgICAgIHZhciBzdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSA9IGdldFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lKCk7XG4gICAgICAgIHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBzdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSAmJiBnZXRTdXBwb3J0c1Bhc3NpdmUoKTtcbiAgICAgICAgLy8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnc2NvcGUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXG4gICAgICAgIC8vIFNsaWRlciBET00gTm9kZXNcbiAgICAgICAgdmFyIHNjb3BlX1RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdmFyIHNjb3BlX0Jhc2U7XG4gICAgICAgIHZhciBzY29wZV9IYW5kbGVzO1xuICAgICAgICB2YXIgc2NvcGVfQ29ubmVjdHM7XG4gICAgICAgIHZhciBzY29wZV9QaXBzO1xuICAgICAgICB2YXIgc2NvcGVfVG9vbHRpcHM7XG4gICAgICAgIC8vIFNsaWRlciBzdGF0ZSB2YWx1ZXNcbiAgICAgICAgdmFyIHNjb3BlX1NwZWN0cnVtID0gb3B0aW9ucy5zcGVjdHJ1bTtcbiAgICAgICAgdmFyIHNjb3BlX1ZhbHVlcyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfTG9jYXRpb25zID0gW107XG4gICAgICAgIHZhciBzY29wZV9IYW5kbGVOdW1iZXJzID0gW107XG4gICAgICAgIHZhciBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgPSAwO1xuICAgICAgICB2YXIgc2NvcGVfRXZlbnRzID0ge307XG4gICAgICAgIC8vIERvY3VtZW50IE5vZGVzXG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gb3B0aW9ucy5kb2N1bWVudEVsZW1lbnQgfHwgc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG4gICAgICAgIC8vIEZvciBob3Jpem9udGFsIHNsaWRlcnMgaW4gc3RhbmRhcmQgbHRyIGRvY3VtZW50cyxcbiAgICAgICAgLy8gbWFrZSAubm9VaS1vcmlnaW4gb3ZlcmZsb3cgdG8gdGhlIGxlZnQgc28gdGhlIGRvY3VtZW50IGRvZXNuJ3Qgc2Nyb2xsLlxuICAgICAgICB2YXIgc2NvcGVfRGlyT2Zmc2V0ID0gc2NvcGVfRG9jdW1lbnQuZGlyID09PSBcInJ0bFwiIHx8IG9wdGlvbnMub3J0ID09PSAxID8gMCA6IDEwMDtcbiAgICAgICAgLy8gQ3JlYXRlcyBhIG5vZGUsIGFkZHMgaXQgdG8gdGFyZ2V0LCByZXR1cm5zIHRoZSBuZXcgbm9kZS5cbiAgICAgICAgZnVuY3Rpb24gYWRkTm9kZVRvKGFkZFRhcmdldCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gc2NvcGVfRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhkaXYsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUYXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICAgIHJldHVybiBkaXY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwZW5kIGEgb3JpZ2luIHRvIHRoZSBiYXNlXG4gICAgICAgIGZ1bmN0aW9uIGFkZE9yaWdpbihiYXNlLCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW4gPSBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLm9yaWdpbik7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gYWRkTm9kZVRvKG9yaWdpbiwgb3B0aW9ucy5jc3NDbGFzc2VzLmhhbmRsZSk7XG4gICAgICAgICAgICBhZGROb2RlVG8oaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMudG91Y2hBcmVhKTtcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWhhbmRsZVwiLCBTdHJpbmcoaGFuZGxlTnVtYmVyKSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5rZXlib2FyZFN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0dsb2JhbF9hdHRyaWJ1dGVzL3RhYmluZGV4XG4gICAgICAgICAgICAgICAgLy8gMCA9IGZvY3VzYWJsZSBhbmQgcmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKTtcbiAgICAgICAgICAgICAgICBoYW5kbGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudEtleWRvd24oZXZlbnQsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oYW5kbGVBdHRyaWJ1dGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlc18xID0gb3B0aW9ucy5oYW5kbGVBdHRyaWJ1dGVzW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0cmlidXRlc18xKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIGF0dHJpYnV0ZXNfMVthdHRyaWJ1dGVdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwic2xpZGVyXCIpO1xuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImFyaWEtb3JpZW50YXRpb25cIiwgb3B0aW9ucy5vcnQgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIik7XG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlTG93ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFuZGxlTnVtYmVyID09PSBvcHRpb25zLmhhbmRsZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlVXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcbiAgICAgICAgZnVuY3Rpb24gYWRkQ29ubmVjdChiYXNlLCBhZGQpIHtcbiAgICAgICAgICAgIGlmICghYWRkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGhhbmRsZXMgdG8gdGhlIHNsaWRlciBiYXNlLlxuICAgICAgICBmdW5jdGlvbiBhZGRFbGVtZW50cyhjb25uZWN0T3B0aW9ucywgYmFzZSkge1xuICAgICAgICAgICAgdmFyIGNvbm5lY3RCYXNlID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0cyk7XG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzID0gW107XG4gICAgICAgICAgICBzY29wZV9Db25uZWN0cyA9IFtdO1xuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMucHVzaChhZGRDb25uZWN0KGNvbm5lY3RCYXNlLCBjb25uZWN0T3B0aW9uc1swXSkpO1xuICAgICAgICAgICAgLy8gWzo6OjpPPT09PU89PT09Tz09PT1dXG4gICAgICAgICAgICAvLyBjb25uZWN0T3B0aW9ucyA9IFswLCAxLCAxLCAxXVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMucHVzaChhZGRPcmlnaW4oYmFzZSwgaSkpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChjb25uZWN0QmFzZSwgY29ubmVjdE9wdGlvbnNbaSArIDFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhIHNpbmdsZSBzbGlkZXIuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlcihhZGRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIEFwcGx5IGNsYXNzZXMgYW5kIGRhdGEgdG8gdGhlIHRhcmdldC5cbiAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcmdldCk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5sdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9ydCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmhvcml6b250YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudmVydGljYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHREaXJlY3Rpb24gPSBnZXRDb21wdXRlZFN0eWxlKGFkZFRhcmdldCkuZGlyZWN0aW9uO1xuICAgICAgICAgICAgaWYgKHRleHREaXJlY3Rpb24gPT09IFwicnRsXCIpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uUnRsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRleHREaXJlY3Rpb25MdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRUb29sdGlwKGhhbmRsZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudG9vbHRpcHMgfHwgIW9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGROb2RlVG8oaGFuZGxlLmZpcnN0Q2hpbGQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50b29sdGlwKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpc1NsaWRlckRpc2FibGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1RhcmdldC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEaXNhYmxlIHRoZSBzbGlkZXIgZHJhZ2dpbmcgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICBmdW5jdGlvbiBpc0hhbmRsZURpc2FibGVkKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVPcmlnaW4uaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcHMoKSB7XG4gICAgICAgICAgICBpZiAoc2NvcGVfVG9vbHRpcHMpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudChcInVwZGF0ZVwiICsgSU5URVJOQUxfRVZFTlRfTlMudG9vbHRpcHMpO1xuICAgICAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzLmZvckVhY2goZnVuY3Rpb24gKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuICAgICAgICBmdW5jdGlvbiB0b29sdGlwcygpIHtcbiAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzKCk7XG4gICAgICAgICAgICAvLyBUb29sdGlwcyBhcmUgYWRkZWQgd2l0aCBvcHRpb25zLnRvb2x0aXBzIGluIG9yaWdpbmFsIG9yZGVyLlxuICAgICAgICAgICAgc2NvcGVfVG9vbHRpcHMgPSBzY29wZV9IYW5kbGVzLm1hcChhZGRUb29sdGlwKTtcbiAgICAgICAgICAgIGJpbmRFdmVudChcInVwZGF0ZVwiICsgSU5URVJOQUxfRVZFTlRfTlMudG9vbHRpcHMsIGZ1bmN0aW9uICh2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZV9Ub29sdGlwcyB8fCAhb3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY29wZV9Ub29sdGlwc1toYW5kbGVOdW1iZXJdID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHZhbHVlc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSBvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0udG8odW5lbmNvZGVkW2hhbmRsZU51bWJlcl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYXJpYSgpIHtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KFwidXBkYXRlXCIgKyBJTlRFUk5BTF9FVkVOVF9OUy5hcmlhKTtcbiAgICAgICAgICAgIGJpbmRFdmVudChcInVwZGF0ZVwiICsgSU5URVJOQUxfRVZFTlRfTlMuYXJpYSwgZnVuY3Rpb24gKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQsIHRhcCwgcG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIEFyaWEgVmFsdWVzIGZvciBhbGwgaGFuZGxlcywgYXMgYSBjaGFuZ2UgaW4gb25lIGNoYW5nZXMgbWluIGFuZCBtYXggdmFsdWVzIGZvciB0aGUgbmV4dC5cbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGUgPSBzY29wZV9IYW5kbGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbiA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBpbmRleCwgMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXggPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaW5kZXgsIDEwMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3cgPSBwb3NpdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXR0ZWQgdmFsdWUgZm9yIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBTdHJpbmcob3B0aW9ucy5hcmlhRm9ybWF0LnRvKHVuZW5jb2RlZFtpbmRleF0pKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFwIHRvIHNsaWRlciByYW5nZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgbWluID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKG1pbikudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKG1heCkudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICAgICAgbm93ID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKG5vdykudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVtaW5cIiwgbWluKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVtYXhcIiwgbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIiwgbm93KTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsIHRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0R3JvdXAocGlwcykge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSByYW5nZS5cbiAgICAgICAgICAgIGlmIChwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuUmFuZ2UgfHwgcGlwcy5tb2RlID09PSBleHBvcnRzLlBpcHNNb2RlLlN0ZXBzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLnhWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGlwcy5tb2RlID09PSBleHBvcnRzLlBpcHNNb2RlLkNvdW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBpcHMudmFsdWVzIDwgMikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiAndmFsdWVzJyAoPj0gMikgcmVxdWlyZWQgZm9yIG1vZGUgJ2NvdW50Jy5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSAwIC0gMTAwIGluICdjb3VudCcgcGFydHMuXG4gICAgICAgICAgICAgICAgdmFyIGludGVydmFsID0gcGlwcy52YWx1ZXMgLSAxO1xuICAgICAgICAgICAgICAgIHZhciBzcHJlYWQgPSAxMDAgLyBpbnRlcnZhbDtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgLy8gTGlzdCB0aGVzZSBwYXJ0cyBhbmQgaGF2ZSB0aGVtIGhhbmRsZWQgYXMgJ3Bvc2l0aW9ucycuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGludGVydmFsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ludGVydmFsXSA9IGludGVydmFsICogc3ByZWFkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCgxMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXBUb1JhbmdlKHZhbHVlcywgcGlwcy5zdGVwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuUG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFwIGFsbCBwZXJjZW50YWdlcyB0byBvbi1yYW5nZSB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcFRvUmFuZ2UocGlwcy52YWx1ZXMsIHBpcHMuc3RlcHBlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGlwcy5tb2RlID09PSBleHBvcnRzLlBpcHNNb2RlLlZhbHVlcykge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBtdXN0IGJlIHN0ZXBwZWQsIGl0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhIHBlcmNlbnRhZ2UgZmlyc3QuXG4gICAgICAgICAgICAgICAgaWYgKHBpcHMuc3RlcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlwcy52YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBwZXJjZW50YWdlLCBhcHBseSBzdGVwLCByZXR1cm4gdG8gdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2UgY2FuIHNpbXBseSB1c2UgdGhlIHZhbHVlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gcGlwcy52YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW107IC8vIHBpcHMubW9kZSA9IG5ldmVyXG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFwVG9SYW5nZSh2YWx1ZXMsIHN0ZXBwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoc3RlcHBlZCA/IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVTcHJlYWQocGlwcykge1xuICAgICAgICAgICAgZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgZmxvYXRpbmcgcG9pbnQgdmFyaWFuY2UgYnkgZHJvcHBpbmcgdGhlIHNtYWxsZXN0IGRlY2ltYWwgcGxhY2VzLlxuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoKHZhbHVlICsgaW5jcmVtZW50KS50b0ZpeGVkKDcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBncm91cCA9IGdldEdyb3VwKHBpcHMpO1xuICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSB7fTtcbiAgICAgICAgICAgIHZhciBmaXJzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsWzBdO1xuICAgICAgICAgICAgdmFyIGxhc3RJblJhbmdlID0gc2NvcGVfU3BlY3RydW0ueFZhbFtzY29wZV9TcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIGlnbm9yZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaWdub3JlTGFzdCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHByZXZQY3QgPSAwO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgY29weSBvZiB0aGUgZ3JvdXAsIHNvcnQgaXQgYW5kIGZpbHRlciBhd2F5IGFsbCBkdXBsaWNhdGVzLlxuICAgICAgICAgICAgZ3JvdXAgPSB1bmlxdWUoZ3JvdXAuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgLSBiO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSByYW5nZSBzdGFydHMgd2l0aCB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChncm91cFswXSAhPT0gZmlyc3RJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAudW5zaGlmdChmaXJzdEluUmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlnbm9yZUZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExpa2V3aXNlIGZvciB0aGUgbGFzdCBvbmUuXG4gICAgICAgICAgICBpZiAoZ3JvdXBbZ3JvdXAubGVuZ3RoIC0gMV0gIT09IGxhc3RJblJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAucHVzaChsYXN0SW5SYW5nZSk7XG4gICAgICAgICAgICAgICAgaWdub3JlTGFzdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncm91cC5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIGFuZCB0aGUgbG93ZXIgKyB1cHBlciBwb3NpdGlvbnMuXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHE7XG4gICAgICAgICAgICAgICAgdmFyIGxvdyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBncm91cFtpbmRleCArIDFdO1xuICAgICAgICAgICAgICAgIHZhciBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgdmFyIHBjdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIHBjdFBvcztcbiAgICAgICAgICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWxTdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3RlcHMgPSBwaXBzLm1vZGUgPT09IGV4cG9ydHMuUGlwc01vZGUuU3RlcHM7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB1c2luZyAnc3RlcHMnIG1vZGUsIHVzZSB0aGUgcHJvdmlkZWQgc3RlcHMuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSdsbCBzdGVwIG9uIHRvIHRoZSBuZXh0IHN1YnJhbmdlLlxuICAgICAgICAgICAgICAgIGlmIChpc1N0ZXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAgPSBzY29wZV9TcGVjdHJ1bS54TnVtU3RlcHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIGEgJ2Z1bGwnIHN0ZXAuXG4gICAgICAgICAgICAgICAgaWYgKCFzdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAgPSBoaWdoIC0gbG93O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBoaWdoIGlzIHVuZGVmaW5lZCB3ZSBhcmUgYXQgdGhlIGxhc3Qgc3VicmFuZ2UuIE1ha2Ugc3VyZSBpdCBpdGVyYXRlcyBvbmNlICgjMTA4OClcbiAgICAgICAgICAgICAgICBpZiAoaGlnaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2ggPSBsb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzdGVwIGlzbid0IDAsIHdoaWNoIHdvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3AgKCM2NTQpXG4gICAgICAgICAgICAgICAgc3RlcCA9IE1hdGgubWF4KHN0ZXAsIDAuMDAwMDAwMSk7XG4gICAgICAgICAgICAgICAgLy8gRmluZCBhbGwgc3RlcHMgaW4gdGhlIHN1YnJhbmdlLlxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGxvdzsgaSA8PSBoaWdoOyBpID0gc2FmZUluY3JlbWVudChpLCBzdGVwKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSBjdXJyZW50IHN0ZXAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgc2l6ZSBmb3IgdGhlIHN1YnJhbmdlLlxuICAgICAgICAgICAgICAgICAgICBuZXdQY3QgPSBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKGkpO1xuICAgICAgICAgICAgICAgICAgICBwY3REaWZmZXJlbmNlID0gbmV3UGN0IC0gcHJldlBjdDtcbiAgICAgICAgICAgICAgICAgICAgc3RlcHMgPSBwY3REaWZmZXJlbmNlIC8gKHBpcHMuZGVuc2l0eSB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhbFN0ZXBzID0gTWF0aC5yb3VuZChzdGVwcyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcmF0aW8gcmVwcmVzZW50cyB0aGUgYW1vdW50IG9mIHBlcmNlbnRhZ2Utc3BhY2UgYSBwb2ludCBpbmRpY2F0ZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBhIGRlbnNpdHkgMSB0aGUgcG9pbnRzL3BlcmNlbnRhZ2UgPSAxLiBGb3IgZGVuc2l0eSAyLCB0aGF0IHBlcmNlbnRhZ2UgbmVlZHMgdG8gYmUgcmUtZGl2aWRlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gUm91bmQgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IHRvIGFuIGV2ZW4gbnVtYmVyLCB0aGVuIGRpdmlkZSBieSB0d29cbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gc3ByZWFkIHRoZSBvZmZzZXQgb24gYm90aCBzaWRlcyBvZiB0aGUgcmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplID0gcGN0RGlmZmVyZW5jZSAvIHJlYWxTdGVwcztcbiAgICAgICAgICAgICAgICAgICAgLy8gRGl2aWRlIGFsbCBwb2ludHMgZXZlbmx5LCBhZGRpbmcgdGhlIGNvcnJlY3QgbnVtYmVyIHRvIHRoaXMgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJ1biB1cCB0byA8PSBzbyB0aGF0IDEwMCUgZ2V0cyBhIHBvaW50LCBldmVudCBpZiBpZ25vcmVMYXN0IGlzIHNldC5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChxID0gMTsgcSA8PSByZWFsU3RlcHM7IHEgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJhdGlvIGJldHdlZW4gdGhlIHJvdW5kZWQgdmFsdWUgYW5kIHRoZSBhY3R1YWwgc2l6ZSBtaWdodCBiZSB+MSUgb2ZmLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgYnkgdGhlIG51bWJlciBvZiBwb2ludHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBlciBzdWJyYW5nZS4gZGVuc2l0eSA9IDEgd2lsbCByZXN1bHQgaW4gMTAwIHBvaW50cyBvbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZ1bGwgcmFuZ2UsIDIgZm9yIDUwLCA0IGZvciAyNSwgZXRjLlxuICAgICAgICAgICAgICAgICAgICAgICAgcGN0UG9zID0gcHJldlBjdCArIHEgKiBzdGVwU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXNbcGN0UG9zLnRvRml4ZWQoNSldID0gW3Njb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhwY3RQb3MpLCAwXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHBvaW50IHR5cGUuXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBncm91cC5pbmRleE9mKGkpID4gLTEgPyBleHBvcnRzLlBpcHNUeXBlLkxhcmdlVmFsdWUgOiBpc1N0ZXBzID8gZXhwb3J0cy5QaXBzVHlwZS5TbWFsbFZhbHVlIDogZXhwb3J0cy5QaXBzVHlwZS5Ob1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmZvcmNlIHRoZSAnaWdub3JlRmlyc3QnIG9wdGlvbiBieSBvdmVyd3JpdGluZyB0aGUgdHlwZSBmb3IgMC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmRleCAmJiBpZ25vcmVGaXJzdCAmJiBpICE9PSBoaWdoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIShpID09PSBoaWdoICYmIGlnbm9yZUxhc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXJrIHRoZSAndHlwZScgb2YgdGhpcyBwb2ludC4gMCA9IHBsYWluLCAxID0gcmVhbCB2YWx1ZSwgMiA9IHN0ZXAgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleGVzW25ld1BjdC50b0ZpeGVkKDUpXSA9IFtpLCB0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXG4gICAgICAgICAgICAgICAgICAgIHByZXZQY3QgPSBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXhlcztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRNYXJraW5nKHNwcmVhZCwgZmlsdGVyRnVuYywgZm9ybWF0dGVyKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdmFyIHZhbHVlU2l6ZUNsYXNzZXMgPSAoX2EgPSB7fSxcbiAgICAgICAgICAgICAgICBfYVtleHBvcnRzLlBpcHNUeXBlLk5vbmVdID0gXCJcIixcbiAgICAgICAgICAgICAgICBfYVtleHBvcnRzLlBpcHNUeXBlLk5vVmFsdWVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlTm9ybWFsLFxuICAgICAgICAgICAgICAgIF9hW2V4cG9ydHMuUGlwc1R5cGUuTGFyZ2VWYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVMYXJnZSxcbiAgICAgICAgICAgICAgICBfYVtleHBvcnRzLlBpcHNUeXBlLlNtYWxsVmFsdWVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlU3ViLFxuICAgICAgICAgICAgICAgIF9hKTtcbiAgICAgICAgICAgIHZhciBtYXJrZXJTaXplQ2xhc3NlcyA9IChfYiA9IHt9LFxuICAgICAgICAgICAgICAgIF9iW2V4cG9ydHMuUGlwc1R5cGUuTm9uZV0gPSBcIlwiLFxuICAgICAgICAgICAgICAgIF9iW2V4cG9ydHMuUGlwc1R5cGUuTm9WYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsLFxuICAgICAgICAgICAgICAgIF9iW2V4cG9ydHMuUGlwc1R5cGUuTGFyZ2VWYWx1ZV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTGFyZ2UsXG4gICAgICAgICAgICAgICAgX2JbZXhwb3J0cy5QaXBzVHlwZS5TbWFsbFZhbHVlXSA9IG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJTdWIsXG4gICAgICAgICAgICAgICAgX2IpO1xuICAgICAgICAgICAgdmFyIHZhbHVlT3JpZW50YXRpb25DbGFzc2VzID0gW29wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUhvcml6b250YWwsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZVZlcnRpY2FsXTtcbiAgICAgICAgICAgIHZhciBtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXMgPSBbb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckhvcml6b250YWwsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJWZXJ0aWNhbF07XG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLmNzc0NsYXNzZXMucGlwcyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLm9ydCA9PT0gMCA/IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbCA6IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpO1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q2xhc3Nlcyh0eXBlLCBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IHNvdXJjZSA9PT0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBvcmllbnRhdGlvbkNsYXNzZXMgPSBhID8gdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgOiBtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXM7XG4gICAgICAgICAgICAgICAgdmFyIHNpemVDbGFzc2VzID0gYSA/IHZhbHVlU2l6ZUNsYXNzZXMgOiBtYXJrZXJTaXplQ2xhc3NlcztcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlICsgXCIgXCIgKyBvcmllbnRhdGlvbkNsYXNzZXNbb3B0aW9ucy5vcnRdICsgXCIgXCIgKyBzaXplQ2xhc3Nlc1t0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFNwcmVhZChvZmZzZXQsIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LlxuICAgICAgICAgICAgICAgIHR5cGUgPSBmaWx0ZXJGdW5jID8gZmlsdGVyRnVuYyh2YWx1ZSwgdHlwZSkgOiB0eXBlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBleHBvcnRzLlBpcHNUeXBlLk5vbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBtYXJrZXIgZm9yIGV2ZXJ5IHBvaW50XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gZ2V0Q2xhc3Nlcyh0eXBlLCBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyKTtcbiAgICAgICAgICAgICAgICBub2RlLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gb2Zmc2V0ICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgLy8gVmFsdWVzIGFyZSBvbmx5IGFwcGVuZGVkIGZvciBwb2ludHMgbWFya2VkICcxJyBvciAnMicuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPiBleHBvcnRzLlBpcHNUeXBlLk5vVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGFkZE5vZGVUbyhlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gZ2V0Q2xhc3Nlcyh0eXBlLCBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtdmFsdWVcIiwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBTdHJpbmcoZm9ybWF0dGVyLnRvKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXBwZW5kIGFsbCBwb2ludHMuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzcHJlYWQpLmZvckVhY2goZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGFkZFNwcmVhZChvZmZzZXQsIHNwcmVhZFtvZmZzZXRdWzBdLCBzcHJlYWRbb2Zmc2V0XVsxXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZVBpcHMoKSB7XG4gICAgICAgICAgICBpZiAoc2NvcGVfUGlwcykge1xuICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQoc2NvcGVfUGlwcyk7XG4gICAgICAgICAgICAgICAgc2NvcGVfUGlwcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcGlwcyhwaXBzKSB7XG4gICAgICAgICAgICAvLyBGaXggIzY2OVxuICAgICAgICAgICAgcmVtb3ZlUGlwcygpO1xuICAgICAgICAgICAgdmFyIHNwcmVhZCA9IGdlbmVyYXRlU3ByZWFkKHBpcHMpO1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IHBpcHMuZmlsdGVyO1xuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHBpcHMuZm9ybWF0IHx8IHtcbiAgICAgICAgICAgICAgICB0bzogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoTWF0aC5yb3VuZCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY29wZV9QaXBzID0gc2NvcGVfVGFyZ2V0LmFwcGVuZENoaWxkKGFkZE1hcmtpbmcoc3ByZWFkLCBmaWx0ZXIsIGZvcm1hdCkpO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1BpcHM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VTaXplKCkge1xuICAgICAgICAgICAgdmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGFsdCA9IChcIm9mZnNldFwiICsgW1wiV2lkdGhcIiwgXCJIZWlnaHRcIl1bb3B0aW9ucy5vcnRdKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm9ydCA9PT0gMCA/IHJlY3Qud2lkdGggfHwgc2NvcGVfQmFzZVthbHRdIDogcmVjdC5oZWlnaHQgfHwgc2NvcGVfQmFzZVthbHRdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaEV2ZW50KGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG4gICAgICAgICAgICAvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGZpeEV2ZW50KGV2ZW50LCBkYXRhLnBhZ2VPZmZzZXQsIGRhdGEudGFyZ2V0IHx8IGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9Ob3RSZWplY3QgaXMgcGFzc2VkIGJ5IGFsbCBlbmQgZXZlbnRzIHRvIG1ha2Ugc3VyZSByZWxlYXNlZCB0b3VjaGVzXG4gICAgICAgICAgICAgICAgLy8gYXJlIG5vdCByZWplY3RlZCwgbGVhdmluZyB0aGUgc2xpZGVyIFwic3R1Y2tcIiB0byB0aGUgY3Vyc29yO1xuICAgICAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIGFuIGFjdGl2ZSAndGFwJyB0cmFuc2l0aW9uIGlzIHRha2luZyBwbGFjZS5cbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaG92ZXIgJiYgZS5idXR0b25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gJ3N1cHBvcnRzUGFzc2l2ZScgaXMgb25seSB0cnVlIGlmIGEgYnJvd3NlciBhbHNvIHN1cHBvcnRzIHRvdWNoLWFjdGlvbjogbm9uZSBpbiBDU1MuXG4gICAgICAgICAgICAgICAgLy8gaU9TIHNhZmFyaSBkb2VzIG5vdCwgc28gaXQgZG9lc24ndCBnZXQgdG8gYmVuZWZpdCBmcm9tIHBhc3NpdmUgc2Nyb2xsaW5nLiBpT1MgZG9lcyBzdXBwb3J0XG4gICAgICAgICAgICAgICAgLy8gdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb24sIGJ1dCB0aGF0IGFsbG93cyBwYW5uaW5nLCB3aGljaCBicmVha3NcbiAgICAgICAgICAgICAgICAvLyBzbGlkZXJzIGFmdGVyIHpvb21pbmcvb24gbm9uLXJlc3BvbnNpdmUgcGFnZXMuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMzMTEyXG4gICAgICAgICAgICAgICAgaWYgKCFzdXBwb3J0c1Bhc3NpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBldmVudCBoYW5kbGVyIHdpdGggdGhlIGV2ZW50IFsgYW5kIGFkZGl0aW9uYWwgZGF0YSBdLlxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGUsIGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuICAgICAgICAgICAgLy8gQmluZCBhIGNsb3N1cmUgb24gdGhlIHRhcmdldCBmb3IgZXZlcnkgZXZlbnQgdHlwZS5cbiAgICAgICAgICAgIGV2ZW50cy5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbWV0aG9kLCBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2goW2V2ZW50TmFtZSwgbWV0aG9kXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb3ZpZGUgYSBjbGVhbiBldmVudCB3aXRoIHN0YW5kYXJkaXplZCBvZmZzZXQgdmFsdWVzLlxuICAgICAgICBmdW5jdGlvbiBmaXhFdmVudChlLCBwYWdlT2Zmc2V0LCBldmVudFRhcmdldCkge1xuICAgICAgICAgICAgLy8gRmlsdGVyIHRoZSBldmVudCB0byByZWdpc3RlciB0aGUgdHlwZSwgd2hpY2ggY2FuIGJlXG4gICAgICAgICAgICAvLyB0b3VjaCwgbW91c2Ugb3IgcG9pbnRlci4gT2Zmc2V0IGNoYW5nZXMgbmVlZCB0byBiZVxuICAgICAgICAgICAgLy8gbWFkZSBvbiBhbiBldmVudCBzcGVjaWZpYyBiYXNpcy5cbiAgICAgICAgICAgIHZhciB0b3VjaCA9IGUudHlwZS5pbmRleE9mKFwidG91Y2hcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgbW91c2UgPSBlLnR5cGUuaW5kZXhPZihcIm1vdXNlXCIpID09PSAwO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXIgPSBlLnR5cGUuaW5kZXhPZihcInBvaW50ZXJcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICAvLyBJRTEwIGltcGxlbWVudGVkIHBvaW50ZXIgZXZlbnRzIHdpdGggYSBwcmVmaXg7XG4gICAgICAgICAgICBpZiAoZS50eXBlLmluZGV4T2YoXCJNU1BvaW50ZXJcIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVycm9uZW91cyBldmVudHMgc2VlbSB0byBiZSBwYXNzZWQgaW4gb2NjYXNpb25hbGx5IG9uIGlPUy9pUGFkT1MgYWZ0ZXIgdXNlciBmaW5pc2hlcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgc2xpZGVyLiBUaGV5IGFwcGVhciB0byBiZSBvZiB0eXBlIE1vdXNlRXZlbnQsIHlldCB0aGV5IGRvbid0IGhhdmUgdXN1YWwgcHJvcGVydGllcyBzZXQuIElnbm9yZVxuICAgICAgICAgICAgLy8gZXZlbnRzIHRoYXQgaGF2ZSBubyB0b3VjaGVzIG9yIGJ1dHRvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZW0uICgjMTA1NywgIzEwNzksICMxMDk1KVxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiAhZS5idXR0b25zICYmICFlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgb25seSB0aGluZyBvbmUgaGFuZGxlIHNob3VsZCBiZSBjb25jZXJuZWQgYWJvdXQgaXMgdGhlIHRvdWNoZXMgdGhhdCBvcmlnaW5hdGVkIG9uIHRvcCBvZiBpdC5cbiAgICAgICAgICAgIGlmICh0b3VjaCkge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZiBhIHRvdWNoIG9yaWdpbmF0ZWQgb24gdGhlIHRhcmdldC5cbiAgICAgICAgICAgICAgICB2YXIgaXNUb3VjaE9uVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrVG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNoZWNrVG91Y2gudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRhcmdldCA9PT0gZXZlbnRUYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmNvbnRhaW5zKHRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlLmNvbXBvc2VkICYmIGUuY29tcG9zZWRQYXRoKCkuc2hpZnQoKSA9PT0gZXZlbnRUYXJnZXQpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG4gICAgICAgICAgICAgICAgLy8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGUgb3RoZXIgY2FzZXMsIGZpbmQgb24gY2hhbmdlZFRvdWNoZXMgaXMgZW5vdWdoLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VG91Y2ggPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUuY2hhbmdlZFRvdWNoZXMsIGlzVG91Y2hPblRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbmNlbCBpZiB0aGUgdGFyZ2V0IHRvdWNoIGhhcyBub3QgbW92ZWQuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0VG91Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlT2Zmc2V0ID0gcGFnZU9mZnNldCB8fCBnZXRQYWdlT2Zmc2V0KHNjb3BlX0RvY3VtZW50KTtcbiAgICAgICAgICAgIGlmIChtb3VzZSB8fCBwb2ludGVyKSB7XG4gICAgICAgICAgICAgICAgeCA9IGUuY2xpZW50WCArIHBhZ2VPZmZzZXQueDtcbiAgICAgICAgICAgICAgICB5ID0gZS5jbGllbnRZICsgcGFnZU9mZnNldC55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcbiAgICAgICAgICAgIGUucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJhbnNsYXRlIGEgY29vcmRpbmF0ZSBpbiB0aGUgZG9jdW1lbnQgdG8gYSBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcbiAgICAgICAgZnVuY3Rpb24gY2FsY1BvaW50VG9QZXJjZW50YWdlKGNhbGNQb2ludCkge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gY2FsY1BvaW50IC0gb2Zmc2V0KHNjb3BlX0Jhc2UsIG9wdGlvbnMub3J0KTtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IChsb2NhdGlvbiAqIDEwMCkgLyBiYXNlU2l6ZSgpO1xuICAgICAgICAgICAgLy8gQ2xhbXAgcHJvcG9zYWwgYmV0d2VlbiAwJSBhbmQgMTAwJVxuICAgICAgICAgICAgLy8gT3V0LW9mLWJvdW5kIGNvb3JkaW5hdGVzIG1heSBvY2N1ciB3aGVuIC5ub1VpLWJhc2UgcHNldWRvLWVsZW1lbnRzXG4gICAgICAgICAgICAvLyBhcmUgdXNlZCAoZS5nLiBjb250YWluZWQgaGFuZGxlcyBmZWF0dXJlKVxuICAgICAgICAgICAgcHJvcG9zYWwgPSBsaW1pdChwcm9wb3NhbCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBwcm9wb3NhbCA6IHByb3Bvc2FsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgaGFuZGxlIGNsb3Nlc3QgdG8gYSBjZXJ0YWluIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuICAgICAgICBmdW5jdGlvbiBnZXRDbG9zZXN0SGFuZGxlKGNsaWNrZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgdmFyIHNtYWxsZXN0RGlmZmVyZW5jZSA9IDEwMDtcbiAgICAgICAgICAgIHZhciBoYW5kbGVOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIERpc2FibGVkIGhhbmRsZXMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBpZiAoaXNIYW5kbGVEaXNhYmxlZChpbmRleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlUG9zaXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPSBNYXRoLmFicyhoYW5kbGVQb3NpdGlvbiAtIGNsaWNrZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBjbGlja0F0RWRnZSA9IGRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSA9PT0gMTAwICYmIHNtYWxsZXN0RGlmZmVyZW5jZSA9PT0gMTAwO1xuICAgICAgICAgICAgICAgIC8vIERpZmZlcmVuY2Ugd2l0aCB0aGlzIGhhbmRsZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHByZXZpb3VzbHkgY2hlY2tlZCBoYW5kbGVcbiAgICAgICAgICAgICAgICB2YXIgaXNDbG9zZXIgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPCBzbWFsbGVzdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGlzQ2xvc2VyQWZ0ZXIgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPD0gc21hbGxlc3REaWZmZXJlbmNlICYmIGNsaWNrZWRQb3NpdGlvbiA+IGhhbmRsZVBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChpc0Nsb3NlciB8fCBpc0Nsb3NlckFmdGVyIHx8IGNsaWNrQXRFZGdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBzbWFsbGVzdERpZmZlcmVuY2UgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpcmUgJ2VuZCcgd2hlbiBhIG1vdXNlIG9yIHBlbiBsZWF2ZXMgdGhlIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBkb2N1bWVudExlYXZlKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJtb3VzZW91dFwiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50TW92ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgLy8gRml4ICM0OThcbiAgICAgICAgICAgIC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuICAgICAgICAgICAgLy8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuICAgICAgICAgICAgLy8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgbW92aW5nIHVwIG9yIGRvd25cbiAgICAgICAgICAgIHZhciBtb3ZlbWVudCA9IChvcHRpb25zLmRpciA/IC0xIDogMSkgKiAoZXZlbnQuY2FsY1BvaW50IC0gZGF0YS5zdGFydENhbGNQb2ludCk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBtb3ZlbWVudCBpbnRvIGEgcGVyY2VudGFnZSBvZiB0aGUgc2xpZGVyIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gKG1vdmVtZW50ICogMTAwKSAvIGRhdGEuYmFzZVNpemU7XG4gICAgICAgICAgICBtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzLCBkYXRhLmNvbm5lY3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50RW5kKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGUpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVbmJpbmQgdGhlIG1vdmUgYW5kIGVuZCBldmVudHMsIHdoaWNoIGFyZSBhZGRlZCBvbiAnc3RhcnQnLlxuICAgICAgICAgICAgZGF0YS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIHNjb3BlX0RvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGNbMF0sIGNbMV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJzb3Igc3R5bGVzIGFuZCB0ZXh0LXNlbGVjdGlvbiBldmVudHMgYm91bmQgdG8gdGhlIGJvZHkuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiZW5kXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBCaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBldmVudFN0YXJ0KGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXZlbnQgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgaWYgKGRhdGEuaGFuZGxlTnVtYmVycy5zb21lKGlzSGFuZGxlRGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhbmRsZTtcbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcbiAgICAgICAgICAgICAgICBoYW5kbGUgPSBoYW5kbGVPcmlnaW4uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ICs9IDE7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgaGFuZGxlIGFzICdhY3RpdmUnIHNvIGl0IGNhbiBiZSBzdHlsZWQuXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICAvLyBBdHRhY2ggdGhlIG1vdmUgYW5kIGVuZCBldmVudHMuXG4gICAgICAgICAgICB2YXIgbW92ZUV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50TW92ZSwge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBldmVudCB0YXJnZXQgaGFzIGNoYW5nZWQgc28gd2UgbmVlZCB0byBwcm9wYWdhdGUgdGhlIG9yaWdpbmFsIG9uZSBzbyB0aGF0IHdlIGtlZXBcbiAgICAgICAgICAgICAgICAvLyByZWx5aW5nIG9uIGl0IHRvIGV4dHJhY3QgdGFyZ2V0IHRvdWNoZXMuXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlOiBoYW5kbGUsXG4gICAgICAgICAgICAgICAgY29ubmVjdDogZGF0YS5jb25uZWN0LFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG4gICAgICAgICAgICAgICAgYmFzZVNpemU6IGJhc2VTaXplKCksXG4gICAgICAgICAgICAgICAgcGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG4gICAgICAgICAgICAgICAgYnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGVuZEV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5lbmQsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRFbmQsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICBoYW5kbGU6IGhhbmRsZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICAgICAgICAgICAgICBkb05vdFJlamVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG91dEV2ZW50ID0gYXR0YWNoRXZlbnQoXCJtb3VzZW91dFwiLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50TGVhdmUsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICBoYW5kbGU6IGhhbmRsZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICAgICAgICAgICAgICBkb05vdFJlamVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcbiAgICAgICAgICAgIC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG4gICAgICAgICAgICAvLyBUZXh0IHNlbGVjdGlvbiBpc24ndCBhbiBpc3N1ZSBvbiB0b3VjaCBkZXZpY2VzLFxuICAgICAgICAgICAgLy8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgJ0knIGN1cnNvciBhbmQgZXh0ZW5kIHRoZSByYW5nZS1kcmFnIGN1cnNvci5cbiAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IGdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3I7XG4gICAgICAgICAgICAgICAgLy8gTWFyayB0aGUgdGFyZ2V0IHdpdGggYSBkcmFnZ2luZyBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuICAgICAgICAgICAgICAgIC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdHN0YXJ0XCIsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic3RhcnRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuICAgICAgICBmdW5jdGlvbiBldmVudFRhcChldmVudCkge1xuICAgICAgICAgICAgLy8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IGNhbGNQb2ludFRvUGVyY2VudGFnZShldmVudC5jYWxjUG9pbnQpO1xuICAgICAgICAgICAgdmFyIGhhbmRsZU51bWJlciA9IGdldENsb3Nlc3RIYW5kbGUocHJvcG9zYWwpO1xuICAgICAgICAgICAgLy8gVGFja2xlIHRoZSBjYXNlIHRoYXQgYWxsIGhhbmRsZXMgYXJlICdkaXNhYmxlZCcuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG4gICAgICAgICAgICAvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHByb3Bvc2FsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmV2ZW50cy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwiY2hhbmdlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpcmVzIGEgJ2hvdmVyJyBldmVudCBmb3IgYSBob3ZlcmVkIG1vdXNlL3BlbiBwb3NpdGlvbi5cbiAgICAgICAgZnVuY3Rpb24gZXZlbnRIb3ZlcihldmVudCkge1xuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG4gICAgICAgICAgICB2YXIgdG8gPSBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKHByb3Bvc2FsKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiaG92ZXJcIiA9PT0gdGFyZ2V0RXZlbnQuc3BsaXQoXCIuXCIpWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoc2NvcGVfU2VsZiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhvcml6b250YWxLZXlzID0gW1wiTGVmdFwiLCBcIlJpZ2h0XCJdO1xuICAgICAgICAgICAgdmFyIHZlcnRpY2FsS2V5cyA9IFtcIkRvd25cIiwgXCJVcFwiXTtcbiAgICAgICAgICAgIHZhciBsYXJnZVN0ZXBLZXlzID0gW1wiUGFnZURvd25cIiwgXCJQYWdlVXBcIl07XG4gICAgICAgICAgICB2YXIgZWRnZUtleXMgPSBbXCJIb21lXCIsIFwiRW5kXCJdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyICYmICFvcHRpb25zLm9ydCkge1xuICAgICAgICAgICAgICAgIC8vIE9uIGFuIHJpZ2h0LXRvLWxlZnQgc2xpZGVyLCB0aGUgbGVmdCBhbmQgcmlnaHQga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsS2V5cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RyaXAgXCJBcnJvd1wiIGZvciBJRSBjb21wYXRpYmlsaXR5LiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXlcbiAgICAgICAgICAgIHZhciBrZXkgPSBldmVudC5rZXkucmVwbGFjZShcIkFycm93XCIsIFwiXCIpO1xuICAgICAgICAgICAgdmFyIGlzTGFyZ2VEb3duID0ga2V5ID09PSBsYXJnZVN0ZXBLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTGFyZ2VVcCA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1sxXTtcbiAgICAgICAgICAgIHZhciBpc0Rvd24gPSBrZXkgPT09IHZlcnRpY2FsS2V5c1swXSB8fCBrZXkgPT09IGhvcml6b250YWxLZXlzWzBdIHx8IGlzTGFyZ2VEb3duO1xuICAgICAgICAgICAgdmFyIGlzVXAgPSBrZXkgPT09IHZlcnRpY2FsS2V5c1sxXSB8fCBrZXkgPT09IGhvcml6b250YWxLZXlzWzFdIHx8IGlzTGFyZ2VVcDtcbiAgICAgICAgICAgIHZhciBpc01pbiA9IGtleSA9PT0gZWRnZUtleXNbMF07XG4gICAgICAgICAgICB2YXIgaXNNYXggPSBrZXkgPT09IGVkZ2VLZXlzWzFdO1xuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0bztcbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpc0Rvd24gPyAwIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHMgPSBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IHN0ZXBzW2RpcmVjdGlvbl07XG4gICAgICAgICAgICAgICAgLy8gQXQgdGhlIGVkZ2Ugb2YgYSBzbGlkZXIsIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vIHN0ZXAgc2V0LCB1c2UgdGhlIGRlZmF1bHQgb2YgMTAlIG9mIHRoZSBzdWItcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoc3RlcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLmdldERlZmF1bHRTdGVwKHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCBpc0Rvd24sIG9wdGlvbnMua2V5Ym9hcmREZWZhdWx0U3RlcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlVXAgfHwgaXNMYXJnZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCAqPSBvcHRpb25zLmtleWJvYXJkUGFnZU11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGVwICo9IG9wdGlvbnMua2V5Ym9hcmRNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdGVwIG92ZXIgemVyby1sZW5ndGggcmFuZ2VzICgjOTQ4KTtcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcbiAgICAgICAgICAgICAgICAvLyBEZWNyZW1lbnQgZm9yIGRvd24gc3RlcHNcbiAgICAgICAgICAgICAgICBzdGVwID0gKGlzRG93biA/IC0xIDogMSkgKiBzdGVwO1xuICAgICAgICAgICAgICAgIHRvID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gKyBzdGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNNYXgpIHtcbiAgICAgICAgICAgICAgICAvLyBFbmQga2V5XG4gICAgICAgICAgICAgICAgdG8gPSBvcHRpb25zLnNwZWN0cnVtLnhWYWxbb3B0aW9ucy5zcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSG9tZSBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcImNoYW5nZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cbiAgICAgICAgZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyhiZWhhdmlvdXIpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmICghYmVoYXZpb3VyLmZpeGVkKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGV2ZW50cyBhcmUgb25seSBib3VuZCB0byB0aGUgdmlzdWFsIGhhbmRsZVxuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50LCBub3QgdGhlICdyZWFsJyBvcmlnaW4gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgaGFuZGxlLmNoaWxkcmVuWzBdLCBldmVudFN0YXJ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSB0YXAgZXZlbnQgdG8gdGhlIHNsaWRlciBiYXNlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci50YXApIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBzY29wZV9CYXNlLCBldmVudFRhcCwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlyZSBob3ZlciBldmVudHNcbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0Jhc2UsIGV2ZW50SG92ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdGhlIHJhbmdlIGRyYWdnYWJsZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuZHJhZykge1xuICAgICAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzLmZvckVhY2goZnVuY3Rpb24gKGNvbm5lY3QsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0ID09PSBmYWxzZSB8fCBpbmRleCA9PT0gMCB8fCBpbmRleCA9PT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVCZWZvcmUgPSBzY29wZV9IYW5kbGVzW2luZGV4IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVBZnRlciA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIb2xkZXJzID0gW2Nvbm5lY3RdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlc1RvRHJhZyA9IFtoYW5kbGVCZWZvcmUsIGhhbmRsZUFmdGVyXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZU51bWJlcnNUb0RyYWcgPSBbaW5kZXggLSAxLCBpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGNvbm5lY3QsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnZ2FibGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSByYW5nZSBpcyBmaXhlZCwgdGhlIGVudGlyZSByYW5nZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gYmUgZHJhZ2dlZCBieSB0aGUgaGFuZGxlcy4gVGhlIGhhbmRsZSBpbiB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JpZ2luIHdpbGwgcHJvcGFnYXRlIHRoZSBzdGFydCBldmVudCB1cHdhcmQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpdCBuZWVkcyB0byBiZSBib3VuZCBtYW51YWxseSBvbiB0aGUgb3RoZXIuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuZml4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUJlZm9yZS5jaGlsZHJlblswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEhvbGRlcnMucHVzaChoYW5kbGVBZnRlci5jaGlsZHJlblswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnQWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVzVG9EcmFnID0gc2NvcGVfSGFuZGxlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnNUb0RyYWcgPSBzY29wZV9IYW5kbGVOdW1iZXJzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudEhvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgZXZlbnRIb2xkZXIsIGV2ZW50U3RhcnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVzOiBoYW5kbGVzVG9EcmFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGhhbmRsZU51bWJlcnNUb0RyYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdDogY29ubmVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudChuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZXZlbnQgYm91bmQgaXMgJ3VwZGF0ZSwnIGZpcmUgaXQgaW1tZWRpYXRlbHkgZm9yIGFsbCBoYW5kbGVzLlxuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF0gPT09IFwidXBkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNJbnRlcm5hbE5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2UgPT09IElOVEVSTkFMX0VWRU5UX05TLmFyaWEgfHwgbmFtZXNwYWNlID09PSBJTlRFUk5BTF9FVkVOVF9OUy50b29sdGlwcztcbiAgICAgICAgfVxuICAgICAgICAvLyBVbmRvIGF0dGFjaG1lbnQgb2YgZXZlbnRcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQobmFtZXNwYWNlZEV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuYW1lc3BhY2VkRXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgIHZhciBuYW1lc3BhY2UgPSBldmVudCA/IG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKSA6IG5hbWVzcGFjZWRFdmVudDtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYmluZCkge1xuICAgICAgICAgICAgICAgIHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgdE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICgoIWV2ZW50IHx8IGV2ZW50ID09PSB0RXZlbnQpICYmICghbmFtZXNwYWNlIHx8IG5hbWVzcGFjZSA9PT0gdE5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBkZWxldGUgcHJvdGVjdGVkIGludGVybmFsIGV2ZW50IGlmIGludGVudGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNJbnRlcm5hbE5hbWVzcGFjZSh0TmFtZXNwYWNlKSB8fCBuYW1lc3BhY2UgPT09IHROYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY29wZV9FdmVudHNbYmluZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFeHRlcm5hbCBldmVudCBoYW5kbGluZ1xuICAgICAgICBmdW5jdGlvbiBmaXJlRXZlbnQoZXZlbnROYW1lLCBoYW5kbGVOdW1iZXIsIHRhcCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNsaWRlciBwdWJsaWMgQVBJIGFzIHRoZSBzY29wZSAoJ3RoaXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIGluZGV4LCAwIG9yIDFcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVbi1mb3JtYXR0ZWQgc2xpZGVyIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXAgfHwgZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBvZmZzZXQgb2YgdGhlIGhhbmRsZSwgaW4gcmVsYXRpb24gdG8gdGhlIHNsaWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zLnNsaWNlKCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBzbGlkZXIgcHVibGljIEFQSSB0byBhbiBhY2Nlc3NpYmxlIHBhcmFtZXRlciB3aGVuIHRoaXMgaXMgdW5hdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTcGxpdCBvdXQgdGhlIGhhbmRsZSBwb3NpdGlvbmluZyBsb2dpYyBzbyB0aGUgTW92ZSBldmVudCBjYW4gdXNlIGl0LCB0b29cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tIYW5kbGVQb3NpdGlvbihyZWZlcmVuY2UsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGdldFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2U7XG4gICAgICAgICAgICAvLyBGb3Igc2xpZGVycyB3aXRoIG11bHRpcGxlIGhhbmRsZXMsIGxpbWl0IG1vdmVtZW50IHRvIHRoZSBvdGhlciBoYW5kbGUuXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgbWFyZ2luIG9wdGlvbiBieSBhZGRpbmcgaXQgdG8gdGhlIGhhbmRsZSBwb3NpdGlvbnMuXG4gICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmICFvcHRpb25zLmV2ZW50cy51bmNvbnN0cmFpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gc2NvcGVfU3BlY3RydW0uZ2V0QWJzb2x1dGVEaXN0YW5jZShyZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0sIG9wdGlvbnMubWFyZ2luLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciArIDFdLCBvcHRpb25zLm1hcmdpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5taW4odG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGFcbiAgICAgICAgICAgIC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBoYW5kbGVzIHdvdWxkIGJlIHVubW92YWJsZS5cbiAgICAgICAgICAgIGlmIChzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdLCBvcHRpb25zLmxpbWl0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5taW4odG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciArIDFdLCBvcHRpb25zLmxpbWl0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoZSBwYWRkaW5nIG9wdGlvbiBrZWVwcyB0aGUgaGFuZGxlcyBhIGNlcnRhaW4gZGlzdGFuY2UgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMCwgb3B0aW9ucy5wYWRkaW5nWzBdLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gc2NvcGVfU3BlY3RydW0uZ2V0QWJzb2x1dGVEaXN0YW5jZSgxMDAsIG9wdGlvbnMucGFkZGluZ1sxXSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5taW4odG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodG8pO1xuICAgICAgICAgICAgLy8gTGltaXQgcGVyY2VudGFnZSB0byB0aGUgMCAtIDEwMCByYW5nZVxuICAgICAgICAgICAgdG8gPSBsaW1pdCh0byk7XG4gICAgICAgICAgICAvLyBSZXR1cm4gZmFsc2UgaWYgaGFuZGxlIGNhbid0IG1vdmVcbiAgICAgICAgICAgIGlmICh0byA9PT0gcmVmZXJlbmNlW2hhbmRsZU51bWJlcl0gJiYgIWdldFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZXMgc2xpZGVyIG9yaWVudGF0aW9uIHRvIGNyZWF0ZSBDU1MgcnVsZXMuIGEgPSBiYXNlIHZhbHVlO1xuICAgICAgICBmdW5jdGlvbiBpblJ1bGVPcmRlcih2LCBhKSB7XG4gICAgICAgICAgICB2YXIgbyA9IG9wdGlvbnMub3J0O1xuICAgICAgICAgICAgcmV0dXJuIChvID8gYSA6IHYpICsgXCIsIFwiICsgKG8gPyB2IDogYSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTW92ZXMgaGFuZGxlKHMpIGJ5IGEgcGVyY2VudGFnZVxuICAgICAgICAvLyAoYm9vbCwgJSB0byBtb3ZlLCBbJSB3aGVyZSBoYW5kbGUgc3RhcnRlZCwgLi4uXSwgW2luZGV4IGluIHNjb3BlX0hhbmRsZXMsIC4uLl0pXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVIYW5kbGVzKHVwd2FyZCwgcHJvcG9zYWwsIGxvY2F0aW9ucywgaGFuZGxlTnVtYmVycywgY29ubmVjdCkge1xuICAgICAgICAgICAgdmFyIHByb3Bvc2FscyA9IGxvY2F0aW9ucy5zbGljZSgpO1xuICAgICAgICAgICAgLy8gU3RvcmUgZmlyc3QgaGFuZGxlIG5vdywgc28gd2Ugc3RpbGwgaGF2ZSBpdCBpbiBjYXNlIGhhbmRsZU51bWJlcnMgaXMgcmV2ZXJzZWRcbiAgICAgICAgICAgIHZhciBmaXJzdEhhbmRsZSA9IGhhbmRsZU51bWJlcnNbMF07XG4gICAgICAgICAgICB2YXIgYiA9IFshdXB3YXJkLCB1cHdhcmRdO1xuICAgICAgICAgICAgdmFyIGYgPSBbdXB3YXJkLCAhdXB3YXJkXTtcbiAgICAgICAgICAgIC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgd2hpY2ggaGFuZGxlIGlzICdsZWFkaW5nJy5cbiAgICAgICAgICAgIC8vIElmIHRoYXQgb25lIGNhbid0IG1vdmUgdGhlIHNlY29uZCBjYW4ndCBlaXRoZXIuXG4gICAgICAgICAgICBpZiAodXB3YXJkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDE6IGdldCB0aGUgbWF4aW11bSBwZXJjZW50YWdlIHRoYXQgYW55IG9mIHRoZSBoYW5kbGVzIGNhbiBtb3ZlXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihwcm9wb3NhbHMsIGhhbmRsZU51bWJlciwgcHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIG9uZSBvZiB0aGUgaGFuZGxlcyBjYW4ndCBtb3ZlLlxuICAgICAgICAgICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbCA9IHRvIC0gcHJvcG9zYWxzW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXSA9IHRvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB1c2luZyBvbmUgaGFuZGxlLCBjaGVjayBiYWNrd2FyZCBBTkQgZm9yd2FyZFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYiA9IGYgPSBbdHJ1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMjogVHJ5IHRvIHNldCB0aGUgaGFuZGxlcyB3aXRoIHRoZSBmb3VuZCBwZXJjZW50YWdlXG4gICAgICAgICAgICBoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlciwgbykge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgbG9jYXRpb25zW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSkgfHwgc3RhdGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMzogSWYgYSBoYW5kbGUgbW92ZWQsIGZpcmUgZXZlbnRzXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2xpZGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0YXJnZXQgaXMgYSBjb25uZWN0LCB0aGVuIGZpcmUgZHJhZyBldmVudFxuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJkcmFnXCIsIGZpcnN0SGFuZGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGFrZXMgYSBiYXNlIHZhbHVlIGFuZCBhbiBvZmZzZXQuIFRoaXMgb2Zmc2V0IGlzIHVzZWQgZm9yIHRoZSBjb25uZWN0IGJhciBzaXplLlxuICAgICAgICAvLyBJbiB0aGUgaW5pdGlhbCBkZXNpZ24gZm9yIHRoaXMgZmVhdHVyZSwgdGhlIG9yaWdpbiBlbGVtZW50IHdhcyAxJSB3aWRlLlxuICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCBhIHJvdW5kaW5nIGJ1ZyBpbiBDaHJvbWUgbWFrZXMgaXQgaW1wb3NzaWJsZSB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlXG4gICAgICAgIC8vIGluIHRoaXMgbWFubmVyOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03OTgyMjNcbiAgICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtRGlyZWN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIGEgLSBiIDogYTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGVzIHNjb3BlX0xvY2F0aW9ucyBhbmQgc2NvcGVfVmFsdWVzLCB1cGRhdGVzIHZpc3VhbCBzdGF0ZVxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVIYW5kbGVQb3NpdGlvbihoYW5kbGVOdW1iZXIsIHRvKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgbG9jYXRpb25zLlxuICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0gPSB0bztcbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG4gICAgICAgICAgICBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24odG8sIDApIC0gc2NvcGVfRGlyT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVJ1bGUgPSBcInRyYW5zbGF0ZShcIiArIGluUnVsZU9yZGVyKHRyYW5zbGF0aW9uICsgXCIlXCIsIFwiMFwiKSArIFwiKVwiO1xuICAgICAgICAgICAgc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLnN0eWxlW29wdGlvbnMudHJhbnNmb3JtUnVsZV0gPSB0cmFuc2xhdGVSdWxlO1xuICAgICAgICAgICAgdXBkYXRlQ29ubmVjdChoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgdXBkYXRlQ29ubmVjdChoYW5kbGVOdW1iZXIgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGVzIGJlZm9yZSB0aGUgc2xpZGVyIG1pZGRsZSBhcmUgc3RhY2tlZCBsYXRlciA9IGhpZ2hlcixcbiAgICAgICAgLy8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG4gICAgICAgIC8vIFtbN10gWzhdIC4uLi4uLi4uLi4gfCAuLi4uLi4uLi4uIFs1XSBbNF1cbiAgICAgICAgZnVuY3Rpb24gc2V0WmluZGV4KCkge1xuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0gPiA1MCA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgekluZGV4ID0gMyArIChzY29wZV9IYW5kbGVzLmxlbmd0aCArIGRpciAqIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLnN0eWxlLnpJbmRleCA9IFN0cmluZyh6SW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGVzdCBzdWdnZXN0ZWQgdmFsdWVzIGFuZCBhcHBseSBtYXJnaW4sIHN0ZXAuXG4gICAgICAgIC8vIGlmIGV4YWN0SW5wdXQgaXMgdHJ1ZSwgZG9uJ3QgcnVuIGNoZWNrSGFuZGxlUG9zaXRpb24sIHRoZW4gdGhlIGhhbmRsZSBjYW4gYmUgcGxhY2VkIGluIGJldHdlZW4gc3RlcHMgKCM0MzYpXG4gICAgICAgIGZ1bmN0aW9uIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBleGFjdElucHV0KSB7XG4gICAgICAgICAgICBpZiAoIWV4YWN0SW5wdXQpIHtcbiAgICAgICAgICAgICAgICB0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGVzIHN0eWxlIGF0dHJpYnV0ZSBmb3IgY29ubmVjdCBub2Rlc1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVDb25uZWN0KGluZGV4KSB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbm5lY3RzIHNldCB0byBmYWxzZVxuICAgICAgICAgICAgaWYgKCFzY29wZV9Db25uZWN0c1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDEwMDtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGwgPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGggPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgdXNlIHR3byBydWxlczpcbiAgICAgICAgICAgIC8vICd0cmFuc2xhdGUnIHRvIGNoYW5nZSB0aGUgbGVmdC90b3Agb2Zmc2V0O1xuICAgICAgICAgICAgLy8gJ3NjYWxlJyB0byBjaGFuZ2UgdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50O1xuICAgICAgICAgICAgLy8gQXMgdGhlIGVsZW1lbnQgaGFzIGEgd2lkdGggb2YgMTAwJSwgYSB0cmFuc2xhdGlvbiBvZiAxMDAlIGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIHBhcmVudCAoLm5vVWktYmFzZSlcbiAgICAgICAgICAgIHZhciBjb25uZWN0V2lkdGggPSBoIC0gbDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVSdWxlID0gXCJ0cmFuc2xhdGUoXCIgKyBpblJ1bGVPcmRlcih0cmFuc2Zvcm1EaXJlY3Rpb24obCwgY29ubmVjdFdpZHRoKSArIFwiJVwiLCBcIjBcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHZhciBzY2FsZVJ1bGUgPSBcInNjYWxlKFwiICsgaW5SdWxlT3JkZXIoY29ubmVjdFdpZHRoIC8gMTAwLCBcIjFcIikgKyBcIilcIjtcbiAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID1cbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVSdWxlICsgXCIgXCIgKyBzY2FsZVJ1bGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2VzIHZhbHVlIHBhc3NlZCB0byAuc2V0IG1ldGhvZC4gUmV0dXJucyBjdXJyZW50IHZhbHVlIGlmIG5vdCBwYXJzZS1hYmxlLlxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlVG9WYWx1ZSh0bywgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBTZXR0aW5nIHdpdGggbnVsbCBpbmRpY2F0ZXMgYW4gJ2lnbm9yZScuXG4gICAgICAgICAgICAvLyBJbnB1dHRpbmcgJ2ZhbHNlJyBpcyBpbnZhbGlkLlxuICAgICAgICAgICAgaWYgKHRvID09PSBudWxsIHx8IHRvID09PSBmYWxzZSB8fCB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYSBmb3JtYXR0ZWQgbnVtYmVyIHdhcyBwYXNzZWQsIGF0dGVtcHQgdG8gZGVjb2RlIGl0LlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHRvID0gU3RyaW5nKHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG4gICAgICAgICAgICBpZiAodG8gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHBhcnNpbmcgdGhlIG51bWJlciBmYWlsZWQsIHVzZSB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UgfHwgaXNOYU4odG8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZVNldChpbnB1dCwgZmlyZVNldEV2ZW50LCBleGFjdElucHV0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gYXNBcnJheShpbnB1dCk7XG4gICAgICAgICAgICB2YXIgaXNJbml0ID0gc2NvcGVfTG9jYXRpb25zWzBdID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBFdmVudCBmaXJlcyBieSBkZWZhdWx0XG4gICAgICAgICAgICBmaXJlU2V0RXZlbnQgPSBmaXJlU2V0RXZlbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmaXJlU2V0RXZlbnQ7XG4gICAgICAgICAgICAvLyBBbmltYXRpb24gaXMgb3B0aW9uYWwuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdlcmUgc2V0IGJlZm9yZSB1c2luZyBhbmltYXRlZCBwbGFjZW1lbnQuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlICYmICFpc0luaXQpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlyc3QgcGFzcywgd2l0aG91dCBsb29rQWhlYWQgYnV0IHdpdGggbG9va0JhY2t3YXJkLiBWYWx1ZXMgYXJlIHNldCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHJlc29sdmVUb1ZhbHVlKHZhbHVlc1toYW5kbGVOdW1iZXJdLCBoYW5kbGVOdW1iZXIpLCB0cnVlLCBmYWxzZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBpID0gc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGggPT09IDEgPyAwIDogMTtcbiAgICAgICAgICAgIC8vIFNwcmVhZCBoYW5kbGVzIGV2ZW5seSBhY3Jvc3MgdGhlIHNsaWRlciBpZiB0aGUgcmFuZ2UgaGFzIG5vIHNpemUgKG1pbj1tYXgpXG4gICAgICAgICAgICBpZiAoaXNJbml0ICYmIHNjb3BlX1NwZWN0cnVtLmhhc05vU2l6ZSgpKSB7XG4gICAgICAgICAgICAgICAgZXhhY3RJbnB1dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zWzBdID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZV8xID0gMTAwIC8gKHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA9IGhhbmRsZU51bWJlciAqIHNwYWNlXzE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlY29uZGFyeSBwYXNzZXMuIE5vdyB0aGF0IGFsbCBiYXNlIHZhbHVlcyBhcmUgc2V0LCBhcHBseSBjb25zdHJhaW50cy5cbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgYWxsIGhhbmRsZXMgdG8gZW5zdXJlIGNvbnN0cmFpbnRzIGFyZSBhcHBsaWVkIGZvciB0aGUgZW50aXJlIHNsaWRlciAoSXNzdWUgIzEwMDkpXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRaaW5kZXgoKTtcbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnQgb25seSBmb3IgaGFuZGxlcyB0aGF0IHJlY2VpdmVkIGEgbmV3IHZhbHVlLCBhcyBwZXIgIzU3OVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaGFuZGxlTnVtYmVyXSAhPT0gbnVsbCAmJiBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgc2xpZGVyIHRvIGluaXRpYWwgdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlUmVzZXQoZmlyZVNldEV2ZW50KSB7XG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0LCBmaXJlU2V0RXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCB2YWx1ZSBmb3IgYSBzaW5nbGUgaGFuZGxlXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlU2V0SGFuZGxlKGhhbmRsZU51bWJlciwgdmFsdWUsIGZpcmVTZXRFdmVudCwgZXhhY3RJbnB1dCkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIG51bWVyaWMgaW5wdXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IE51bWJlcihoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgaWYgKCEoaGFuZGxlTnVtYmVyID49IDAgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlcjogaW52YWxpZCBoYW5kbGUgbnVtYmVyLCBnb3Q6IFwiICsgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgYm90aCBiYWNrd2FyZCBhbmQgZm9yd2FyZCwgc2luY2Ugd2UgZG9uJ3Qgd2FudCB0aGlzIGhhbmRsZSB0byBcInB1c2hcIiBvdGhlciBoYW5kbGVzICgjOTYwKTtcbiAgICAgICAgICAgIC8vIFRoZSBleGFjdElucHV0IGFyZ3VtZW50IGNhbiBiZSB1c2VkIHRvIGlnbm9yZSBzbGlkZXIgc3RlcHBpbmcgKCM0MzYpXG4gICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCByZXNvbHZlVG9WYWx1ZSh2YWx1ZSwgaGFuZGxlTnVtYmVyKSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJzZXRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIHNsaWRlciB2YWx1ZS5cbiAgICAgICAgZnVuY3Rpb24gdmFsdWVHZXQodW5lbmNvZGVkKSB7XG4gICAgICAgICAgICBpZiAodW5lbmNvZGVkID09PSB2b2lkIDApIHsgdW5lbmNvZGVkID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmICh1bmVuY29kZWQpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gYSBjb3B5IG9mIHRoZSByYXcgdmFsdWVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1ZhbHVlcy5sZW5ndGggPT09IDEgPyBzY29wZV9WYWx1ZXNbMF0gOiBzY29wZV9WYWx1ZXMuc2xpY2UoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byk7XG4gICAgICAgICAgICAvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmVzIGNsYXNzZXMgZnJvbSB0aGUgcm9vdCBhbmQgZW1wdGllcyBpdC5cbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBwcm90ZWN0ZWQgaW50ZXJuYWwgbGlzdGVuZXJzXG4gICAgICAgICAgICByZW1vdmVFdmVudChJTlRFUk5BTF9FVkVOVF9OUy5hcmlhKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KElOVEVSTkFMX0VWRU5UX05TLnRvb2x0aXBzKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMuY3NzQ2xhc3NlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXNba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdoaWxlIChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB2YXIgbmVhcmJ5U3RlcHMgPSBzY29wZV9TcGVjdHJ1bS5nZXROZWFyYnlTdGVwcyhsb2NhdGlvbik7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuICAgICAgICAgICAgdmFyIGRlY3JlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBJZiBzbmFwcGVkLCBkaXJlY3RseSB1c2UgZGVmaW5lZCBzdGVwIHZhbHVlXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0YXJ0VmFsdWUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZSB8fCBudWxsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBuZXh0IHZhbHVlIGluIHRoaXMgc3RlcCBtb3ZlcyBpbnRvIHRoZSBuZXh0IHN0ZXAsXG4gICAgICAgICAgICAvLyB0aGUgaW5jcmVtZW50IGlzIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBzdGVwIC0gdGhlIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgIGlmIChpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgYmV5b25kIHRoZSBzdGFydGluZyBwb2ludFxuICAgICAgICAgICAgaWYgKHZhbHVlID4gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RhcnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0ZXAgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSB2YWx1ZSAtIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuaGlnaGVzdFN0ZXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3csIGlmIGF0IHRoZSBzbGlkZXIgZWRnZXMsIHRoZXJlIGlzIG5vIGluL2RlY3JlbWVudFxuICAgICAgICAgICAgaWYgKGxvY2F0aW9uID09PSAxMDApIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobG9jYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXMgcGVyICMzOTEsIHRoZSBjb21wYXJpc29uIGZvciB0aGUgZGVjcmVtZW50IHN0ZXAgY2FuIGhhdmUgc29tZSByb3VuZGluZyBpc3N1ZXMuXG4gICAgICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gc2NvcGVfU3BlY3RydW0uY291bnRTdGVwRGVjaW1hbHMoKTtcbiAgICAgICAgICAgIC8vIFJvdW5kIHBlciAjMzkxXG4gICAgICAgICAgICBpZiAoaW5jcmVtZW50ICE9PSBudWxsICYmIGluY3JlbWVudCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSBOdW1iZXIoaW5jcmVtZW50LnRvRml4ZWQoc3RlcERlY2ltYWxzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVjcmVtZW50ICE9PSBudWxsICYmIGRlY3JlbWVudCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBOdW1iZXIoZGVjcmVtZW50LnRvRml4ZWQoc3RlcERlY2ltYWxzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2RlY3JlbWVudCwgaW5jcmVtZW50XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgc3RlcCBzaXplIGZvciB0aGUgc2xpZGVyLlxuICAgICAgICBmdW5jdGlvbiBnZXROZXh0U3RlcHMoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGVfSGFuZGxlTnVtYmVycy5tYXAoZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGFibGU6IG1hcmdpbiwgbGltaXQsIHBhZGRpbmcsIHN0ZXAsIHJhbmdlLCBhbmltYXRlLCBzbmFwXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMob3B0aW9uc1RvVXBkYXRlLCBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgIC8vIFNwZWN0cnVtIGlzIGNyZWF0ZWQgdXNpbmcgdGhlIHJhbmdlLCBzbmFwLCBkaXJlY3Rpb24gYW5kIHN0ZXAgb3B0aW9ucy5cbiAgICAgICAgICAgIC8vICdzbmFwJyBhbmQgJ3N0ZXAnIGNhbiBiZSB1cGRhdGVkLlxuICAgICAgICAgICAgLy8gSWYgJ3NuYXAnIGFuZCAnc3RlcCcgYXJlIG5vdCBwYXNzZWQsIHRoZXkgc2hvdWxkIHJlbWFpbiB1bmNoYW5nZWQuXG4gICAgICAgICAgICB2YXIgdiA9IHZhbHVlR2V0KCk7XG4gICAgICAgICAgICB2YXIgdXBkYXRlQWJsZSA9IFtcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiLFxuICAgICAgICAgICAgICAgIFwibGltaXRcIixcbiAgICAgICAgICAgICAgICBcInBhZGRpbmdcIixcbiAgICAgICAgICAgICAgICBcInJhbmdlXCIsXG4gICAgICAgICAgICAgICAgXCJhbmltYXRlXCIsXG4gICAgICAgICAgICAgICAgXCJzbmFwXCIsXG4gICAgICAgICAgICAgICAgXCJzdGVwXCIsXG4gICAgICAgICAgICAgICAgXCJmb3JtYXRcIixcbiAgICAgICAgICAgICAgICBcInBpcHNcIixcbiAgICAgICAgICAgICAgICBcInRvb2x0aXBzXCJcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICAvLyBPbmx5IGNoYW5nZSBvcHRpb25zIHRoYXQgd2UncmUgYWN0dWFsbHkgcGFzc2VkIHRvIHVwZGF0ZS5cbiAgICAgICAgICAgIHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB1bmRlZmluZWQuIG51bGwgcmVtb3ZlcyB0aGUgdmFsdWUuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNUb1VwZGF0ZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsT3B0aW9uc1tuYW1lXSA9IG9wdGlvbnNUb1VwZGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBuZXdPcHRpb25zID0gdGVzdE9wdGlvbnMob3JpZ2luYWxPcHRpb25zKTtcbiAgICAgICAgICAgIC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG4gICAgICAgICAgICB1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tuYW1lXSA9IG5ld09wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzY29wZV9TcGVjdHJ1bSA9IG5ld09wdGlvbnMuc3BlY3RydW07XG4gICAgICAgICAgICAvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXG4gICAgICAgICAgICBvcHRpb25zLm1hcmdpbiA9IG5ld09wdGlvbnMubWFyZ2luO1xuICAgICAgICAgICAgb3B0aW9ucy5saW1pdCA9IG5ld09wdGlvbnMubGltaXQ7XG4gICAgICAgICAgICBvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XG4gICAgICAgICAgICAvLyBVcGRhdGUgcGlwcywgcmVtb3ZlcyBleGlzdGluZy5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBpcHMpIHtcbiAgICAgICAgICAgICAgICBwaXBzKG9wdGlvbnMucGlwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVQaXBzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcHMsIHJlbW92ZXMgZXhpc3RpbmcuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW52YWxpZGF0ZSB0aGUgY3VycmVudCBwb3NpdGlvbmluZyBzbyB2YWx1ZVNldCBmb3JjZXMgYW4gdXBkYXRlLlxuICAgICAgICAgICAgc2NvcGVfTG9jYXRpb25zID0gW107XG4gICAgICAgICAgICB2YWx1ZVNldChpc1NldChvcHRpb25zVG9VcGRhdGUuc3RhcnQpID8gb3B0aW9uc1RvVXBkYXRlLnN0YXJ0IDogdiwgZmlyZVNldEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0aWFsaXphdGlvbiBzdGVwc1xuICAgICAgICBmdW5jdGlvbiBzZXR1cFNsaWRlcigpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFzZSBlbGVtZW50LCBpbml0aWFsaXplIEhUTUwgYW5kIHNldCBjbGFzc2VzLlxuICAgICAgICAgICAgLy8gQWRkIGhhbmRsZXMgYW5kIGNvbm5lY3QgZWxlbWVudHMuXG4gICAgICAgICAgICBzY29wZV9CYXNlID0gYWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XG4gICAgICAgICAgICBhZGRFbGVtZW50cyhvcHRpb25zLmNvbm5lY3QsIHNjb3BlX0Jhc2UpO1xuICAgICAgICAgICAgLy8gQXR0YWNoIHVzZXIgZXZlbnRzLlxuICAgICAgICAgICAgYmluZFNsaWRlckV2ZW50cyhvcHRpb25zLmV2ZW50cyk7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXG4gICAgICAgICAgICB2YWx1ZVNldChvcHRpb25zLnN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBpcHMpIHtcbiAgICAgICAgICAgICAgICBwaXBzKG9wdGlvbnMucGlwcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwcykge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmlhKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBTbGlkZXIoKTtcbiAgICAgICAgdmFyIHNjb3BlX1NlbGYgPSB7XG4gICAgICAgICAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgICAgICAgICAgc3RlcHM6IGdldE5leHRTdGVwcyxcbiAgICAgICAgICAgIG9uOiBiaW5kRXZlbnQsXG4gICAgICAgICAgICBvZmY6IHJlbW92ZUV2ZW50LFxuICAgICAgICAgICAgZ2V0OiB2YWx1ZUdldCxcbiAgICAgICAgICAgIHNldDogdmFsdWVTZXQsXG4gICAgICAgICAgICBzZXRIYW5kbGU6IHZhbHVlU2V0SGFuZGxlLFxuICAgICAgICAgICAgcmVzZXQ6IHZhbHVlUmVzZXQsXG4gICAgICAgICAgICAvLyBFeHBvc2VkIGZvciB1bml0IHRlc3RpbmcsIGRvbid0IHVzZSB0aGlzIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgICAgICBfX21vdmVIYW5kbGVzOiBmdW5jdGlvbiAodXB3YXJkLCBwcm9wb3NhbCwgaGFuZGxlTnVtYmVycykge1xuICAgICAgICAgICAgICAgIG1vdmVIYW5kbGVzKHVwd2FyZCwgcHJvcG9zYWwsIHNjb3BlX0xvY2F0aW9ucywgaGFuZGxlTnVtYmVycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9uczogb3JpZ2luYWxPcHRpb25zLFxuICAgICAgICAgICAgdXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucyxcbiAgICAgICAgICAgIHRhcmdldDogc2NvcGVfVGFyZ2V0LFxuICAgICAgICAgICAgcmVtb3ZlUGlwczogcmVtb3ZlUGlwcyxcbiAgICAgICAgICAgIHJlbW92ZVRvb2x0aXBzOiByZW1vdmVUb29sdGlwcyxcbiAgICAgICAgICAgIGdldFBvc2l0aW9uczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRUb29sdGlwczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Ub29sdGlwcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPcmlnaW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGlwczogcGlwcyAvLyBJc3N1ZSAjNTk0XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzY29wZV9TZWxmO1xuICAgIH1cbiAgICAvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSh0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucykge1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC5cbiAgICAgICAgaWYgKHRhcmdldC5ub1VpU2xpZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyOiBTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRlc3QgdGhlIG9wdGlvbnMgYW5kIGNyZWF0ZSB0aGUgc2xpZGVyIGVudmlyb25tZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHZhciBhcGkgPSBzY29wZSh0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyk7XG4gICAgICAgIHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH1cbiAgICB2YXIgbm91aXNsaWRlciA9IHtcbiAgICAgICAgLy8gRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLCBkb24ndCB1c2UgdGhpcyBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgICAgICBfX3NwZWN0cnVtOiBTcGVjdHJ1bSxcbiAgICAgICAgLy8gQSByZWZlcmVuY2UgdG8gdGhlIGRlZmF1bHQgY2xhc3NlcywgYWxsb3dzIGdsb2JhbCBjaGFuZ2VzLlxuICAgICAgICAvLyBVc2UgdGhlIGNzc0NsYXNzZXMgb3B0aW9uIGZvciBjaGFuZ2VzIHRvIG9uZSBzbGlkZXIuXG4gICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgIGNyZWF0ZTogaW5pdGlhbGl6ZVxuICAgIH07XG5cbiAgICBleHBvcnRzLmNyZWF0ZSA9IGluaXRpYWxpemU7XG4gICAgZXhwb3J0cy5jc3NDbGFzc2VzID0gY3NzQ2xhc3NlcztcbiAgICBleHBvcnRzWydkZWZhdWx0J10gPSBub3Vpc2xpZGVyO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyBJRGF0YSB9IGZyb20gJy4vdHlwZXMvdHlwZXMnO1xuaW1wb3J0IHsgSU9iaiB9IGZyb20gJy4vdHlwZXMvdHlwZXMnO1xuLy8gaW1wb3J0IHsgZ2V0U29ydEl0ZW1zIH0gZnJvbSAnLi9vdGhlckZpbHRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlciB7XG4gIGFycjogSURhdGFbXSA9IFtdO1xuXG4gIGFycmF5OiBJRGF0YVtdID0gW107XG5cbiAgT2JqZWN0RmxhZzogSU9iajtcblxuICBjb25zdHJ1Y3RvcihhcnI6IElEYXRhW10sIE9iamVjdEZsYWc6IElPYmopIHtcbiAgICB0aGlzLmFyciA9IGFycjtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29iamVjdCcpIHx8ICcnKSB7XG4gICAgICBPYmplY3RGbGFnID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb2JqZWN0JykgfHwgJycpO1xuICAgIH1cbiAgICB0aGlzLk9iamVjdEZsYWcgPSBPYmplY3RGbGFnO1xuICB9XG5cbiAgZ2V0U2hhcGUoKSB7XG4gICAgY29uc3Qga2V5czogc3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLk9iamVjdEZsYWcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHRoaXMuT2JqZWN0RmxhZ1tgJHtrZXlzW2ldfWBdKTtcbiAgICAgIGNvbnN0IGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7a2V5c1tpXX1gKSBhcyBIVE1MTElFbGVtZW50O1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHRoaXMuT2JqZWN0RmxhZ1tgJHtrZXlzW2ldfWBdW2Ake2tleVtqXX1gXSA9PSB0cnVlKSB7XG4gICAgICAgICAgYXIucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJylbal0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSBhci5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKVtqXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuT2JqZWN0RmxhZ1tgJHtrZXlzWzNdfWBdLmZhdm9yaXRlID09IHRydWUpIHtcbiAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmF2b3JpdGVfX2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IHRydWU7XG4gICAgfSBlbHNlIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmF2b3JpdGVfX2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgaWYgKChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtrZXlzWzBdfWApIGFzIEhUTUxFbGVtZW50KS5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBbXTtcbiAgICAgIGNvbnN0IGtleUZpbHRlcjogc3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLk9iamVjdEZsYWdbYCR7a2V5c1swXX1gXSk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXNbMF0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHRoaXMuT2JqZWN0RmxhZ1tgJHtrZXlzWzBdfWBdW2Ake2tleUZpbHRlcltqXX1gXSA9PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5hcnIuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXlGaWx0ZXJbal0gPT0gZWxbYCR7a2V5c1swXX1gXSkge1xuICAgICAgICAgICAgICB0aGlzLmFycmF5LnB1c2goZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmFyciA9IHRoaXMuYXJyYXk7XG4gICAgfVxuICAgIGlmICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7a2V5c1sxXX1gKSBhcyBIVE1MRWxlbWVudCkucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFycmF5ID0gW107XG4gICAgICBjb25zdCBrZXlGaWx0ZXI6IHN0cmluZ1tdID0gT2JqZWN0LmtleXModGhpcy5PYmplY3RGbGFnW2Ake2tleXNbMV19YF0pO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXlzWzFdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0aGlzLk9iamVjdEZsYWdbYCR7a2V5c1sxXX1gXVtgJHtrZXlGaWx0ZXJbal19YF0gPT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuYXJyLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5RmlsdGVyW2pdID09IGVsW2Ake2tleXNbMV19YF0pIHtcbiAgICAgICAgICAgICAgdGhpcy5hcnJheS5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5hcnIgPSB0aGlzLmFycmF5O1xuICAgIH1cbiAgICBpZiAoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2tleXNbMl19YCkgYXMgSFRNTEVsZW1lbnQpLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hcnJheSA9IFtdO1xuICAgICAgY29uc3Qga2V5RmlsdGVyOiBzdHJpbmdbXSA9IE9iamVjdC5rZXlzKHRoaXMuT2JqZWN0RmxhZ1tgJHtrZXlzWzJdfWBdKTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwga2V5c1syXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodGhpcy5PYmplY3RGbGFnW2Ake2tleXNbMl19YF1bYCR7a2V5RmlsdGVyW2pdfWBdID09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmFyci5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleUZpbHRlcltqXSA9PSBlbFtgJHtrZXlzWzJdfWBdKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXJyYXkucHVzaChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuYXJyID0gdGhpcy5hcnJheTtcbiAgICB9XG4gICAgaWYgKChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmF2b3JpdGVfX2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgdGhpcy5hcnJheSA9IFtdO1xuICAgICAgY29uc3Qga2V5RmlsdGVyOiBzdHJpbmdbXSA9IE9iamVjdC5rZXlzKHRoaXMuT2JqZWN0RmxhZ1tgJHtrZXlzWzNdfWBdKTtcbiAgICAgIHRoaXMuYXJyLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHIgPSBlbFtgJHtrZXlGaWx0ZXJbMF19YF07XG4gICAgICAgIGlmICgociBhcyB1bmtub3duIGFzIGJvb2xlYW4pID09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLmFycmF5LnB1c2goZWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXJyID0gdGhpcy5hcnJheTtcbiAgICB9XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29iamVjdCcsIEpTT04uc3RyaW5naWZ5KHRoaXMuT2JqZWN0RmxhZykpO1xuICAgIHJldHVybiB0aGlzLmFycjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSURhdGEgfSBmcm9tICcuL3R5cGVzL3R5cGVzJztcbmltcG9ydCBGaWx0ZXIgZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IHsgSU9iaiB9IGZyb20gJy4vdHlwZXMvdHlwZXMnO1xuLy8gaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlckZpcnN0IGV4dGVuZHMgRmlsdGVyIHtcbiAgYXJyYXk6IElEYXRhW10gPSBbXTtcblxuICBub2RlTGlzdDogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG5cbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoYXJyOiBJRGF0YVtdLCBub2RlTGlzdDogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4sIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBPYmplY3RGbGFnOiBJT2JqKSB7XG4gICAgc3VwZXIoYXJyLCBPYmplY3RGbGFnKTtcbiAgICB0aGlzLm5vZGVMaXN0ID0gbm9kZUxpc3Q7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuXG4gIGdldEZpcnN0RmlsdGVycygpIHtcbiAgICBjb25zdCBkYXRhUGFyZW50ID0gKHRoaXMuZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0LmZpbHRlciBhcyBzdHJpbmc7XG4gICAgY29uc3QgZGF0YUl0ZW0gPSB0aGlzLmVsZW1lbnQuZGF0YXNldC5maWx0ZXIgYXMgc3RyaW5nO1xuXG4gICAgaWYgKHRoaXMuZWxlbWVudC5ub2RlTmFtZSA9PSAnSU5QVVQnKSB7XG4gICAgICBpZiAodGhpcy5PYmplY3RGbGFnW2Ake2RhdGFQYXJlbnR9YF1bYCR7ZGF0YUl0ZW19YF0gPT0gZmFsc2UpIHtcbiAgICAgICAgKHRoaXMuZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5PYmplY3RGbGFnW2Ake2RhdGFQYXJlbnR9YF1bYCR7ZGF0YUl0ZW19YF0gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5PYmplY3RGbGFnW2Ake2RhdGFQYXJlbnR9YF1bYCR7ZGF0YUl0ZW19YF0gPSBmYWxzZTtcbiAgICAgICAgKHRoaXMuZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLk9iamVjdEZsYWdbYCR7ZGF0YVBhcmVudH1gXVtgJHtkYXRhSXRlbX1gXSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5PYmplY3RGbGFnW2Ake2RhdGFQYXJlbnR9YF1bYCR7ZGF0YUl0ZW19YF0gPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5PYmplY3RGbGFnW2Ake2RhdGFQYXJlbnR9YF1bYCR7ZGF0YUl0ZW19YF0gPSB0cnVlO1xuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IF9kZWZhdWx0LCB7IHRhcmdldCB9IGZyb20gJy4uL25vZGVfbW9kdWxlcy9ub3Vpc2xpZGVyL2Rpc3Qvbm91aXNsaWRlcic7XG5jb25zdCBub1VpU2xpZGVyID0gX2RlZmF1bHQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlclJlbmRlciB7XG4gIHNsaWRlcnNSZW5kZXJDb3VudCgpIHtcbiAgICBjb25zdCBzbGlkZXJDb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3VudC1zbGlkZXInKSBhcyB0YXJnZXQ7XG4gICAgY29uc3Qgb3V0cHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b3lzLW91dHB1dCcpIGFzIE5vZGVMaXN0T2Y8SFRNTE91dHB1dEVsZW1lbnQ+O1xuICAgIGxldCB2YWx1ZUNvdW50ID0gWzEsIDEyXTtcblxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmFsdWVzQ291bnQnKSB8fCAnJykge1xuICAgICAgdmFsdWVDb3VudCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZhbHVlc0NvdW50JykgfHwgJycpO1xuICAgIH1cbiAgICBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXJDb3VudCwge1xuICAgICAgc3RhcnQ6IHZhbHVlQ291bnQsXG4gICAgICBjb25uZWN0OiB0cnVlLFxuICAgICAgcmFuZ2U6IHtcbiAgICAgICAgbWluOiAxLFxuICAgICAgICBtYXg6IDEyLFxuICAgICAgfSxcbiAgICAgIHN0ZXA6IDEsXG4gICAgfSk7XG5cbiAgICBvdXRwdXRzWzBdLmlubmVySFRNTCA9IFN0cmluZygoK3ZhbHVlQ291bnRbMF0pLnRvRml4ZWQoMCkpO1xuICAgIG91dHB1dHNbMV0uaW5uZXJIVE1MID0gU3RyaW5nKCgrdmFsdWVDb3VudFsxXSkudG9GaXhlZCgwKSk7XG5cbiAgICBzbGlkZXJDb3VudC5ub1VpU2xpZGVyLm9uKCdzbGlkZScsICh2YWx1ZXMsIGhhbmRsZSkgPT4ge1xuICAgICAgKG91dHB1dHNbaGFuZGxlXSBhcyBIVE1MT3V0cHV0RWxlbWVudCkuaW5uZXJIVE1MID0gYCR7KCt2YWx1ZXNbaGFuZGxlXSkudG9GaXhlZCgwKX1gO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZhbHVlc0NvdW50JywgSlNPTi5zdHJpbmdpZnkoc2xpZGVyQ291bnQubm9VaVNsaWRlci5nZXQoKSkpO1xuICAgIH0pO1xuICB9XG5cbiAgc2xpZGVyc1JlbmRlclllYXJzKCkge1xuICAgIGNvbnN0IHNsaWRlclllYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnllYXItc2xpZGVyJykgYXMgdGFyZ2V0O1xuICAgIGNvbnN0IG91dHB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudG95cy1vdXRwdXQnKSBhcyBOb2RlTGlzdE9mPEhUTUxPdXRwdXRFbGVtZW50PjtcbiAgICBsZXQgdmFsdWVZZWFyID0gWzE5NDAsIDIwMjBdO1xuXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2YWx1ZXNZZWFyJykgfHwgJycpIHtcbiAgICAgIHZhbHVlWWVhciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZhbHVlc1llYXInKSB8fCAnJyk7XG4gICAgfVxuICAgIG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlclllYXJzLCB7XG4gICAgICBzdGFydDogdmFsdWVZZWFyLFxuICAgICAgY29ubmVjdDogdHJ1ZSxcbiAgICAgIHJhbmdlOiB7XG4gICAgICAgIG1pbjogMTk0MCxcbiAgICAgICAgbWF4OiAyMDIwLFxuICAgICAgfSxcbiAgICAgIHN0ZXA6IDEwLFxuICAgIH0pO1xuXG4gICAgb3V0cHV0c1syXS5pbm5lckhUTUwgPSBTdHJpbmcoKCt2YWx1ZVllYXJbMF0pLnRvRml4ZWQoMCkpO1xuICAgIG91dHB1dHNbM10uaW5uZXJIVE1MID0gU3RyaW5nKCgrdmFsdWVZZWFyWzFdKS50b0ZpeGVkKDApKTtcblxuICAgIHNsaWRlclllYXJzLm5vVWlTbGlkZXIub24oJ3NsaWRlJywgKHZhbHVlcywgaGFuZGxlKSA9PiB7XG4gICAgICAob3V0cHV0c1toYW5kbGUgKyAyXSBhcyBIVE1MT3V0cHV0RWxlbWVudCkuaW5uZXJIVE1MID0gYCR7KCt2YWx1ZXNbaGFuZGxlXSkudG9GaXhlZCgwKX1gO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZhbHVlc1llYXInLCBKU09OLnN0cmluZ2lmeShzbGlkZXJZZWFycy5ub1VpU2xpZGVyLmdldCgpKSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElEYXRhIH0gZnJvbSAnLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgeyBJT2JqIH0gZnJvbSAnLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgRmlsdGVyIGZyb20gJy4vZmlsdGVyJztcblxubGV0IHllYXI6IG51bWJlcltdID0gWzE5NDAsIDE5NTAsIDE5NjAsIDE5NzAsIDE5ODAsIDE5OTAsIDIwMDAsIDIwMTAsIDIwMjBdO1xuXG5sZXQgY291bnQ6IG51bWJlcltdID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdO1xuXG5leHBvcnQgY29uc3QgZ2V0U29ydEl0ZW1zID0gZnVuY3Rpb24gZ2V0U29ydEl0ZW1zKGFycjogSURhdGFbXSwgY3VycmVudEFycjogbnVtYmVyW10sIGFyZWE6IHN0cmluZywgT2JqZWN0RmxhZzogSU9iaikge1xuICBjb25zdCBhcnJheUMgPSBuZXcgRmlsdGVyKGFyciwgT2JqZWN0RmxhZyk7XG4gIC8vIGFycmF5Qy5nZXRTaGFwZSgpO1xuICBjb25zdCBhcnJheVkgPSBhcnJheUMuZ2V0U2hhcGUoKTtcbiAgaWYgKGFyZWEgPT0gJ2NvdW50Jykge1xuICAgIGNvdW50ID0gY3VycmVudEFycjtcbiAgfVxuICBpZiAoYXJlYSA9PSAneWVhcicpIHtcbiAgICB5ZWFyID0gY3VycmVudEFycjtcbiAgfVxuICBjb25zdCBhcnJheVNsaWRlcjogSURhdGFbXSA9IFtdO1xuICBhcnJheVNsaWRlci5sZW5ndGggPSAwO1xuICBhcnJheVkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeWVhci5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCtpdGVtLnllYXIgPT0geWVhcltpXSkge1xuICAgICAgICBjb3VudC5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgaWYgKGVsZW0gPT0gK2l0ZW0uY291bnQpIHtcbiAgICAgICAgICAgIGFycmF5U2xpZGVyLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYXJyYXlTbGlkZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U29ydFBhZ2UgPSBmdW5jdGlvbiBnZXRTb3J0UGFnZShhcnI6IElEYXRhW10sIE9iamVjdEZsYWc6IElPYmopIHtcbiAgY29uc3QgYXJyYXlDID0gbmV3IEZpbHRlcihhcnIsIE9iamVjdEZsYWcpO1xuICAvLyBhcnJheUMuZ2V0U2hhcGUoKTtcbiAgY29uc3QgYXJyYXlZID0gYXJyYXlDLmdldFNoYXBlKCk7XG4gIGNvbnN0IGFycmF5U2xpZDogSURhdGFbXSA9IFtdO1xuICBhcnJheVkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeWVhci5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCtpdGVtLnllYXIgPT0geWVhcltpXSkge1xuICAgICAgICBjb3VudC5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgICAgaWYgKGVsZW0gPT0gK2l0ZW0uY291bnQpIHtcbiAgICAgICAgICAgIGFycmF5U2xpZC5wdXNoKGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGFycmF5U2xpZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTb3J0UGFnZVBhZ2UgPSBmdW5jdGlvbiBnZXRTb3J0UGFnZVBhZ2UoYXJyOiBJRGF0YVtdKSB7XG4gIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb3J0LXNlbGVjdCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NvcnREYXRhJykgfHwgJycpIHtcbiAgICBzZWxlY3QudmFsdWUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTb3J0RGF0YScpIHx8ICcnKTtcbiAgfVxuICBpZiAoc2VsZWN0LnZhbHVlID09ICdzb3J0LW5hbWUtbWF4Jykge1xuICAgIGFyci5zb3J0KChhLCBiKSA9PiAoYS5uYW1lID4gYi5uYW1lID8gMSA6IC0xKSk7XG4gIH1cbiAgaWYgKHNlbGVjdC52YWx1ZSA9PSAnc29ydC1uYW1lLW1pbicpIHtcbiAgICBhcnIuc29ydCgoYSwgYikgPT4gKGEubmFtZSA8IGIubmFtZSA/IDEgOiAtMSkpO1xuICB9XG4gIGlmIChzZWxlY3QudmFsdWUgPT0gJ3NvcnQtY291bnQtbWF4Jykge1xuICAgIGFyci5zb3J0KChhLCBiKSA9PiAoK2EuY291bnQgPiArYi5jb3VudCA/IDEgOiAtMSkpO1xuICB9XG4gIGlmIChzZWxlY3QudmFsdWUgPT0gJ3NvcnQtY291bnQtbWluJykge1xuICAgIGFyci5zb3J0KChhLCBiKSA9PiAoK2EuY291bnQgPCArYi5jb3VudCA/IDEgOiAtMSkpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn07XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXJTZWFyY2ggPSBmdW5jdGlvbiBmaWx0ZXJTZWFyY2goYXJyOiBJRGF0YVtdLCB2YWx1ZTogc3RyaW5nKSB7XG4gIGNvbnN0IGFycmF5U2VhcmNoID0gYXJyLmZpbHRlcigoZWwpID0+IHtcbiAgICBpZiAoZWwubmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodmFsdWUudG9Mb3dlckNhc2UoKSkgIT09IC0xKSByZXR1cm4gZWw7XG4gIH0pO1xuICByZXR1cm4gYXJyYXlTZWFyY2g7XG59O1xuIiwiaW1wb3J0IHsgSURhdGEgfSBmcm9tICcuL3R5cGVzL3R5cGVzJztcbi8vIGltcG9ydCB7IElPYmogfSBmcm9tICcuL3R5cGVzL3R5cGVzJztcbi8vIGltcG9ydCBGaWx0ZXIgZnJvbSAnLi9maWx0ZXInO1xuXG5sZXQgcG9wdXBBY3RpdmUgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIFNob3dQb3B1cCh0ZXh0OiBzdHJpbmcpIHtcbiAgaWYgKHBvcHVwQWN0aXZlID09IDApIHtcbiAgICBwb3B1cEFjdGl2ZSA9IDE7XG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIGFzIEhUTUxFbGVtZW50O1xuICAgIG92ZXJsYXkuY2xhc3NOYW1lID0gJ292ZXJsYXknO1xuICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgY2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjbG9zZS5jbGFzc05hbWUgPSAnY2xvc2UnO1xuICAgIHBvcHVwLmNsYXNzTmFtZSA9ICdwb3B1cCc7XG4gICAgcG9wdXAuaW5uZXJIVE1MID0gdGV4dDtcbiAgICBjb25zdCB3aW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpIGFzIEhUTUxFbGVtZW50O1xuICAgIHBvcHVwLmFwcGVuZChjbG9zZSk7XG4gICAgd2luZG93LmFwcGVuZChvdmVybGF5KTtcbiAgICB3aW5kb3cuYXBwZW5kKHBvcHVwKTtcbiAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHBvcHVwLnJlbW92ZSgpO1xuICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgIHBvcHVwQWN0aXZlID0gMDtcbiAgICB9KTtcbiAgfVxufVxuXG5sZXQgYXJyYXlGYXZvcml0ZTogSURhdGFbXSA9IFtdO1xuaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhcnJheUZhdm9yaXRlJykgfHwgJycpIHtcbiAgYXJyYXlGYXZvcml0ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FycmF5RmF2b3JpdGUnKSB8fCAnJyk7XG4gIC8vIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQgc3BhbicpIGFzIEhUTUxFbGVtZW50KS5pbm5lckhUTUwgPSBTdHJpbmcoYXJyYXlGYXZvcml0ZS5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBmYXZvcml0ZUNoZWNrKGl0ZW06IElEYXRhLCBjYXJkOiBIVE1MRGl2RWxlbWVudCkge1xuICBpZiAoYXJyYXlGYXZvcml0ZS5sZW5ndGggPCAyMCkge1xuICAgIGlmICgoY2FyZC5sYXN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIChjYXJkLmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICBhcnJheUZhdm9yaXRlID0gYXJyYXlGYXZvcml0ZS5maWx0ZXIoKGVsKSA9PiB7XG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShlbCkgIT09IEpTT04uc3RyaW5naWZ5KGl0ZW0pKSByZXR1cm4gZWw7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyYXlGYXZvcml0ZS5wdXNoKGl0ZW0pO1xuICAgICAgKGNhcmQubGFzdENoaWxkIGFzIEhUTUxFbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKChjYXJkLmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgKGNhcmQubGFzdENoaWxkIGFzIEhUTUxFbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgIGFycmF5RmF2b3JpdGUgPSBhcnJheUZhdm9yaXRlLmZpbHRlcigoZWwpID0+IHtcbiAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGVsKSA9PSBKU09OLnN0cmluZ2lmeShpdGVtKSkgcmV0dXJuIGVsO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFNob3dQb3B1cCgn0JjQt9Cy0LjQvdC40YLQtSwg0LLRgdC1INGB0LvQvtGC0Ysg0LfQsNC/0L7Qu9C90LXQvdGLJyk7XG4gICAgfVxuICB9XG4gIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQgc3BhbicpIGFzIEhUTUxFbGVtZW50KS5pbm5lckhUTUwgPSBTdHJpbmcoYXJyYXlGYXZvcml0ZS5sZW5ndGgpO1xuICBjb25zb2xlLmxvZyhhcnJheUZhdm9yaXRlLmxlbmd0aCk7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhcnJheUZhdm9yaXRlJywgSlNPTi5zdHJpbmdpZnkoYXJyYXlGYXZvcml0ZSkpO1xufVxuXG5leHBvcnQgY29uc3QgcmVuZGVyUGFnZSA9IGZ1bmN0aW9uIHJlbmRlclBhZ2UoYXJyOiBJRGF0YVtdKSB7XG4gIGNvbnN0IGNhcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fY29udGFpbmVyJykgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcbiAgY2FyZENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCBzcGFuJykgYXMgSFRNTEVsZW1lbnQpLmlubmVySFRNTCA9IFN0cmluZyhhcnJheUZhdm9yaXRlLmxlbmd0aCk7XG4gIGFyci5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmQuY2xhc3NOYW1lID0gJ2NhcmQnO1xuICAgIGNhcmQuZGF0YXNldC5udW0gPSBpdGVtLm51bTtcbiAgICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8aDIgY2xhc3M9XCJjYXJkX190aXRsZVwiPiR7aXRlbS5uYW1lfTwvaDI+XG4gICAgICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy90b3lzLyR7aXRlbS5udW19LnBuZ1wiIGFsdD1cInRveVwiIGNsYXNzPVwiY2FyZC1pbWdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZF9faW5mb1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJjb3VudFwiPtCa0L7Qu9C40YfQtdGB0YLQstC+OiA8c3Bhbj4ke2l0ZW0uY291bnR9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwieWVhclwiPtCT0L7QtCDQv9C+0LrRg9C/0LrQuDogPHNwYW4+JHtpdGVtLnllYXJ9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9ybVwiPtCk0L7RgNC80LA6IDxzcGFuPiR7aXRlbS5zaGFwZX08L3NwYW4+PC9wPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJjb2xvclwiPtCm0LLQtdGCOiA8c3Bhbj4ke2l0ZW0uY29sb3J9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwic2l6ZVwiPtCg0LDQt9C80LXRgDogPHNwYW4+JHtpdGVtLnNpemV9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwiZmF2b3JpdGVcIj7Qm9GO0LHQuNC80LDRjzogPHNwYW4+JHtpdGVtLmZhdm9yaXRlID8gJ9C00LAnIDogJ9C90LXRgid9PC9zcGFuPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWFya1wiPjwvZGl2PmA7XG4gICAgY2FyZENvbnRhaW5lci5hcHBlbmQoY2FyZCk7XG4gICAgYXJyYXlGYXZvcml0ZS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGVsKSA9PSBKU09OLnN0cmluZ2lmeShpdGVtKSkge1xuICAgICAgICAoY2FyZC5sYXN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBmYXZvcml0ZUNoZWNrKGl0ZW0sIGNhcmQpO1xuICAgIH0pO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgSGVhZGVyIGZyb20gJy4vcmVuZGVyJztcbmltcG9ydCBDYXJkUmVuZGVyIGZyb20gJy4vY2FyZCc7XG5pbXBvcnQgeyBteUdyYWRlIH0gZnJvbSAnLi9teWdyYWRlJztcblxuaW1wb3J0ICcuL3N0eWxlL3N0eWxlLnNjc3MnO1xuaW1wb3J0ICcuL3N0eWxlL2NhcmQuc2Nzcyc7XG5pbXBvcnQgJy4vc3R5bGUvaGVhZGVyLnNjc3MnO1xuaW1wb3J0ICcuL3N0eWxlL3NsaWRlci5zY3NzJztcbmltcG9ydCAnLi9zdHlsZS9wb3B1cC5zY3NzJztcblxuY29uc3QgYXBwID0gbmV3IEhlYWRlcigpO1xuYXBwLmhlYWRlclJlbmRlcigpO1xuXG4vLyB0YWcga2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwO1xuY29uc3QgY2FyZCA9IG5ldyBDYXJkUmVuZGVyKCk7XG5jYXJkLmdldENhcmQoKTtcblxuY29uc29sZS5sb2cobXlHcmFkZSk7XG4iLCJjbGFzcyBIZWFkZXIge1xuICBoZWFkZXJSZW5kZXIoKSB7XG4gICAgY29uc3QgaGVhZGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fY29udGFpbmVyJykgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcbiAgICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX2NvbnRhaW5lcicpIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG4gICAgLy8gY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19jb250YWluZXInKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICAgIGNvbnN0IGZyYWdtZW50ID0gYCBcbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyX19uYXZpZ2F0aW9uXCI+XG4gICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwicGFnZS1tYWluXCI+PC9hPlxuICAgICAgPGEgaHJlZj1cIiNcImNsYXNzPVwicGFnZS1maXJzdFwiPtCY0LPRgNGD0YjQutC4PC/RhD5cbiAgICAgIDxhIGhyZWY9XCIjXCJjbGFzcz1cInBhZ2Utc2Vjb25kXCI+0IHQu9C60LA8L2E+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImhlYWRlcl9fY29udHJvbHNcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBjbGFzcz1cInNlYXJjaFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIHBsYWNlaG9sZGVyID0gXCLQv9C+0LjRgdC6XCIgYXV0b0ZvY3VzPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VsZWN0ZWRcIj48c3Bhbj4wPC9zcGFuPjwvZGl2PlxuICAgIDwvZGl2PmA7XG4gICAgaGVhZGVyQ29udGFpbmVyLmlubmVySFRNTCA9IGZyYWdtZW50O1xuICAgIGNvbnN0IGZyYWdtZW50Q29udHJvbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtcGFuZWxcIj4gICAgICAgICAgICAgICAgICBcbiAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXJzLW1lYW5pbmdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtdGl0bGVcIj7QpNC40LvRjNGC0YDRiyDQv9C+INC30L3QsNGH0LXQvdC40Y48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGRhdGEtZmlsdGVyID1cInNoYXBlXCIgY2xhc3M9XCJzaGFwZVwiPtCk0L7RgNC80LA6ICBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWZpbHRlcj1cItGI0LDRgFwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0LrQvtC70L7QutC+0LvRjNGH0LjQulwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0YjQuNGI0LrQsFwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0YHQvdC10LbQuNC90LrQsFwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0YTQuNCz0YPRgNC60LBcIj48L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGRhdGEtZmlsdGVyID1cImNvbG9yXCIgY2xhc3M9XCJjb2xvclwiPtCm0LLQtdGCOiAgIFxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0LHQtdC70YvQuVwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0LbQtdC70YLRi9C5XCI+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gZGF0YS1maWx0ZXI9XCLQutGA0LDRgdC90YvQuVwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0YHQuNC90LjQuVwiPjwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0LfQtdC70ZHQvdGL0LlcIj48L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGRhdGEtZmlsdGVyID1cInNpemVcIiBjbGFzcz1cInNpemVcIj7QoNCw0LfQvNC10YA6IFxuICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtZmlsdGVyPVwi0LHQvtC70YzRiNC+0LlcIj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWZpbHRlcj1cItGB0YDQtdC00L3QuNC5XCI+PC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gZGF0YS1maWx0ZXI9XCLQvNCw0LvRi9C5XCI+PC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZhdm9yaXRlX190b3lzXCI+0KLQvtC70YzQutC+INC70Y7QsdC40LzRi9C1OlxuICAgICAgICAgICAgICA8ZGl2IGRhdGEtZmlsdGVyID1cImZhdm9yaXRlc1wiY2xhc3M9XCJmYXZvcml0ZV9fZm9ybSBmYXZvcml0ZXNcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgZGF0YS1maWx0ZXIgPVwiZmF2b3JpdGVcIiBjbGFzcz1cImZhdm9yaXRlX19pbnB1dFwiIGlkPVwiY2hlY2tib3hcIi8+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrYm94XCIgY2xhc3M9XCJmYXZvcml0ZV9faW5wdXQtbGFiZWxcIj48L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj4gICBcbiAgICAgICAgICA8L2Rpdj4gXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWx0ZXJzLXJhbmdlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtdGl0bGVcIj7QpNC40LvRjNGC0YDRiyDQv9C+INC00LjQsNC/0LDQt9C+0L3RgzwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvdW50LXRveXNcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnRyb2wtc3BhblwiPtCa0L7Qu9C40YfQtdGB0YLQstC+INGN0LrQt9C10LzQv9C70Y/RgNC+0LI6PC9zcGFuPiBcbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtZmlsdGVyID1cImNvdW50LXNsaWRlclwiIGNsYXNzPVwiY291bnQtdG95cy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPG91dHB1dCBjbGFzcz1cInRveXMtb3V0cHV0XCI+MTwvb3V0cHV0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY291bnQtc2xpZGVyXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxvdXRwdXQgY2xhc3M9XCJ0b3lzLW91dHB1dFwiPjEyPC9vdXRwdXQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwieWVhclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb250cm9sLXNwYW5cIj7Qk9C+0LQg0L/RgNC40L7QsdGA0LXRgtC10L3QuNGPOjwvc3Bhbj4gXG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWZpbHRlciA9XCJ5ZWFycy1zbGlkZXJcIiBjbGFzcz1cInllYXItdG95cy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPG91dHB1dCBjbGFzcz1cInRveXMtb3V0cHV0XCI+MTk0MDwvb3V0cHV0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwieWVhci1zbGlkZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPG91dHB1dCBjbGFzcz1cInRveXMtb3V0cHV0XCI+MjAyMDwvb3V0cHV0PlxuICAgICAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICBcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVycy1zb3J0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzLXRpdGxlXCI+0KHQvtGA0YLQuNGA0L7QstC60LA8L2Rpdj5cbiAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwic29ydC1zZWxlY3RcIj5cbiAgICAgICAgICAgIDxvcHRpb24gc2VsZWN0ZWQgdmFsdWU9XCJzb3J0LW5hbWUtbWF4XCI+0J/QviDQvdCw0LfQstCw0L3QuNGOINC+0YIgwqvQkMK7INC00L4gwqvQr8K7PC9vcHRpb24+XG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic29ydC1uYW1lLW1pblwiPtCf0L4g0L3QsNC30LLQsNC90LjRjiDQvtGCIMKr0K/CuyDQtNC+IMKr0JDCuzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInNvcnQtY291bnQtbWF4XCI+0J/QviDQutC+0LvQuNGH0LXRgdGC0LLRgyDQv9C+INCy0L7Qt9GA0LDRgdGC0LDQvdC40Y48L29wdGlvbj5cbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzb3J0LWNvdW50LW1pblwiPtCf0L4g0LrQvtC70LjRh9C10YHRgtCy0YMg0L/QviDRg9Cx0YvQstCw0L3QuNGOPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlc2V0U2V0dGluZ3NcIj7QodCx0YDQvtGBINC90LDRgdGC0YDQvtC10Lo8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVzZXRcIj7QodCx0YDQvtGBINGE0LjQu9GM0YLRgNC+0LI8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PiBgO1xuICAgIG1haW5Db250YWluZXIuaW5uZXJIVE1MID0gZnJhZ21lbnRDb250cm9sO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjtcbiIsImltcG9ydCBMb2FkZXIgZnJvbSAnLi9sb2FkZXInO1xuaW1wb3J0IEZpbHRlckZpcnN0IGZyb20gJy4vZmlsdGVyc0ZpcnN0JztcbmltcG9ydCB7IElEYXRhIH0gZnJvbSAnLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgeyB0YXJnZXQgfSBmcm9tICcuLi9ub2RlX21vZHVsZXMvbm91aXNsaWRlci9kaXN0L25vdWlzbGlkZXInO1xuaW1wb3J0IFNsaWRlclJlbmRlciBmcm9tICcuL3NsaWRlcnNyZW5kZXInO1xuaW1wb3J0IHsgZ2V0U29ydEl0ZW1zLCBnZXRTb3J0UGFnZSwgZ2V0U29ydFBhZ2VQYWdlLCBmaWx0ZXJTZWFyY2ggfSBmcm9tICcuL290aGVyRmlsdGVyJztcbmltcG9ydCB7IHJlbmRlclBhZ2UsIFNob3dQb3B1cCB9IGZyb20gJy4vcmVuZGVyUGFnZSc7XG5pbXBvcnQgeyByZXNldEZpbHRlcnMgfSBmcm9tICcuL3Jlc2V0JztcblxuY2xhc3MgQ2FyZFJlbmRlciB7XG4gIGFzeW5jIGdldENhcmQoKSB7XG4gICAgY29uc3QgZWxlbWVudENoZWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhdm9yaXRlX19pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3Qgb3V0cHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b3lzLW91dHB1dCcpIGFzIE5vZGVMaXN0T2Y8SFRNTE91dHB1dEVsZW1lbnQ+O1xuICAgIGNvbnN0IHNsaWRlckNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50LXNsaWRlcicpIGFzIHRhcmdldDtcbiAgICBjb25zdCBzbGlkZXJZZWFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy55ZWFyLXNsaWRlcicpIGFzIHRhcmdldDtcblxuICAgIGNvbnN0IHNsaWRlclJlbmRlciA9IG5ldyBTbGlkZXJSZW5kZXIoKTtcbiAgICBzbGlkZXJSZW5kZXIuc2xpZGVyc1JlbmRlckNvdW50KCk7XG4gICAgc2xpZGVyUmVuZGVyLnNsaWRlcnNSZW5kZXJZZWFycygpO1xuXG4gICAgY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBsb2FkZXIuZ2V0VG95TGlzdCgpO1xuICAgIGNvbnN0IE9iamVjdEZsYWcgPSB7XG4gICAgICBzaGFwZToge1xuICAgICAgICDRiNCw0YA6IGZhbHNlLFxuICAgICAgICDQutC+0LvQvtC60L7Qu9GM0YfQuNC6OiBmYWxzZSxcbiAgICAgICAg0YjQuNGI0LrQsDogZmFsc2UsXG4gICAgICAgINGB0L3QtdC20LjQvdC60LA6IGZhbHNlLFxuICAgICAgICDRhNC40LPRg9GA0LrQsDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgY29sb3I6IHtcbiAgICAgICAg0LHQtdC70YvQuTogZmFsc2UsXG4gICAgICAgINC20LXQu9GC0YvQuTogZmFsc2UsXG4gICAgICAgINC60YDQsNGB0L3Ri9C5OiBmYWxzZSxcbiAgICAgICAg0YHQuNC90LjQuTogZmFsc2UsXG4gICAgICAgINC30LXQu9GR0L3Ri9C5OiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgINCx0L7Qu9GM0YjQvtC5OiBmYWxzZSxcbiAgICAgICAg0YHRgNC10LTQvdC40Lk6IGZhbHNlLFxuICAgICAgICDQvNCw0LvRi9C5OiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBmYXZvcml0ZXM6IHtcbiAgICAgICAgZmF2b3JpdGU6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGxldCBjb3VudFNvcnQgPSAwO1xuICAgIGxldCBpc1NlYXJjaCA9IGZhbHNlO1xuICAgIGxldCBzZWFyY2hpbmc6IElEYXRhW10gPSBbXTtcbiAgICBsZXQgZmlsdGVyczogSURhdGFbXSA9IFtdO1xuICAgIGNvbnN0IGZpbHRlcnNEYXRhID0gbGlzdDtcblxuICAgIC8vcmVuZGVyIGNhcmRcbiAgICBmdW5jdGlvbiBsb2FkUmVuZGVyKGFycjogSURhdGFbXSkge1xuICAgICAgbGV0IHJlbmRlciA9IGdldFNvcnRQYWdlKGlzU2VhcmNoID8gc2VhcmNoaW5nIDogYXJyLCBPYmplY3RGbGFnKTtcbiAgICAgIGlmIChjb3VudFNvcnQgPT0gMSkgcmVuZGVyID0gZ2V0U29ydFBhZ2VQYWdlKHJlbmRlcik7XG4gICAgICByZW5kZXJQYWdlKHJlbmRlcik7XG4gICAgICBpZiAocmVuZGVyLmxlbmd0aCA8PSAwKSBTaG93UG9wdXAoJ9CY0LfQstC40L3QuNGC0LUsINGB0L7QstC/0LDQtNC10L3QuNC5INC90LUg0L7QsdC90LDRgNGD0LbQtdC90L4nKTtcbiAgICB9XG4gICAgbG9hZFJlbmRlcihmaWx0ZXJzRGF0YSk7XG5cbiAgICAvLyBmaWx0ZXIgZm9ybSwgY29sb3IsIGZhdm9yaXRlXG4gICAgY29uc3QgZWxlbWVudExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJy5maWx0ZXJzLW1lYW5pbmcgYnV0dG9uLCAuZmF2b3JpdGVfX2lucHV0J1xuICAgICkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG5cbiAgICBmdW5jdGlvbiBvYmpGaWx0ZXIoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBJRGF0YVtdIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9IG5ldyBGaWx0ZXJGaXJzdChmaWx0ZXJzRGF0YSwgZWxlbWVudExpc3QsIGVsZW1lbnQsIE9iamVjdEZsYWcpO1xuICAgICAgZmlsdGVyLmdldEZpcnN0RmlsdGVycygpO1xuICAgICAgZmlsdGVycyA9IGZpbHRlci5nZXRTaGFwZSgpO1xuICAgICAgcmV0dXJuIGZpbHRlcnM7XG4gICAgfVxuICAgIGVsZW1lbnRMaXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGZpbHRlcnMgPSBvYmpGaWx0ZXIoZWxlbWVudCk7XG4gICAgICAgIGxvYWRSZW5kZXIoZmlsdGVycyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vZmlsdGVyIHJhbmdlIHNsaWRlclxuICAgIGNvbnN0IGFycmF5Q291bnQ6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgYXJyYXlZZWFyczogbnVtYmVyW10gPSBbXTtcblxuICAgIHNsaWRlckNvdW50Lm5vVWlTbGlkZXIub24oJ3VwZGF0ZScsICh2YWx1ZXMpID0+IHtcbiAgICAgIGFycmF5Q291bnQubGVuZ3RoID0gMDtcbiAgICAgIGNvbnN0IGEgPSB2YWx1ZXMubWFwKChpdGVtKSA9PiAoK2l0ZW0pLnRvRml4ZWQoMCkpO1xuICAgICAgZm9yIChsZXQgaSA9ICthWzBdOyBpIDw9ICthWzFdOyBpKyspIHtcbiAgICAgICAgYXJyYXlDb3VudC5wdXNoKGkpO1xuICAgICAgfVxuICAgICAgZmlsdGVycyA9IGdldFNvcnRJdGVtcyhmaWx0ZXJzRGF0YSwgYXJyYXlDb3VudCwgJ2NvdW50JywgT2JqZWN0RmxhZyk7XG5cbiAgICAgIGxvYWRSZW5kZXIoZmlsdGVycyk7XG4gICAgfSk7XG4gICAgc2xpZGVyWWVhcnMubm9VaVNsaWRlci5vbigndXBkYXRlJywgKHZhbHVlcykgPT4ge1xuICAgICAgYXJyYXlZZWFycy5sZW5ndGggPSAwO1xuICAgICAgY29uc3QgYSA9IHZhbHVlcy5tYXAoKGl0ZW0pID0+ICgraXRlbSkudG9GaXhlZCgwKSk7XG4gICAgICBmb3IgKGxldCBpID0gK2FbMF07IGkgPD0gK2FbMV07ICkge1xuICAgICAgICBhcnJheVllYXJzLnB1c2goaSk7XG4gICAgICAgIGkgKz0gMTA7XG4gICAgICB9XG4gICAgICBmaWx0ZXJzID0gZ2V0U29ydEl0ZW1zKGZpbHRlcnNEYXRhLCBhcnJheVllYXJzLCAneWVhcicsIE9iamVjdEZsYWcpO1xuICAgICAgbG9hZFJlbmRlcihmaWx0ZXJzKTtcbiAgICB9KTtcblxuICAgIC8vc29ydCBzZWxlY3RlZFxuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb3J0LXNlbGVjdCcpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgIHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTb3J0RGF0YScsIEpTT04uc3RyaW5naWZ5KHNlbGVjdC52YWx1ZSkpO1xuICAgICAgY291bnRTb3J0ID0gMTtcbiAgICAgIGZpbHRlcnMgPSBnZXRTb3J0UGFnZShmaWx0ZXJzRGF0YSwgT2JqZWN0RmxhZyk7XG4gICAgICBmaWx0ZXJzID0gZ2V0U29ydFBhZ2VQYWdlKGZpbHRlcnMpO1xuICAgICAgbG9hZFJlbmRlcihmaWx0ZXJzKTtcbiAgICB9KTtcblxuICAgIC8vc29ydCBzZWFyY2hcbiAgICBjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnU29ydFNlYXJjaCcpIHx8ICcnKSB7XG4gICAgICAgIHNlYXJjaC52YWx1ZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NvcnRTZWFyY2gnKSB8fCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZsYWdTZWFyY2gnKSB8fCAnJykge1xuICAgICAgICBpc1NlYXJjaCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZsYWdTZWFyY2gnKSB8fCAnJyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgc2VhcmNoLnN0eWxlLmJhY2tncm91bmRTaXplID0gJzAnO1xuICAgIH0pO1xuICAgIHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgc2VhcmNoLnN0eWxlLmJhY2tncm91bmRTaXplID0gJzIwcHgnO1xuICAgIH0pO1xuICAgIHNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdTb3J0U2VhcmNoJywgSlNPTi5zdHJpbmdpZnkoc2VhcmNoLnZhbHVlKSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmxhZ1NlYXJjaCcsIEpTT04uc3RyaW5naWZ5KGlzU2VhcmNoKSk7XG4gICAgICBpZiAoc2VhcmNoLnZhbHVlLmxlbmd0aCA+IDApIGlzU2VhcmNoID0gdHJ1ZTtcbiAgICAgIHNlYXJjaGluZyA9IGZpbHRlclNlYXJjaChmaWx0ZXJzRGF0YSwgc2VhcmNoLnZhbHVlKTtcbiAgICAgIGxvYWRSZW5kZXIoc2VhcmNoaW5nKTtcbiAgICB9KTtcblxuICAgIC8vIHJlc2V0XG4gICAgY29uc3QgcmVzZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzZXQnKTtcbiAgICByZXNldD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpc1NlYXJjaCA9IGZhbHNlO1xuICAgICAgcmVzZXRGaWx0ZXJzKE9iamVjdEZsYWcsIGVsZW1lbnRMaXN0LCBzZWFyY2gsIGVsZW1lbnRDaGVjayk7XG4gICAgICBzbGlkZXJDb3VudC5ub1VpU2xpZGVyLnNldChbMSwgMTJdKTtcbiAgICAgIHNsaWRlclllYXJzLm5vVWlTbGlkZXIuc2V0KFsxOTQwLCAyMDIwXSk7XG4gICAgICAob3V0cHV0c1swXSBhcyBIVE1MT3V0cHV0RWxlbWVudCkuaW5uZXJIVE1MID0gJzEnO1xuICAgICAgKG91dHB1dHNbMV0gYXMgSFRNTE91dHB1dEVsZW1lbnQpLmlubmVySFRNTCA9ICcxMic7XG4gICAgICAob3V0cHV0c1syXSBhcyBIVE1MT3V0cHV0RWxlbWVudCkuaW5uZXJIVE1MID0gJzE5NDAnO1xuICAgICAgKG91dHB1dHNbM10gYXMgSFRNTE91dHB1dEVsZW1lbnQpLmlubmVySFRNTCA9ICcyMDIwJztcbiAgICAgIGxvYWRSZW5kZXIoZmlsdGVyc0RhdGEpO1xuICAgIH0pO1xuICAgIC8vY2xlYXIgc3RvcmFnZVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXNldFNldHRpbmdzJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2FzaGVkJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkUmVuZGVyO1xuIiwiaW1wb3J0IHsgSURhdGEgfSBmcm9tICcuL3R5cGVzL3R5cGVzJztcbmNvbnN0IGRhdGEgPSAnIC4vZGF0YS5qc29uJztcbmNsYXNzIExvYWRlciB7XG4gIGFzeW5jIGdldFRveUxpc3QoKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goZGF0YSk7XG4gICAgY29uc3QgbGlzdDogSURhdGFbXSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IExvYWRlcjtcbiIsImltcG9ydCB7IElPYmogfSBmcm9tICcuL3R5cGVzL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RmlsdGVycyhcbiAgb2JqOiBJT2JqLFxuICBjb2xsZWN0aW9uOiBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PixcbiAgc2VhcmNoOiBIVE1MSW5wdXRFbGVtZW50LFxuICBlbGVtZW50Q2hlY2s6IEhUTUxJbnB1dEVsZW1lbnRcbikge1xuICBmb3IgKGNvbnN0IGtleXMgaW4gb2JqKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqW2Ake2tleXN9YF0pIHtcbiAgICAgIG9ialtgJHtrZXlzfWBdW2Ake2tleX1gXSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb2JqZWN0JywgSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gIGNvbnNvbGUubG9nKG9iaik7XG4gIGNvbGxlY3Rpb24uZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAvLyBjb25zb2xlLmxvZyhjaGUpXG4gIH0pO1xuICBlbGVtZW50Q2hlY2suY2hlY2tlZCA9IGZhbHNlO1xuICBzZWFyY2gudmFsdWUgPSAnJztcbn1cbiIsImV4cG9ydCBjb25zdCBteUdyYWRlID0gYFxu0JLRi9C/0L7Qu9C90LXQvdC+OiAyMDAvMjAwXG4rICAgICDQodGC0YDQsNC90LjRhtCwINGBINC40LPRgNGD0YjQutCw0LzQuCDRgdC+0LTQtdGA0LbQuNGCINC60LDRgNGC0L7Rh9C60Lgg0LLRgdC10YUg0LjQs9GA0YPRiNC10Log0LAg0YLQsNC60LbQtSDRhNC40LvRjNGC0YDRiywg0YHRgtGA0L7QutGDINC/0L7QuNGB0LrQsCwg0L/QvtC70LUg0LTQu9GPINGB0L7RgNGC0LjRgNC+0LLQutC4LiDQktGL0L/QvtC70L3Rj9GO0YLRgdGPINGC0YDQtdCx0L7QstCw0L3QuNGPINC6INCy0ZHRgNGB0YLQutC1ICsxMFxuKyAgICAg0JrQsNGA0YLQvtGH0LrQsCDQuNCz0YDRg9GI0LrQuCDRgdC+0LTQtdGA0LbQuNGCINC10ZEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSwg0L3QsNC30LLQsNC90LjQtSwg0YLQtdC60YHRgtC+0Lwg0LjQu9C4INGD0YHQu9C+0LLQvdGL0Lwg0LfQvdCw0YfQutC+0Lwg0L7QsdC+0LfQvdCw0YfQtdC90L4g0LrQvtC70LjRh9C10YHRgtCy0L4g0Y3QutC30LXQvNC/0LvRj9GA0L7Qsiwg0LPQvtC0INC/0L7QutGD0L/QutC4LCDRhNC+0YDQvNCwLCDRhtCy0LXRgiwg0YDQsNC30LzQtdGALCDRj9Cy0LvRj9C10YLRgdGPINC70Lgg0LjQs9GA0YPRiNC60LAg0LvRjtCx0LjQvNC+0LkgKzEwXG4rICAgICAg0JTQvtCx0LDQstC70LXQvdC40LUg0LjQs9GA0YPRiNC10Log0LIg0LjQt9Cx0YDQsNC90L3QvtC1ICsyMFxuKyDQutC70LjQutCw0Y8g0L/QviDQutCw0YDRgtC+0YfQutC1INGBINC40LPRgNGD0YjQutC+0Lkg0LjQu9C4INC/0L4g0LrQvdC+0L/QutC1INC90LAg0L3QtdC5INC40LPRgNGD0YjQutGDINC80L7QttC90L4g0LTQvtCx0LDQstC70Y/RgtGMINCyINC40LfQsdGA0LDQvdC90L7QtSDQuNC70Lgg0YPQtNCw0LvRj9GC0Ywg0LjQtyDQuNC30LHRgNCw0L3QvdC+0LPQvi4g0JrQsNGA0YLQvtGH0LrQuCDQtNC+0LHQsNCy0LvQtdC90L3Ri9GFINCyINC40LfQsdGA0LDQvdC90L7QtSDQuNCz0YDRg9GI0LXQuiDQstC90LXRiNC90LUg0L7RgtC70LjRh9Cw0Y7RgtGB0Y8g0L7RgiDQvtGB0YLQsNC70YzQvdGL0YUgKzEwXG4rINC90LAg0YHRgtGA0LDQvdC40YbQtSDQvtGC0L7QsdGA0LDQttCw0LXRgtGB0Y8g0LrQvtC70LjRh9C10YHRgtCy0L4g0LTQvtCx0LDQstC70LXQvdC90YvRhSDQsiDQuNC30LHRgNCw0L3QvdC+0LUg0LjQs9GA0YPRiNC10LouINCf0YDQuCDQv9C+0L/Ri9GC0LrQtSDQtNC+0LHQsNCy0LjRgtGMINCyINC40LfQsdGA0LDQvdC90L7QtSDQsdC+0LvRjNGI0LUgMjAg0LjQs9GA0YPRiNC10LosINCy0YvQstC+0LTQuNGC0YHRjyDQstGB0L/Qu9GL0LLQsNGO0YnQtdC1INGD0LLQtdC00L7QvNC70LXQvdC40LUg0YEg0YLQtdC60YHRgtC+0LwgXCLQmNC30LLQuNC90LjRgtC1LCDQstGB0LUg0YHQu9C+0YLRiyDQt9Cw0L/QvtC70L3QtdC90YtcIiArMTBcbisgICAgICDQodC+0YDRgtC40YDQvtCy0LrQsCArMjBcbisg0KHQvtGA0YLQuNGA0YPRjtGC0YHRjyDRgtC+0LvRjNC60L4g0YLQtSDQuNCz0YDRg9GI0LrQuCwg0LrQvtGC0L7RgNGL0LUg0LIg0LTQsNC90L3Ri9C5INC80L7QvNC10L3RgiDQvtGC0L7QsdGA0LDQttCw0Y7RgtGB0Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1XG4rINGB0L7RgNGC0LjRgNC+0LLQutCwINC40LPRgNGD0YjQtdC6INC/0L4g0L3QsNC30LLQsNC90LjRjiDQsiDQstC+0LfRgNCw0YHRgtCw0Y7RidC10Lwg0Lgg0YHQv9Cw0LTQsNGO0YnQtdC8INC/0L7RgNGP0LTQutC1ICsxMFxuKyDRgdC+0YDRgtC40YDQvtCy0LrQsCDQuNCz0YDRg9GI0LXQuiDQv9C+INCz0L7QtNGDINC40YUg0L/RgNC40L7QsdGA0LXRgtC10L3QuNGPINCyINCy0L7Qt9GA0LDRgdGC0LDRjtGJ0LXQvCDQuCDRgdC/0LDQtNCw0Y7RidC10Lwg0L/QvtGA0Y/QtNC60LUgKzEwXG4rICAgICDQpNC40LvRjNGC0YDRiyDQsiDRg9C60LDQt9Cw0L3QvdC+0Lwg0LTQuNCw0L/QsNC30L7QvdC1INC+0YIg0Lgg0LTQviArMzBcbisg0YTQuNC70YzRgtGA0Ysg0L/QviDQutC+0LvQuNGH0LXRgdGC0LLRgyDRjdC60LfQtdC80L/Qu9GP0YDQvtCyICsxMFxuKyDRhNC40LvRjNGC0YDRiyDQv9C+INCz0L7QtNGDINC/0L7QutGD0L/QutC4ICsxMFxuKyDQtNC70Y8g0YTQuNC70YzRgtGA0LDRhtC40Lgg0LIg0YPQutCw0LfQsNC90L3QvtC8INC00LjQsNC/0LDQt9C+0L3QtSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8gcmFuZ2Ugc2xpZGVyINGBINC00LLRg9C80Y8g0L/QvtC70LfRg9C90LrQsNC80LguINCf0YDQuCDQv9C10YDQtdC80LXRidC10L3QuNC4INC/0L7Qu9C30YPQvdC60L7QsiDQvtGC0L7QsdGA0LDQttCw0LXRgtGB0Y8g0LjRhSDRgtC10LrRg9GJ0LXQtSDQt9C90LDRh9C10L3QuNC1LCDRgNCw0LfQvdGL0Lkg0YbQstC10YIg0YHQu9Cw0LnQtNC10YDQsCDQtNC+INC4INC/0L7RgdC70LUg0L/QvtC70LfRg9C90LrQsCArMTBcbisgICAgINCk0LjQu9GM0YLRgNGLINC/0L4g0LfQvdCw0YfQtdC90LjRjiArMzBcbisg0JLRi9Cx0YDQsNC90L3Ri9C1INGE0LjQu9GM0YLRgNGLINCy0YvQtNC10LvRj9GO0YLRgdGPINGB0YLQuNC70LXQvC5cbisg0YTQuNC70YzRgtGA0Ysg0L/QviDRhNC+0YDQvNC1ICs1XG4rINGE0LjQu9GM0YLRgNGLINC/0L4g0YbQstC10YLRgyArNVxuKyDRhNC40LvRjNGC0YDRiyDQv9C+INGA0LDQt9C80LXRgNGDICs1XG4rINC80L7QttC90L4g0L7RgtC+0LHRgNCw0LfQuNGC0Ywg0YLQvtC70YzQutC+INC70Y7QsdC40LzRi9C1INC40LPRgNGD0YjQutC4ICs1XG4rINC80L7QttC90L4g0L7RgtGE0LjQu9GM0YLRgNC+0LLQsNGC0Ywg0LjQs9GA0YPRiNC60Lgg0L/QviDQvdC10YHQutC+0LvRjNC60LjQvCDRhNC40LvRjNGC0YDQsNC8INC+0LTQvdC+0LPQviDRgtC40L/QsCArMTBcbisg0JTQu9GPINC90LXRgdC60L7Qu9GM0LrQuNGFINGE0LjQu9GM0YLRgNC+0LIg0L7QtNC90L7Qs9C+INGC0LjQv9CwINC+0YLQvtCx0YDQsNC20LDRjtGC0YHRjyDQuNCz0YDRg9GI0LrQuCwg0LrQvtGC0L7RgNGL0LUg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YIg0YXQvtGC0Ywg0L7QtNC90L7QvNGDINCy0YvQsdGA0LDQvdC90L7QvNGDINGE0LjQu9GM0YLRgNGDLiDQndCw0L/RgNC40LzQtdGALCDQvNC+0LbQvdC+INC+0YLQvtCx0YDQsNC30LjRgtGMINGB0L3QtdC20LjQvdC60Lgg0Lgg0LrQvtC70L7QutC+0LvRjNGH0LjQutC4OyDQuNC70Lgg0LHQtdC70YvQtSwg0YHQuNC90LjQtSDQuCDQutGA0LDRgdC90YvQtSDQuNCz0YDRg9GI0LrQuDsg0LjQu9C4INCx0L7Qu9GM0YjQuNC1INC4INGB0YDQtdC00L3QuNC1LlxuKyAgICAgINCc0L7QttC90L4g0L7RgtGE0LjQu9GM0YLRgNC+0LLQsNGC0Ywg0LjQs9GA0YPRiNC60Lgg0L/QviDQvdC10YHQutC+0LvRjNC60LjQvCDRhNC40LvRjNGC0YDQsNC8INGA0LDQt9C90L7Qs9C+INGC0LjQv9CwICsyMFxuKyDQlNC70Y8g0L3QtdGB0LrQvtC70YzQutC40YUg0YTQuNC70YzRgtGA0L7QsiDRgNCw0LfQvdC+0LPQviDRgtC40L/QsCDQvtGC0L7QsdGA0LDQttCw0Y7RgtGB0Y8g0YLQvtC70YzQutC+INGC0LUg0LjQs9GA0YPRiNC60LgsINC60L7RgtC+0YDRi9C1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGCINCy0YHQtdC8INCy0YvQsdGA0LDQvdC90YvQvCDRhNC40LvRjNGC0YDQsNC8LlxuKyDQndCw0L/RgNC40LzQtdGALCDQvNC+0LbQvdC+INC+0YLQvtCx0YDQsNC30LjRgtGMINGC0L7Qu9GM0LrQviDRgdC40L3QuNC1INGI0LDRgNGLLiDQmNC70Lgg0LvRjtCx0LjQvNGL0LUg0LHQtdC70YvQtSDQuCDQutGA0LDRgdC90YvQtSDQuNCz0YDRg9GI0LrQuCDQutGD0L/Qu9C10L3QvdGL0LUg0LIgMTk0MC0xOTYwINCz0L7QtNCw0YUuXG4rINCV0YHQu9C4INC40LPRgNGD0YjQtdC6LCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40YUg0LLRgdC10Lwg0LLRi9Cx0YDQsNC90L3Ri9C8INGE0LjQu9GM0YLRgNCw0Lwg0L3QtdGCLCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LLRi9Cy0L7QtNC40YLRgdGPINGD0LLQtdC00L7QvNC70LXQvdC40LUg0LIg0YfQtdC70L7QstC10LrQvtGH0LjRgtCw0LXQvNC+0Lwg0YTQvtGA0LzQsNGC0LUsINC90LDQv9GA0LjQvNC10YAsIFwi0JjQt9Cy0LjQvdC40YLQtSwg0YHQvtCy0L/QsNC00LXQvdC40Lkg0L3QtSDQvtCx0L3QsNGA0YPQttC10L3QvlwiXG4rICAgICDQodCx0YDQvtGBINGE0LjQu9GM0YLRgNC+0LIgKzIwXG4rINC10YHRgtGMINC60L3QvtC/0LrQsCByZXNldCDQtNC70Y8g0YHQsdGA0L7RgdCwINGE0LjQu9GM0YLRgNC+0LIgKzEwXG4rINCa0L3QvtC/0LrQsCByZXNldCDRgdCx0YDQsNGB0YvQstCw0LXRgiDRgtC+0LvRjNC60L4g0YTQuNC70YzRgtGA0YssINC90LUg0LLQu9C40Y/RjyDQvdCwINC/0L7RgNGP0LTQvtC6INGB0L7RgNGC0LjRgNC+0LLQutC4INC40LvQuCDQuNCz0YDRg9GI0LrQuCwg0LTQvtCx0LDQstC70LXQvdC90YvQtSDQsiDQuNC30LHRgNCw0L3QvdC+0LUuXG4rINCf0L7RgdC70LUg0LjRgdC/0L7Qu9GM0LfQvtCy0LDQvdC40Y8g0LrQvdC+0L/QutC4IHJlc2V0INGE0LjQu9GM0YLRgNGLINC+0YHRgtCw0Y7RgtGB0Y8g0YDQsNCx0L7RgtC+0YHQv9C+0YHQvtCx0L3Ri9C80Lhcbisg0L/RgNC4INGB0LHRgNC+0YHQtSDRhNC40LvRjNGC0YDQvtCyINC60L3QvtC/0LrQvtC5IHJlc2V0LCDQv9C+0LvQt9GD0L3QutC4IHJhbmdlIHNsaWRlciDRgdC00LLQuNCz0LDRjtGC0YHRjyDQuiDQutGA0LDRj9C8LCDQt9C90LDRh9C10L3QuNGPINC/0L7Qu9C30YPQvdC60L7QsiDQstC+0LfQstGA0LDRidCw0Y7RgtGB0Y8g0Log0L/QtdGA0LLQvtC90LDRh9Cw0LvRjNC90YvQvCwgcmFuZ2Ugc2xpZGVyINC30LDQutGA0LDRiNC40LLQsNC10YLRgdGPINC+0LTQvdC40Lwg0YbQstC10YLQvtC8ICsxMFxuKyAgICAgINCh0L7RhdGA0LDQvdC10L3QuNC1INC90LDRgdGC0YDQvtC10Log0LIgbG9jYWwgc3RvcmFnZSArMTBcbisg0LLRi9Cx0YDQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8INGE0LjQu9GM0YLRgNGLLCDQv9C+0YDRj9C00L7QuiDRgdC+0YDRgtC40YDQvtCy0LrQuCwg0LTQvtCx0LDQstC70LXQvdC90YvQtSDQsiDQuNC30LHRgNCw0L3QvdC+0LUg0LjQs9GA0YPRiNC60Lgg0YHQvtGF0YDQsNC90Y/RjtGC0YHRjyDQv9GA0Lgg0L/QtdGA0LXQt9Cw0LPRgNGD0LfQutC1INGB0YLRgNCw0L3QuNGG0YsuINCV0YHRgtGMINC60L3QvtC/0LrQsCDRgdCx0YDQvtGB0LAg0L3QsNGB0YLRgNC+0LXQuiwg0LrQvtGC0L7RgNCw0Y8g0L7Rh9C40YnQsNC10YIgbG9jYWwgc3RvcmFnZSArMTBcbisgICAgICDQn9C+0LjRgdC6ICszMFxuKyDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9GA0LjQu9C+0LbQtdC90LjRjyDQutGD0YDRgdC+0YAg0L3QsNGF0L7QtNC40YLRgdGPINCyINC/0L7Qu9C1INC/0L7QuNGB0LrQsCArMlxuKyDQsNCy0YLQvtC30LDQv9C+0LvQvdC10L3QuNC1INC/0L7Qu9GPINC/0L7QuNGB0LrQsCDQvtGC0LrQu9GO0YfQtdC90L4gKNC90LXRgiDQstGL0L/QsNC00LDRjtGJ0LXQs9C+INGB0L/QuNGB0LrQsCDRgSDQv9GA0LXQtNGL0LTRg9GJ0LjQvNC4INC30LDQv9GA0L7RgdCw0LzQuCkgKzJcbisg0LXRgdGC0YwgcGxhY2Vob2xkZXIgKzJcbisg0LIg0L/QvtC70LUg0L/QvtC40YHQutCwINC10YHRgtGMINC60YDQtdGB0YLQuNC6LCDQv9C+0LfQstC+0LvRj9GO0YnQuNC5INC+0YfQuNGB0YLQuNGC0Ywg0L/QvtC70LUg0L/QvtC40YHQutCwICsyXG4rINC10YHQu9C4INC90LXRgiDRgdC+0LLQv9Cw0LTQtdC90LjRjyDQv9C+0YHQu9C10LTQvtCy0LDRgtC10LvRjNC90L7RgdGC0Lgg0LHRg9C60LIg0LIg0L/QvtC40YHQutC+0LLQvtC8INC30LDQv9GA0L7RgdC1INGBINC90LDQt9Cy0LDQvdC40LXQvCDQuNCz0YDRg9GI0LrQuCwg0LLRi9Cy0L7QtNC40YLRgdGPINGD0LLQtdC00L7QvNC70LXQvdC40LUg0LIg0YfQtdC70L7QstC10LrQvtGH0LjRgtCw0LXQvNC+0Lwg0YTQvtGA0LzQsNGC0LUsINC90LDQv9GA0LjQvNC10YAgXCLQmNC30LLQuNC90LjRgtC1LCDRgdC+0LLQv9Cw0LTQtdC90LjQuSDQvdC1INC+0LHQvdCw0YDRg9C20LXQvdC+XCIgKzJcbisg0L/RgNC4INCy0LLQvtC00LUg0L/QvtC40YHQutC+0LLQvtCz0L4g0LfQsNC/0YDQvtGB0LAg0L3QsCDRgdGC0YDQsNC90LjRhtC1INC+0YHRgtCw0Y7RgtGB0Y8g0YLQvtC70YzQutC+INGC0LUg0LjQs9GA0YPRiNC60LgsINCyINC60L7RgtC+0YDRi9GFINC10YHRgtGMINGD0LrQsNC30LDQvdC90YvQtSDQsiDQv9C+0LjRgdC60LUg0LHRg9C60LLRiyDQsiDRg9C60LDQt9Cw0L3QvdC+0Lwg0L/QvtGA0Y/QtNC60LUuINCf0YDQuCDRjdGC0L7QvCDQvdC1INC+0LHRj9C30LDRgtC10LvRjNC90L4sINGH0YLQvtCx0Ysg0LHRg9C60LLRiyDQsdGL0LvQuCDQsiDQvdCw0YfQsNC70LUg0YHQu9C+0LLQsC4g0KDQtdCz0LjRgdGC0YAg0YHQuNC80LLQvtC70L7QsiDQv9GA0Lgg0L/QvtC40YHQutC1INC90LUg0YPRh9C40YLRi9Cy0LDQtdGC0YHRjyArMTBcbisg0J/QvtC40YHQuiDQstC10LTRkdGC0YHRjyDRgtC+0LvRjNC60L4g0YHRgNC10LTQuCDQuNCz0YDRg9GI0LXQuiwg0LrQvtGC0L7RgNGL0LUg0LIg0LTQsNC90L3Ri9C5INC80L7QvNC10L3RgiDQvtGC0L7QsdGA0LDQttCw0Y7RgtGB0Y8g0L3QsCDRgdGC0YDQsNC90LjRhtC1LlxuKyDQtdGB0LvQuCDQvtGH0LjRgdGC0LjRgtGMINC/0L7Qu9C1INC/0L7QuNGB0LrQsCwg0L3QsCDRgdGC0YDQsNC90LjRhtC1INC+0YLQvtCx0YDQsNC20LDRjtGC0YHRjyDQuNCz0YDRg9GI0LrQuCwg0YHQvtC+0YLQstC10YLRgdGC0LLRg9GO0YnQuNC1INCy0YHQtdC8INCy0YvQsdGA0LDQvdC90YvQvCDRhNC40LvRjNGC0YDQsNC8INC4INC90LDRgdGC0YDQvtC50LrQsNC8INGB0L7RgNGC0LjRgNC+0LLQutC4ICsxMFxuLSAgICAgICDQlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Ri9C5INGE0YPQvdC60YbQuNC+0L3QsNC7INC90LAg0LLRi9Cx0L7RgCArMjBcbmA7XG4iXSwibmFtZXMiOlsiZXhwb3J0cyIsImlzVmFsaWRQYXJ0aWFsRm9ybWF0dGVyIiwiZW50cnkiLCJ0byIsInJlbW92ZUVsZW1lbnQiLCJlbCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImlzU2V0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImUiLCJpc051bWVyaWMiLCJhIiwiaXNOYU4iLCJpc0Zpbml0ZSIsImFkZENsYXNzRm9yIiwiZWxlbWVudCIsImNsYXNzTmFtZSIsImR1cmF0aW9uIiwiYWRkQ2xhc3MiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2xhc3MiLCJsaW1pdCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJhc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiY291bnREZWNpbWFscyIsIm51bVN0ciIsInBpZWNlcyIsIlN0cmluZyIsInNwbGl0IiwibGVuZ3RoIiwiY2xhc3NMaXN0IiwidGVzdCIsImFkZCIsInJlbW92ZSIsInJlcGxhY2UiLCJSZWdFeHAiLCJqb2luIiwiZ2V0UGFnZU9mZnNldCIsImRvYyIsInN1cHBvcnRQYWdlT2Zmc2V0IiwidW5kZWZpbmVkIiwid2luZG93IiwicGFnZVhPZmZzZXQiLCJpc0NTUzFDb21wYXQiLCJjb21wYXRNb2RlIiwieCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbExlZnQiLCJib2R5IiwieSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwic3ViUmFuZ2VSYXRpbyIsInBhIiwicGIiLCJmcm9tUGVyY2VudGFnZSIsInJhbmdlIiwic3RhcnRSYW5nZSIsImdldEoiLCJhcnIiLCJqIiwidG9TdGVwcGluZyIsInhWYWwiLCJ4UGN0Iiwic2xpY2UiLCJ2YSIsInZiIiwiYWJzIiwidG9QZXJjZW50YWdlIiwiZ2V0U3RlcCIsInhTdGVwcyIsInNuYXAiLCJiIiwicm91bmQiLCJjbG9zZXN0IiwiUGlwc1R5cGUiLCJQaXBzTW9kZSIsIlNwZWN0cnVtIiwic2luZ2xlU3RlcCIsImluZGV4IiwidGhpcyIsInhOdW1TdGVwcyIsInhIaWdoZXN0Q29tcGxldGVTdGVwIiwib3JkZXJlZCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwicHVzaCIsInNvcnQiLCJoYW5kbGVFbnRyeVBvaW50IiwiaGFuZGxlU3RlcFBvaW50IiwicHJvdG90eXBlIiwiZ2V0RGlzdGFuY2UiLCJkaXN0YW5jZXMiLCJnZXRBYnNvbHV0ZURpc3RhbmNlIiwiZGlyZWN0aW9uIiwic3RhcnRfZmFjdG9yIiwieFBjdF9pbmRleCIsInJlc3RfZmFjdG9yIiwicmVzdF9yZWxfZGlzdGFuY2UiLCJyYW5nZV9wY3QiLCJyZWxfcmFuZ2VfZGlzdGFuY2UiLCJhYnNfZGlzdGFuY2VfY291bnRlciIsInJhbmdlX2NvdW50ZXIiLCJmcm9tU3RlcHBpbmciLCJpc1BlcmNlbnRhZ2UiLCJnZXREZWZhdWx0U3RlcCIsImlzRG93biIsInNpemUiLCJnZXROZWFyYnlTdGVwcyIsInN0ZXBCZWZvcmUiLCJzdGFydFZhbHVlIiwic3RlcCIsImhpZ2hlc3RTdGVwIiwidGhpc1N0ZXAiLCJzdGVwQWZ0ZXIiLCJjb3VudFN0ZXBEZWNpbWFscyIsInN0ZXBEZWNpbWFscyIsIm1hcCIsImFwcGx5IiwiaGFzTm9TaXplIiwiY29udmVydCIsInBlcmNlbnRhZ2UiLCJwYXJzZUZsb2F0IiwiRXJyb3IiLCJ2YWx1ZTEiLCJOdW1iZXIiLCJpIiwibiIsInRvdGFsU3RlcHMiLCJjZWlsIiwidG9GaXhlZCIsImRlZmF1bHRGb3JtYXR0ZXIiLCJmcm9tIiwiY3NzQ2xhc3NlcyIsInRhcmdldCIsImJhc2UiLCJvcmlnaW4iLCJoYW5kbGUiLCJoYW5kbGVMb3dlciIsImhhbmRsZVVwcGVyIiwidG91Y2hBcmVhIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiYmFja2dyb3VuZCIsImNvbm5lY3QiLCJjb25uZWN0cyIsImx0ciIsInJ0bCIsInRleHREaXJlY3Rpb25MdHIiLCJ0ZXh0RGlyZWN0aW9uUnRsIiwiZHJhZ2dhYmxlIiwiZHJhZyIsInRhcCIsImFjdGl2ZSIsInRvb2x0aXAiLCJwaXBzIiwicGlwc0hvcml6b250YWwiLCJwaXBzVmVydGljYWwiLCJtYXJrZXIiLCJtYXJrZXJIb3Jpem9udGFsIiwibWFya2VyVmVydGljYWwiLCJtYXJrZXJOb3JtYWwiLCJtYXJrZXJMYXJnZSIsIm1hcmtlclN1YiIsInZhbHVlSG9yaXpvbnRhbCIsInZhbHVlVmVydGljYWwiLCJ2YWx1ZU5vcm1hbCIsInZhbHVlTGFyZ2UiLCJ2YWx1ZVN1YiIsIklOVEVSTkFMX0VWRU5UX05TIiwidGVzdFN0ZXAiLCJwYXJzZWQiLCJ0ZXN0S2V5Ym9hcmRQYWdlTXVsdGlwbGllciIsImtleWJvYXJkUGFnZU11bHRpcGxpZXIiLCJ0ZXN0S2V5Ym9hcmRNdWx0aXBsaWVyIiwia2V5Ym9hcmRNdWx0aXBsaWVyIiwidGVzdEtleWJvYXJkRGVmYXVsdFN0ZXAiLCJrZXlib2FyZERlZmF1bHRTdGVwIiwidGVzdFJhbmdlIiwic3BlY3RydW0iLCJ0ZXN0U3RhcnQiLCJoYW5kbGVzIiwic3RhcnQiLCJ0ZXN0U25hcCIsInRlc3RBbmltYXRlIiwiYW5pbWF0ZSIsInRlc3RBbmltYXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uIiwidGVzdENvbm5lY3QiLCJ0ZXN0T3JpZW50YXRpb24iLCJvcnQiLCJ0ZXN0TWFyZ2luIiwibWFyZ2luIiwidGVzdExpbWl0IiwidGVzdFBhZGRpbmciLCJwYWRkaW5nIiwidG90YWxQYWRkaW5nIiwiZmlyc3RWYWx1ZSIsInRlc3REaXJlY3Rpb24iLCJkaXIiLCJ0ZXN0QmVoYXZpb3VyIiwiaW5kZXhPZiIsImZpeGVkIiwiaG92ZXIiLCJ1bmNvbnN0cmFpbmVkIiwiZHJhZ0FsbCIsImV2ZW50cyIsInRlc3RUb29sdGlwcyIsInRvb2x0aXBzIiwiZm9ybWF0dGVyIiwidGVzdEhhbmRsZUF0dHJpYnV0ZXMiLCJoYW5kbGVBdHRyaWJ1dGVzIiwidGVzdEFyaWFGb3JtYXQiLCJhcmlhRm9ybWF0IiwidGVzdEZvcm1hdCIsImlzVmFsaWRGb3JtYXR0ZXIiLCJmb3JtYXQiLCJ0ZXN0S2V5Ym9hcmRTdXBwb3J0Iiwia2V5Ym9hcmRTdXBwb3J0IiwidGVzdERvY3VtZW50RWxlbWVudCIsInRlc3RDc3NQcmVmaXgiLCJjc3NQcmVmaXgiLCJ0ZXN0Q3NzQ2xhc3NlcyIsImtleSIsInRlc3RPcHRpb25zIiwib3B0aW9ucyIsInRlc3RzIiwiciIsInQiLCJvcmllbnRhdGlvbiIsImJlaGF2aW91ciIsImRlZmF1bHRzIiwibmFtZSIsImQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJtc1ByZWZpeCIsInN0eWxlIiwibXNUcmFuc2Zvcm0iLCJub1ByZWZpeCIsInRyYW5zZm9ybSIsInRyYW5zZm9ybVJ1bGUiLCJzY29wZSIsIm9yaWdpbmFsT3B0aW9ucyIsInNjb3BlX0Jhc2UiLCJzY29wZV9IYW5kbGVzIiwic2NvcGVfQ29ubmVjdHMiLCJzY29wZV9QaXBzIiwic2NvcGVfVG9vbHRpcHMiLCJhZGRUYXJnZXQiLCJhY3Rpb25zIiwibmF2aWdhdG9yIiwicG9pbnRlckVuYWJsZWQiLCJtb3ZlIiwiZW5kIiwibXNQb2ludGVyRW5hYmxlZCIsInN1cHBvcnRzUGFzc2l2ZSIsIkNTUyIsInN1cHBvcnRzIiwib3B0cyIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldFN1cHBvcnRzUGFzc2l2ZSIsInNjb3BlX1RhcmdldCIsInNjb3BlX1NwZWN0cnVtIiwic2NvcGVfVmFsdWVzIiwic2NvcGVfTG9jYXRpb25zIiwic2NvcGVfSGFuZGxlTnVtYmVycyIsInNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCIsInNjb3BlX0V2ZW50cyIsInNjb3BlX0RvY3VtZW50Iiwib3duZXJEb2N1bWVudCIsInNjb3BlX0RvY3VtZW50RWxlbWVudCIsInNjb3BlX0JvZHkiLCJzY29wZV9EaXJPZmZzZXQiLCJhZGROb2RlVG8iLCJkaXYiLCJhcHBlbmRDaGlsZCIsImFkZE9yaWdpbiIsImhhbmRsZU51bWJlciIsInNldEF0dHJpYnV0ZSIsImV2ZW50IiwiaXNTbGlkZXJEaXNhYmxlZCIsImlzSGFuZGxlRGlzYWJsZWQiLCJob3Jpem9udGFsS2V5cyIsInZlcnRpY2FsS2V5cyIsImxhcmdlU3RlcEtleXMiLCJlZGdlS2V5cyIsInJldmVyc2UiLCJpc0xhcmdlRG93biIsImlzTGFyZ2VVcCIsImlzVXAiLCJpc01pbiIsImlzTWF4IiwiZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlIiwic2V0SGFuZGxlIiwiZmlyZUV2ZW50IiwiZXZlbnRLZXlkb3duIiwiYXR0cmlidXRlc18xIiwiYXR0cmlidXRlIiwiYWRkQ29ubmVjdCIsImFkZFRvb2x0aXAiLCJmaXJzdENoaWxkIiwiaGFzQXR0cmlidXRlIiwicmVtb3ZlVG9vbHRpcHMiLCJyZW1vdmVFdmVudCIsImJpbmRFdmVudCIsInZhbHVlcyIsInVuZW5jb2RlZCIsImZvcm1hdHRlZFZhbHVlIiwiaW5uZXJIVE1MIiwibWFwVG9SYW5nZSIsInN0ZXBwZWQiLCJnZW5lcmF0ZVNwcmVhZCIsImFycmF5IiwiZ3JvdXAiLCJtb2RlIiwiUmFuZ2UiLCJTdGVwcyIsIkNvdW50IiwiaW50ZXJ2YWwiLCJzcHJlYWQiLCJQb3NpdGlvbnMiLCJWYWx1ZXMiLCJnZXRHcm91cCIsImluZGV4ZXMiLCJmaXJzdEluUmFuZ2UiLCJsYXN0SW5SYW5nZSIsImlnbm9yZUZpcnN0IiwiaWdub3JlTGFzdCIsInByZXZQY3QiLCJmaWx0ZXIiLCJ1bnNoaWZ0IiwiY3VycmVudCIsInEiLCJuZXdQY3QiLCJwY3REaWZmZXJlbmNlIiwicGN0UG9zIiwidHlwZSIsInN0ZXBzIiwicmVhbFN0ZXBzIiwic3RlcFNpemUiLCJsb3ciLCJoaWdoIiwiaXNTdGVwcyIsImRlbnNpdHkiLCJMYXJnZVZhbHVlIiwiU21hbGxWYWx1ZSIsIk5vVmFsdWUiLCJhZGRNYXJraW5nIiwiZmlsdGVyRnVuYyIsIl9hIiwiX2IiLCJ2YWx1ZVNpemVDbGFzc2VzIiwiTm9uZSIsIm1hcmtlclNpemVDbGFzc2VzIiwidmFsdWVPcmllbnRhdGlvbkNsYXNzZXMiLCJtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXMiLCJnZXRDbGFzc2VzIiwic291cmNlIiwic2l6ZUNsYXNzZXMiLCJvZmZzZXQiLCJub2RlIiwiYWRkU3ByZWFkIiwicmVtb3ZlUGlwcyIsImJhc2VTaXplIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwiYXR0YWNoRXZlbnQiLCJjYWxsYmFjayIsImRhdGEiLCJtZXRob2QiLCJwYWdlT2Zmc2V0IiwiZXZlbnRUYXJnZXQiLCJ0b3VjaCIsIm1vdXNlIiwicG9pbnRlciIsImJ1dHRvbnMiLCJ0b3VjaGVzIiwiaXNUb3VjaE9uVGFyZ2V0IiwiY2hlY2tUb3VjaCIsImNvbnRhaW5zIiwiY29tcG9zZWQiLCJjb21wb3NlZFBhdGgiLCJzaGlmdCIsInRhcmdldFRvdWNoZXMiLCJjYWxsIiwicGFnZVgiLCJwYWdlWSIsInRhcmdldFRvdWNoIiwiZmluZCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwb2ludHMiLCJjdXJzb3IiLCJmaXhFdmVudCIsImRvTm90UmVqZWN0IiwiY2FsY1BvaW50IiwibWV0aG9kcyIsImV2ZW50TmFtZSIsInBhc3NpdmUiLCJjYWxjUG9pbnRUb1BlcmNlbnRhZ2UiLCJlbGVtIiwiZG9jRWxlbSIsInByb3Bvc2FsIiwidXNlckFnZW50IiwidG9wIiwiY2xpZW50VG9wIiwibGVmdCIsImNsaWVudExlZnQiLCJkb2N1bWVudExlYXZlIiwibm9kZU5hbWUiLCJyZWxhdGVkVGFyZ2V0IiwiZXZlbnRFbmQiLCJldmVudE1vdmUiLCJhcHBWZXJzaW9uIiwiYnV0dG9uc1Byb3BlcnR5IiwibW92ZW1lbnQiLCJzdGFydENhbGNQb2ludCIsIm1vdmVIYW5kbGVzIiwibG9jYXRpb25zIiwiaGFuZGxlTnVtYmVycyIsImxpc3RlbmVycyIsImMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0WmluZGV4IiwiZXZlbnRTdGFydCIsInNvbWUiLCJjaGlsZHJlbiIsInN0b3BQcm9wYWdhdGlvbiIsIm1vdmVFdmVudCIsImVuZEV2ZW50Iiwib3V0RXZlbnQiLCJjb25jYXQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZXZlbnRUYXAiLCJjbGlja2VkUG9zaXRpb24iLCJzbWFsbGVzdERpZmZlcmVuY2UiLCJoYW5kbGVQb3NpdGlvbiIsImRpZmZlcmVuY2VXaXRoVGhpc0hhbmRsZSIsImdldENsb3Nlc3RIYW5kbGUiLCJldmVudEhvdmVyIiwidGFyZ2V0RXZlbnQiLCJzY29wZV9TZWxmIiwibmFtZXNwYWNlZEV2ZW50IiwibmFtZXNwYWNlIiwic3Vic3RyaW5nIiwiYmluZCIsInRFdmVudCIsInROYW1lc3BhY2UiLCJpc0ludGVybmFsTmFtZXNwYWNlIiwiZXZlbnRUeXBlIiwiY2hlY2tIYW5kbGVQb3NpdGlvbiIsInJlZmVyZW5jZSIsImxvb2tCYWNrd2FyZCIsImxvb2tGb3J3YXJkIiwiZ2V0VmFsdWUiLCJkaXN0YW5jZSIsImluUnVsZU9yZGVyIiwidiIsIm8iLCJ1cHdhcmQiLCJwcm9wb3NhbHMiLCJmaXJzdEhhbmRsZSIsImYiLCJzdGF0ZSIsInRyYW5zZm9ybURpcmVjdGlvbiIsInpJbmRleCIsImV4YWN0SW5wdXQiLCJ0cmFuc2xhdGVSdWxlIiwidXBkYXRlQ29ubmVjdCIsInVwZGF0ZUhhbmRsZVBvc2l0aW9uIiwibCIsImgiLCJjb25uZWN0V2lkdGgiLCJzY2FsZVJ1bGUiLCJyZXNvbHZlVG9WYWx1ZSIsInZhbHVlU2V0IiwiaW5wdXQiLCJmaXJlU2V0RXZlbnQiLCJpc0luaXQiLCJzcGFjZV8xIiwidmFsdWVHZXQiLCJsb2NhdGlvbiIsIm5lYXJieVN0ZXBzIiwiaW5jcmVtZW50IiwiZGVjcmVtZW50IiwiY29ubmVjdE9wdGlvbnMiLCJjb25uZWN0QmFzZSIsImFkZEVsZW1lbnRzIiwiaGFuZGxlQmVmb3JlIiwiaGFuZGxlQWZ0ZXIiLCJldmVudEhvbGRlcnMiLCJoYW5kbGVzVG9EcmFnIiwiaGFuZGxlTnVtYmVyc1RvRHJhZyIsImV2ZW50SG9sZGVyIiwicG9zaXRpb25zIiwibm93IiwidGV4dCIsImRlc3Ryb3kiLCJub1VpU2xpZGVyIiwib24iLCJvZmYiLCJzZXQiLCJyZXNldCIsIl9fbW92ZUhhbmRsZXMiLCJ1cGRhdGVPcHRpb25zIiwib3B0aW9uc1RvVXBkYXRlIiwidXBkYXRlQWJsZSIsIm5ld09wdGlvbnMiLCJnZXRQb3NpdGlvbnMiLCJnZXRUb29sdGlwcyIsImdldE9yaWdpbnMiLCJpbml0aWFsaXplIiwiYXBpIiwibm91aXNsaWRlciIsIl9fc3BlY3RydW0iLCJjcmVhdGUiLCJmYWN0b3J5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIkZpbHRlciIsImNvbnN0cnVjdG9yIiwiT2JqZWN0RmxhZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJnZXRTaGFwZSIsImFyIiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmYXZvcml0ZSIsImNoZWNrZWQiLCJrZXlGaWx0ZXIiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiRmlsdGVyRmlyc3QiLCJub2RlTGlzdCIsInN1cGVyIiwiZ2V0Rmlyc3RGaWx0ZXJzIiwiZGF0YVBhcmVudCIsInBhcmVudE5vZGUiLCJkYXRhc2V0IiwiZGF0YUl0ZW0iLCJ0b2dnbGUiLCJTbGlkZXJSZW5kZXIiLCJzbGlkZXJzUmVuZGVyQ291bnQiLCJzbGlkZXJDb3VudCIsIm91dHB1dHMiLCJ2YWx1ZUNvdW50Iiwic2xpZGVyc1JlbmRlclllYXJzIiwic2xpZGVyWWVhcnMiLCJ2YWx1ZVllYXIiLCJ5ZWFyIiwiY291bnQiLCJnZXRTb3J0SXRlbXMiLCJjdXJyZW50QXJyIiwiYXJlYSIsImFycmF5WSIsImFycmF5U2xpZGVyIiwiaXRlbSIsImdldFNvcnRQYWdlIiwiYXJyYXlTbGlkIiwiZ2V0U29ydFBhZ2VQYWdlIiwic2VsZWN0IiwicG9wdXBBY3RpdmUiLCJTaG93UG9wdXAiLCJvdmVybGF5IiwicG9wdXAiLCJjbG9zZSIsImFwcGVuZCIsImFycmF5RmF2b3JpdGUiLCJoZWFkZXJSZW5kZXIiLCJoZWFkZXJDb250YWluZXIiLCJtYWluQ29udGFpbmVyIiwiZ2V0Q2FyZCIsImVsZW1lbnRDaGVjayIsInNsaWRlclJlbmRlciIsImxvYWRlciIsImdldFRveUxpc3QiLCJyZXMiLCJmZXRjaCIsImpzb24iLCJsaXN0Iiwic2hhcGUiLCJjb2xvciIsImZhdm9yaXRlcyIsImNvdW50U29ydCIsImlzU2VhcmNoIiwic2VhcmNoaW5nIiwiZmlsdGVycyIsImZpbHRlcnNEYXRhIiwibG9hZFJlbmRlciIsInJlbmRlciIsImNhcmRDb250YWluZXIiLCJjYXJkIiwibnVtIiwibGFzdENoaWxkIiwiY29uc29sZSIsImxvZyIsImZhdm9yaXRlQ2hlY2siLCJyZW5kZXJQYWdlIiwiZWxlbWVudExpc3QiLCJvYmpGaWx0ZXIiLCJhcnJheUNvdW50IiwiYXJyYXlZZWFycyIsInNlYXJjaCIsImJhY2tncm91bmRTaXplIiwidG9Mb3dlckNhc2UiLCJjb2xsZWN0aW9uIiwicmVzZXRGaWx0ZXJzIiwiY2xlYXIiXSwic291cmNlUm9vdCI6IiJ9